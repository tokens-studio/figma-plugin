/*! For license information please see code.js.LICENSE.txt */
(()=>{var e={65012:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyMatrixToPoint=function(e,t){return[t[0]*e[0][0]+t[1]*e[0][1]+e[0][2],t[0]*e[1][0]+t[1]*e[1][1]+e[1][2]]}},9802:(e,t)=>{"use strict";function r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n,o=void 0===t?"undefined":(n=t)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n;if("undefined"===o||"number"===o||"string"===o||"boolean"===o||"symbol"===o||null===t)return t;if("object"===o){if(r(t,Array))return t.map(e);if(r(t,Uint8Array))return new Uint8Array(t);var i={};for(var a in t)i[a]=e(t[a]);return i}throw"unknown"}},75393:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.figmaRGBToWebRGB=n,t.webRGBToFigmaRGB=o,t.figmaRGBToHex=function(e){var t="#",r=n(e);if(t+=((1<<24)+(r[0]<<16)+(r[1]<<8)+r[2]).toString(16).slice(1),void 0!==r[3]){var o=Math.round(255*r[3]).toString(16);1==o.length?t+="0"+o:"ff"!==o&&(t+=o)}return t},t.hexToFigmaRGB=function(e){var t="";if("#"===(e=e.toLowerCase())[0]&&(e=e.slice(1)),3===e.length)e=e.replace(/(.)(.)(.)?/g,"$1$1$2$2$3$3");else if(8===e.length){var r=e.match(/(.{6})(.{2})/);e=r[1],t=r[2]}var n=parseInt(e,16),i=[n>>16,n>>8&255,255&n];return t?(i.push(parseInt(t,16)/255),o(i)):o(i)};var r=["r","g","b"];function n(e){var t=[];return r.forEach((function(r,n){t[n]=Math.round(255*e[r])})),void 0!==e.a&&(t[3]=Math.round(100*e.a)/100),t}function o(e){var t={};return r.forEach((function(r,n){t[r]=e[n]/255})),void 0!==e[3]&&(t.a=e[3]),t}},67954:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.extractImageCropParams=function(e,t,r){var n=2===r.length?o(r).concat([[0,0,1]]):o(r),i=(0,a.default)(n),s=[[0,0],[1,0],[1,1],[0,1]].map((function(e){return(0,u.applyMatrixToPoint)(i,e)})),l=Math.atan2(s[1][1]-s[0][1],s[1][0]-s[0][0]),c=Math.sqrt(Math.pow(s[1][0]-s[0][0],2)+Math.pow(s[1][1]-s[0][1],2)),f=Math.sqrt(Math.pow(s[2][0]-s[1][0],2)+Math.pow(s[2][1]-s[1][1],2));return{rotation:l*(180/Math.PI),scale:[c,f],size:[c*e,f*t],position:[-s[0][0]*e,-s[0][1]*t]}};var i,a=(i=r(32655))&&i.__esModule?i:{default:i},u=r(65012)},75311:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.extractLinearGradientParamsFromTransform=function(e,t,r){var n=2===r.length?o(r).concat([[0,0,1]]):o(r),i=(0,a.default)(n),s=[[0,.5],[1,.5]].map((function(e){return(0,u.applyMatrixToPoint)(i,e)}));return{start:[s[0][0]*e,s[0][1]*t],end:[s[1][0]*e,s[1][1]*t]}};var i,a=(i=r(32655))&&i.__esModule?i:{default:i},u=r(65012)},58290:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.extractRadialOrDiamondGradientParams=function(e,t,r){var n=2===r.length?o(r).concat([[0,0,1]]):o(r),i=(0,a.default)(n),s=(0,u.applyMatrixToPoint)(i,[.5,.5]),l=(0,u.applyMatrixToPoint)(i,[1,.5]),c=(0,u.applyMatrixToPoint)(i,[.5,1]),f=Math.sqrt(Math.pow(l[0]-s[0],2)+Math.pow(l[1]-s[1],2)),p=Math.sqrt(Math.pow(c[0]-s[0],2)+Math.pow(c[1]-s[1],2));return{rotation:Math.atan((l[1]-s[1])/(l[0]-s[0]))*(180/Math.PI),center:[s[0]*e,s[1]*t],radius:[f*e,p*t]}};var i,a=(i=r(32655))&&i.__esModule?i:{default:i},u=r(65012)},33408:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=void 0;var o=r(49534),i=function(e,t){for(var r=[],a=0;a<e.length;a++)if(t(e[a],a,e))r.push(e[a]);else if((0,o.hasChildren)(e[a])){var u;(u=r).push.apply(u,function(e){if(Array.isArray(e))return n(e)}(s=i(e[a].children,t))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(s)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}var s;return r};t.findAll=i},39990:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],r=function(e){t.some((function(t){return t.family===e.family&&t.style===e.style}))||t.push(e)},n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;if(s.fontName===figma.mixed)for(var l=s.characters.length,c=0;c<l;c++)r(s.getRangeFontName(c,c+1));else r(s.fontName)}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return t}},83053:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={x:0,y:0,x2:0,y2:0,height:0,width:0};if(e.length){var r,n,a,u,c=e.reduce((function(e,t){if(!t.absoluteTransform)return console.warn("Provided node haven't \"absoluteTransform\" property, but it's required for calculations."),e;if((0,s.default)(t.height)||(0,s.default)(t.width))return console.warn("Provided node haven't \"width/height\" property, but it's required for calculations."),e;for(var r=t.height/2,n=t.width/2,i=o(t.absoluteTransform,2),a=o(i[0],3),u=a[0],c=a[1],f=a[2],p=o(i[1],3),h=p[0],d=p[1],y=[[u,c,f+n*u+r*c],[h,d,p[2]+n*h+r*d]],v={x:[1,-1,1,-1],y:[1,-1,-1,1]},b=0;b<=3;b++){var g=(0,l.applyMatrixToPoint)(y,[v.x[b]*n,v.y[b]*r]);v.x[b]=g[0],v.y[b]=g[1]}return v.x.sort((function(e,t){return e-t})),v.y.sort((function(e,t){return e-t})),e.x.push(v.x[0]),e.y.push(v.y[0]),e.x2.push(v.x[3]),e.y2.push(v.y[3]),e}),{x:[],y:[],x2:[],y2:[]}),f={x:(r=Math).min.apply(r,i(c.x)),y:(n=Math).min.apply(n,i(c.y)),x2:(a=Math).max.apply(a,i(c.x2)),y2:(u=Math).max.apply(u,i(c.y2))};t.x=f.x,t.y=f.y,t.x2=f.x2,t.y2=f.y2,t.width=f.x2-f.x,t.height=f.y2-f.y}return t};var u,s=(u=r(45166))&&u.__esModule?u:{default:u},l=r(65012)},58096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTextNodeCSS=void 0;var n,o=(n=r(15872))&&n.__esModule?n:{default:n},i=function(e,t,r){var n=(0,o.default)(e,t);return void 0===n?null:"string"==typeof n?r?n.toLowerCase().trim():function(e){return/right|bottom/i.test(e)?"flex-end":/left|top/i.test(e)?"flex-start":/center/i.test(e)?"center":/lower/i.test(e)?"lowercase":/upper/i.test(e)?"uppercase":/title/i.test(e)?"capitalize":"none"}(n.toLowerCase().trim()):"number"==typeof n?"".concat(n,"px"):function(e){return e.hasOwnProperty("unit")}(n)?function(e){var t=e.unit,r=e.value;return"PERCENT"===t?"".concat(r,"%"):"PIXELS"===t?"".concat(r,"px"):"auto"}(n):void console.warn("Unexpected value: ",n)};t.getTextNodeCSS=function(e){return{position:"absolute",top:i(e,"y"),left:i(e,"x"),width:i(e,"width"),height:i(e,"height"),display:"flex","justify-content":i(e,"textAlignHorizontal"),"align-items":i(e,"textAlignVertical"),"text-indent":i(e,"paragraphIndent"),"letter-spacing":i(e,"letterSpacing"),"line-height":i(e,"lineHeight"),"font-size":i(e,"fontSize"),"font-style":i(e,"fontName.style",!0),"font-weight":i(e,"fontName.style",!0),"text-decoration":i(e,"textDecoration",!0),"text-transform":i(e,"textCase"),"font-family":"".concat(i(e,"fontName.family",!0)," ").concat(i(e,"fontName.style",!0))}}},41104:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.parent.children.indexOf(e)}},19838:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){return(0,n.isPageNode)(t)?t:e(t.parent)};var n=r(34418)},21254:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRelativePosition=t.getTopLevelParent=void 0;var n=r(49534),o=function(e){return e&&e.parent&&!(0,n.isPageNode)(e.parent)?o(e.parent):e};t.getTopLevelParent=o,t.getRelativePosition=function(e,t){return t=t||o(e),{x:Math.abs(Math.round(t.absoluteTransform[0][2]-e.absoluteTransform[0][2])),y:Math.abs(Math.round(t.absoluteTransform[1][2]-e.absoluteTransform[1][2]))}}},52980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=void 0,t.hasChildren=function(e){return Boolean(e.children)}},48554:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=t.parent;return"INSTANCE"===r.type||"PAGE"!==r.type&&e(r)}},78203:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){var n=t.parent;return n===r||"PAGE"!==n.type&&e(n,r)}},34418:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isOneOfNodeType=t.isComponentNode=t.isInstanceNode=t.isTextNode=t.isFrameNode=t.isGroupNode=t.isPageNode=void 0,t.isPageNode=function(e){return"PAGE"===e.type},t.isGroupNode=function(e){return"GROUP"===e.type},t.isFrameNode=function(e){return"FRAME"===e.type},t.isTextNode=function(e){return"TEXT"===e.type},t.isInstanceNode=function(e){return"INSTANCE"===e.type},t.isComponentNode=function(e){return"COMPONENT"===e.type},t.isOneOfNodeType=function(e,t){return t.includes(e.type)}},97977:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){return!(!t||!t.parent)&&(t.visible&&"PAGE"!==t.parent.type?e(t.parent):t.visible)}},6556:(e,t)=>{"use strict";function r(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function n(){var e;return e=function(e){var t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return t=e.map((function(e){return figma.loadFontAsync(e)})),[4,Promise.all(t)];case 1:return r.sent(),[2,e]}}))},n=function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function u(e){r(a,o,i,u,s,"next",e)}function s(e){r(a,o,i,u,s,"throw",e)}u(void 0)}))},n.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.apply(this,arguments)}},38103:(e,t,r)=>{"use strict";function n(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return u.apply(this,arguments)};var o=a(r(39990)),i=a(r(6556));function a(e){return e&&e.__esModule?e:{default:e}}function u(){var e;return e=function(e){var t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){return t=(0,o.default)(e),[2,(0,i.default)(t)]}))},u=function(){var t=this,r=arguments;return new Promise((function(o,i){var a=e.apply(t,r);function u(e){n(a,o,i,u,s,"next",e)}function s(e){n(a,o,i,u,s,"throw",e)}u(void 0)}))},u.apply(this,arguments)}},23025:(e,t)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeToObject=void 0;var o=function(e,t){var i,a,u=Object.entries(Object.getOwnPropertyDescriptors(e.__proto__)),s=["parent","children","removed","masterComponent"],l={id:e.id,type:e.type},c=!0,f=!1,p=void 0;try{for(var h,d=u[Symbol.iterator]();!(c=(h=d.next()).done);c=!0){var y=(i=h.value,a=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(i,a)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(i,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),v=y[0],b=y[1];if(b.get&&!s.includes(v))try{"symbol"===n(l[v])?l[v]="Mixed":l[v]=b.get.call(e)}catch(e){l[v]=void 0}}}catch(e){f=!0,p=e}finally{try{c||null==d.return||d.return()}finally{if(f)throw p}}return e.parent&&!t&&(l.parent={id:e.parent.id,type:e.parent.type}),e.children&&!t&&(l.children=e.children.map((function(e){return o(e,t)}))),e.masterComponent&&!t&&(l.masterComponent=o(e.masterComponent,t)),l};t.nodeToObject=o},11852:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function i(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextStyle=function(e){var t=function(t){var r=t+1,n={characters:e.characters[t]};u.forEach((function(i,a){n[o[a]]=e["getRange"+i](t,r)})),i?d(n,i)?i.characters+=n.characters:(a.push(i),i=n):i=n},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;if(n||(n=e.characters.length),o||(o=p),n<=r)return console.error("Start must be greater than end"),[];for(var i,a=[],u=o.map((function(e){return e.replace(/^(.)/g,(function(e){return e.toUpperCase()}))})),s=r;s<n;s++)t(s);return a.push(i),a},t.splitTextStyleIntoLines=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],o=[],a=new RegExp("(.+|(?<=\n)(.?)(?=$))(\n|\u2028)?|(\n|\u2028)","g"),s=new RegExp("\n|\u2028");return e.forEach((function(t,r){if(s.test(t.characters)){var l=t.characters.match(a);if(null===l)n.push(t);else if(1===l.length)n.push(t),o.push(n),n=[];else{var c;(t=(0,u.default)(t)).characters=l.shift(),n.push(t),o.push(n),n=[];var f=l.pop();(c=o).push.apply(c,i(l.map((function(e){return(t=(0,u.default)(t)).characters=e,[t]})))),(t=(0,u.default)(t)).characters=f,""===f?e[r+1]||o.push([t]):n.push(t)}}else n.push(t)})),n.length&&o.push(n),t&&o.forEach((function(e){var t=e[e.length-1];t.characters=t.characters.replace(s,"")})),r&&(o=o.filter((function(e){return 0!==e.filter((function(e){return""!==e.characters.replace(s,"")})).length}))),o},t.joinTextLinesStyles=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,u.default)(e),o="";switch(void 0===r?"undefined":(t=r)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t){case"boolean":r&&(o="\n");break;case"string":o=r}r&&o&&n.forEach((function(e,t){t!==n.length-1&&(e[e.length-1].characters+=o)}));var a=n.shift();return n.forEach((function(e){var t,r=e.shift();d(r,a[a.length-1])?a[a.length-1].characters+=r.characters:a.push(r),e.length&&(t=a).push.apply(t,i(e))})),a},t.applyTextStyleToTextNode=function(e,t){return h.apply(this,arguments)},t.changeCharactersTextStyle=function(e,t){for(var r=0,n=(e=(0,u.default)(e)).length-1,o=t.length,i=0;i<=n;i++){var a=e[i],s=a.characters.length;i==n&&(s=o),a.characters=t.slice(r,r+s),(r+=s)>o&&(e=e.splice(0,i+1))}return e},t.changeTextStyle=function(e,t,r,n){return(e=(0,u.default)(e)).forEach((function(e){(void 0===n||void 0!==n&&(0,s.default)(e[t],n))&&(e[t]=r)})),e};var a=f(r(54528)),u=f(r(43632)),s=f(r(31226)),l=f(r(39990)),c=f(r(6556));function f(e){return e&&e.__esModule?e:{default:e}}var p=["fontSize","fontName","textCase","textDecoration","letterSpacing","lineHeight","fills","textStyleId","fillStyleId"];function h(){var e;return e=function(e,t){var r,n,o,u,f=arguments;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(p){switch(p.label){case 0:return f.length>2&&void 0!==f[2]&&!f[2]?[3,2]:(r=[{family:"Roboto",style:"Regular"}],e[0].fontName&&(n=r).push.apply(n,i(e.map((function(e){return e.fontName})))),t&&(o=r).push.apply(o,i((0,l.default)([t]))),r=(0,a.default)(r,s.default),[4,(0,c.default)(r)]);case 1:p.sent(),p.label=2;case 2:return t||(t=figma.createText()),t.characters=e.reduce((function(e,t){return e+t.characters}),""),u=0,e.forEach((function(e){var r=e.characters.length;if(r){for(var n in e)if("characters"!==n){var o=n.replace(/^(.)/g,(function(e){return e.toUpperCase()}));t["setRange"+o](u,u+r,e[n])}u+=r}})),[2,t]}}))},h=function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function u(e){o(a,n,i,u,s,"next",e)}function s(e){o(a,n,i,u,s,"throw",e)}u(void 0)}))},h.apply(this,arguments)}function d(e,t){var r=!0;for(var n in e)if("characters"!==n&&!(0,s.default)(e[n],t[n])){r=!1;break}return r}},79968:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function u(e){o(a,n,i,u,s,"next",e)}function s(e){o(a,n,i,u,s,"throw",e)}u(void 0)}))}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}function s(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}Object.defineProperty(t,"__esModule",{value:!0}),t.setCharacters=void 0;var l,c,f=(l=r(41289))&&l.__esModule?l:{default:l},p=(c=i((function(e,t,r){var n,o,i,u,l,c,f,p,d,v,b,g;return s(this,(function(s){switch(s.label){case 0:n=(null==r?void 0:r.fallbackFont)||{family:"Roboto",style:"Regular"},s.label=1;case 1:if(s.trys.push([1,11,,13]),e.fontName!==figma.mixed)return[3,8];if("prevail"!==(null==r?void 0:r.smartStrategy))return[3,3];for(o={},i=1;i<e.characters.length;i++)u=e.getRangeFontName(i-1,i),l="".concat(u.family,"::").concat(u.style),o[l]=o[l]?o[l]+1:1;return c=Object.entries(o).sort((function(e,t){return t[1]-e[1]}))[0],f=a(c[0].split("::"),2),p=f[0],d=f[1],v={family:p,style:d},[4,figma.loadFontAsync(v)];case 2:return s.sent(),e.fontName=v,[3,7];case 3:return"strict"!==(null==r?void 0:r.smartStrategy)?[3,4]:[2,h(e,t,n)];case 4:return"experimental"!==(null==r?void 0:r.smartStrategy)?[3,5]:[2,y(e,t,n)];case 5:return b=e.getRangeFontName(0,1),[4,figma.loadFontAsync(b)];case 6:s.sent(),e.fontName=b,s.label=7;case 7:return[3,10];case 8:return[4,figma.loadFontAsync({family:e.fontName.family,style:e.fontName.style})];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return g=s.sent(),console.warn('Failed to load "'.concat(e.fontName.family," ").concat(e.fontName.style,'" font and replaced with fallback "').concat(n.family," ").concat(n.style,'"'),g),[4,figma.loadFontAsync(n)];case 12:return s.sent(),e.fontName=n,[3,13];case 13:try{return e.characters=t,[2,!0]}catch(e){return console.warn("Failed to set characters. Skipped.",e),[2,!1]}return[2]}}))})),function(e,t,r){return c.apply(this,arguments)});t.setCharacters=p;var h=function(){var e=i((function(e,t,r){var n,o,u,l,c,f;return s(this,(function(p){switch(p.label){case 0:for(n={},o=1;o<e.characters.length;o++){for(u=o-1,l=e.getRangeFontName(u,o),c="".concat(l.family,"::").concat(l.style);o<e.characters.length&&(o++,f=e.getRangeFontName(o-1,o),c==="".concat(f.family,"::").concat(f.style)););n["".concat(u,"_").concat(o)]=c}return[4,figma.loadFontAsync(r)];case 1:return p.sent(),e.fontName=r,e.characters=t,console.log(n),[4,Promise.all(Object.keys(n).map(function(){var t=i((function(t){var r,o,i,u,l,c,f;return s(this,(function(s){switch(s.label){case 0:return console.log(t,n[t]),r=a(t.split("_"),2),o=r[0],i=r[1],u=a(n[t].split("::"),2),l=u[0],c=u[1],f={family:l,style:c},[4,figma.loadFontAsync(f)];case 1:return s.sent(),[2,e.setRangeFontName(Number(o),Number(i),f)]}}))}));return function(e){return t.apply(this,arguments)}}()))];case 2:return p.sent(),[2,!0]}}))}));return function(t,r,n){return e.apply(this,arguments)}}(),d=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,o=[],i=r,a=r;a<n;a++)e[a]===t&&a+r!==n&&i!==a+r&&(o.push([i,a+r]),i=a+r+1);return i!==n&&o.push([i,n]),o.filter(Boolean)},y=function(){var e=i((function(e,t,r){var o,i,l;return s(this,(function(s){switch(s.label){case 0:return o=function(e){var t=[];return d(e.characters,"\n").forEach((function(r,n){var o=a(r,2),i=o[0],u=o[1],s=e.getRangeFontName(i,u);s===figma.mixed?d(e.characters," ",i,u).forEach((function(r,n){var o=a(r,2),i=o[0],u=o[1],s=e.getRangeFontName(i,u);if(s===figma.mixed){var l=e.getRangeFontName(i,i[0]);t.push({start:i,delimiter:" ",family:l.family,style:l.style})}else t.push({start:i,delimiter:" ",family:s.family,style:s.style})})):t.push({start:i,delimiter:"\n",family:s.family,style:s.style})})),t.sort((function(e,t){return+e.start-+t.start})).map((function(e){return{family:e.family,style:e.style,delimiter:e.delimiter}}))}(e),i=(0,f.default)(o,(function(e){var t=e.family,r=e.style;return"".concat(t,"::").concat(r)})).map((function(e){return{family:e.family,style:e.style}})),[4,Promise.all((c=i,function(e){if(Array.isArray(e))return n(e)}(c)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||u(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([r]).map(figma.loadFontAsync))];case 1:return s.sent(),e.fontName=r,e.characters=t,l=0,o.forEach((function(t){var r=t.family,n=t.style,o=t.delimiter;if(l<e.characters.length){var i=e.characters.indexOf(o,l),a=i>l?i:e.characters.length,u={family:r,style:n};e.setRangeFontName(l,a,u),l=a+1}})),[2,!0]}var c}))}));return function(t,r,n){return e.apply(this,arguments)}}()},89947:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:figma.currentPage).children.filter((function(e){return"FRAME"===e.type}))}},49534:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"clone",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"getAllFonts",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"getBoundingRect",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"getNodeIndex",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getPage",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return s.hasChildren}}),Object.defineProperty(t,"isPartOfInstance",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"isPartOfNode",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"isVisibleNode",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"loadUniqueFonts",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"loadFonts",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"nodeToObject",{enumerable:!0,get:function(){return d.nodeToObject}}),Object.defineProperty(t,"topLevelFrames",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"getTextNodeCSS",{enumerable:!0,get:function(){return v.getTextNodeCSS}}),Object.defineProperty(t,"findAll",{enumerable:!0,get:function(){return b.findAll}}),Object.defineProperty(t,"getRelativePosition",{enumerable:!0,get:function(){return g.getRelativePosition}}),Object.defineProperty(t,"getTopLevelParent",{enumerable:!0,get:function(){return g.getTopLevelParent}}),Object.defineProperty(t,"figmaRGBToWebRGB",{enumerable:!0,get:function(){return m.figmaRGBToWebRGB}}),Object.defineProperty(t,"webRGBToFigmaRGB",{enumerable:!0,get:function(){return m.webRGBToFigmaRGB}}),Object.defineProperty(t,"figmaRGBToHex",{enumerable:!0,get:function(){return m.figmaRGBToHex}}),Object.defineProperty(t,"hexToFigmaRGB",{enumerable:!0,get:function(){return m.hexToFigmaRGB}}),Object.defineProperty(t,"isComponentNode",{enumerable:!0,get:function(){return w.isComponentNode}}),Object.defineProperty(t,"isFrameNode",{enumerable:!0,get:function(){return w.isFrameNode}}),Object.defineProperty(t,"isGroupNode",{enumerable:!0,get:function(){return w.isGroupNode}}),Object.defineProperty(t,"isInstanceNode",{enumerable:!0,get:function(){return w.isInstanceNode}}),Object.defineProperty(t,"isPageNode",{enumerable:!0,get:function(){return w.isPageNode}}),Object.defineProperty(t,"isTextNode",{enumerable:!0,get:function(){return w.isTextNode}}),Object.defineProperty(t,"isOneOfNodeType",{enumerable:!0,get:function(){return w.isOneOfNodeType}}),Object.defineProperty(t,"extractImageCropParams",{enumerable:!0,get:function(){return S.extractImageCropParams}}),Object.defineProperty(t,"extractLinearGradientParamsFromTransform",{enumerable:!0,get:function(){return E.extractLinearGradientParamsFromTransform}}),Object.defineProperty(t,"extractRadialOrDiamondGradientParams",{enumerable:!0,get:function(){return O.extractRadialOrDiamondGradientParams}}),Object.defineProperty(t,"setCharacters",{enumerable:!0,get:function(){return x.setCharacters}}),Object.defineProperty(t,"parseTextStyle",{enumerable:!0,get:function(){return k.parseTextStyle}}),Object.defineProperty(t,"splitTextStyleIntoLines",{enumerable:!0,get:function(){return k.splitTextStyleIntoLines}}),Object.defineProperty(t,"joinTextLinesStyles",{enumerable:!0,get:function(){return k.joinTextLinesStyles}}),Object.defineProperty(t,"applyTextStyleToTextNode",{enumerable:!0,get:function(){return k.applyTextStyleToTextNode}}),Object.defineProperty(t,"changeCharactersTextStyle",{enumerable:!0,get:function(){return k.changeCharactersTextStyle}}),Object.defineProperty(t,"changeTextStyle",{enumerable:!0,get:function(){return k.changeTextStyle}});var n=A(r(9802)),o=A(r(39990)),i=A(r(83053)),a=A(r(41104)),u=A(r(19838)),s=r(52980),l=A(r(48554)),c=A(r(78203)),f=A(r(97977)),p=A(r(38103)),h=A(r(6556)),d=r(23025),y=A(r(89947)),v=r(58096),b=r(33408),g=r(21254),m=r(75393),w=r(34418),S=r(67954),E=r(75311),O=r(58290),x=r(79968),k=r(11852);function A(e){return e&&e.__esModule?e:{default:e}}},54806:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function o(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function i(e,t,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var u=new o(n,i||e,a),s=r?r+t:t;return e._events[s]?e._events[s].fn?e._events[s]=[e._events[s],u]:e._events[s].push(u):(e._events[s]=u,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function u(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),u.prototype.eventNames=function(){var e,n,o=[];if(0===this._eventsCount)return o;for(n in e=this._events)t.call(e,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},u.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,i=n.length,a=new Array(i);o<i;o++)a[o]=n[o].fn;return a},u.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,o,i,a){var u=r?r+e:e;if(!this._events[u])return!1;var s,l,c=this._events[u],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,o),!0;case 5:return c.fn.call(c.context,t,n,o,i),!0;case 6:return c.fn.call(c.context,t,n,o,i,a),!0}for(l=1,s=new Array(f-1);l<f;l++)s[l-1]=arguments[l];c.fn.apply(c.context,s)}else{var p,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,o);break;default:if(!s)for(p=1,s=new Array(f-1);p<f;p++)s[p-1]=arguments[p];c[l].fn.apply(c[l].context,s)}}return!0},u.prototype.on=function(e,t,r){return i(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return i(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,n,o){var i=r?r+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var u=this._events[i];if(u.fn)u.fn!==t||o&&!u.once||n&&u.context!==n||a(this,i);else{for(var s=0,l=[],c=u.length;s<c;s++)(u[s].fn!==t||o&&!u[s].once||n&&u[s].context!==n)&&l.push(u[s]);l.length?this._events[i]=1===l.length?l[0]:l:a(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u},85465:(e,t,r)=>{"use strict";var n=r(83225);function o(e){return!0===n(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,r;return!1!==o(e)&&"function"==typeof(t=e.constructor)&&!1!==o(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}},83225:e=>{"use strict";e.exports=function(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}},14497:(e,t,r)=>{var n=r(54661)(r(32512),"DataView");e.exports=n},76065:(e,t,r)=>{var n=r(40560),o=r(17735),i=r(96083),a=r(69423),u=r(91225);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},86811:(e,t,r)=>{var n=r(57046),o=r(39969),i=r(13044),a=r(83533),u=r(57858);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},37267:(e,t,r)=>{var n=r(54661)(r(32512),"Map");e.exports=n},49392:(e,t,r)=>{var n=r(9088),o=r(85498),i=r(37948),a=r(99021),u=r(91097);function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=n,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,e.exports=s},13779:(e,t,r)=>{var n=r(54661)(r(32512),"Promise");e.exports=n},13507:(e,t,r)=>{var n=r(54661)(r(32512),"Set");e.exports=n},15157:(e,t,r)=>{var n=r(49392),o=r(98738),i=r(49668);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},81753:(e,t,r)=>{var n=r(86811),o=r(87803),i=r(245),a=r(7695),u=r(9244),s=r(54164);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=u,l.prototype.set=s,e.exports=l},69554:(e,t,r)=>{var n=r(32512).Symbol;e.exports=n},80772:(e,t,r)=>{var n=r(32512).Uint8Array;e.exports=n},98131:(e,t,r)=>{var n=r(54661)(r(32512),"WeakMap");e.exports=n},19686:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},88749:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}},890:(e,t,r)=>{var n=r(59838);e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},78389:e=>{e.exports=function(e,t,r){for(var n=-1,o=null==e?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}},57297:(e,t,r)=>{var n=r(46531),o=r(69186),i=r(53769),a=r(58816),u=r(54068),s=r(83940),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),c=!r&&o(e),f=!r&&!c&&a(e),p=!r&&!c&&!f&&s(e),h=r||c||f||p,d=h?n(e.length,String):[],y=d.length;for(var v in e)!t&&!l.call(e,v)||h&&("length"==v||f&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,y))||d.push(v);return d}},76710:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},30339:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},53546:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},74534:(e,t,r)=>{var n=r(63616),o=r(75579),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];i.call(e,t)&&o(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},73184:(e,t,r)=>{var n=r(75579);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},31743:(e,t,r)=>{var n=r(49574),o=r(22649);e.exports=function(e,t){return e&&n(t,o(t),e)}},80779:(e,t,r)=>{var n=r(49574),o=r(93948);e.exports=function(e,t){return e&&n(t,o(t),e)}},63616:(e,t,r)=>{var n=r(39864);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},70621:(e,t,r)=>{var n=r(81753),o=r(19686),i=r(74534),a=r(31743),u=r(80779),s=r(57315),l=r(47556),c=r(34657),f=r(5844),p=r(26566),h=r(79010),d=r(28854),y=r(10256),v=r(15612),b=r(45712),g=r(53769),m=r(58816),w=r(48235),S=r(48947),E=r(43268),O=r(22649),x=r(93948),k="[object Arguments]",A="[object Function]",T="[object Object]",P={};P[k]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[T]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[A]=P["[object WeakMap]"]=!1,e.exports=function e(t,r,I,_,R,N){var M,j=1&r,C=2&r,L=4&r;if(I&&(M=R?I(t,_,R,N):I(t)),void 0!==M)return M;if(!S(t))return t;var D=g(t);if(D){if(M=y(t),!j)return l(t,M)}else{var B=d(t),F=B==A||"[object GeneratorFunction]"==B;if(m(t))return s(t,j);if(B==T||B==k||F&&!R){if(M=C||F?{}:b(t),!j)return C?f(t,u(M,t)):c(t,a(M,t))}else{if(!P[B])return R?t:{};M=v(t,B,j)}}N||(N=new n);var G=N.get(t);if(G)return G;N.set(t,M),E(t)?t.forEach((function(n){M.add(e(n,r,I,n,t,N))})):w(t)&&t.forEach((function(n,o){M.set(o,e(n,r,I,o,t,N))}));var U=D?void 0:(L?C?h:p:C?x:O)(t);return o(U||t,(function(n,o){U&&(n=t[o=n]),i(M,o,e(n,r,I,o,t,N))})),M}},9205:(e,t,r)=>{var n=r(48947),o=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},9932:e=>{e.exports=function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},66330:(e,t,r)=>{var n=r(30576),o=r(90306);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[o(t[r++])];return r&&r==i?e:void 0}},74593:(e,t,r)=>{var n=r(30339),o=r(53769);e.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},62331:(e,t,r)=>{var n=r(69554),o=r(82530),i=r(65778),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},75787:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},59838:(e,t,r)=>{var n=r(9932),o=r(28595),i=r(70650);e.exports=function(e,t,r){return t==t?i(e,t,r):n(e,o,r)}},15284:(e,t,r)=>{var n=r(62331),o=r(95407);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},49022:(e,t,r)=>{var n=r(48450),o=r(95407);e.exports=function e(t,r,i,a,u){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!=t&&r!=r:n(t,r,i,a,e,u))}},48450:(e,t,r)=>{var n=r(81753),o=r(99867),i=r(27458),a=r(86047),u=r(28854),s=r(53769),l=r(58816),c=r(83940),f="[object Arguments]",p="[object Array]",h="[object Object]",d=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,y,v,b){var g=s(e),m=s(t),w=g?p:u(e),S=m?p:u(t),E=(w=w==f?h:w)==h,O=(S=S==f?h:S)==h,x=w==S;if(x&&l(e)){if(!l(t))return!1;g=!0,E=!1}if(x&&!E)return b||(b=new n),g||c(e)?o(e,t,r,y,v,b):i(e,t,w,r,y,v,b);if(!(1&r)){var k=E&&d.call(e,"__wrapped__"),A=O&&d.call(t,"__wrapped__");if(k||A){var T=k?e.value():e,P=A?t.value():t;return b||(b=new n),v(T,P,r,y,b)}}return!!x&&(b||(b=new n),a(e,t,r,y,v,b))}},60479:(e,t,r)=>{var n=r(28854),o=r(95407);e.exports=function(e){return o(e)&&"[object Map]"==n(e)}},46058:(e,t,r)=>{var n=r(81753),o=r(49022);e.exports=function(e,t,r,i){var a=r.length,u=a,s=!i;if(null==e)return!u;for(e=Object(e);a--;){var l=r[a];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<u;){var c=(l=r[a])[0],f=e[c],p=l[1];if(s&&l[2]){if(void 0===f&&!(c in e))return!1}else{var h=new n;if(i)var d=i(f,p,c,e,t,h);if(!(void 0===d?o(p,f,3,i,h):d))return!1}}return!0}},28595:e=>{e.exports=function(e){return e!=e}},80910:(e,t,r)=>{var n=r(60463),o=r(66259),i=r(48947),a=r(49977),u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,p=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?p:u).test(a(e))}},59775:(e,t,r)=>{var n=r(28854),o=r(95407);e.exports=function(e){return o(e)&&"[object Set]"==n(e)}},85312:(e,t,r)=>{var n=r(62331),o=r(76524),i=r(95407),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},57204:(e,t,r)=>{var n=r(51443),o=r(72150),i=r(29265),a=r(53769),u=r(70058);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):n(e):u(e)}},59069:(e,t,r)=>{var n=r(34007),o=r(68087),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},98115:(e,t,r)=>{var n=r(48947),o=r(34007),i=r(37534),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=o(e),r=[];for(var u in e)("constructor"!=u||!t&&a.call(e,u))&&r.push(u);return r}},51443:(e,t,r)=>{var n=r(46058),o=r(66923),i=r(32403);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},72150:(e,t,r)=>{var n=r(49022),o=r(15872),i=r(45739),a=r(86791),u=r(28527),s=r(32403),l=r(90306);e.exports=function(e,t){return a(e)&&u(t)?s(l(e),t):function(r){var a=o(r,e);return void 0===a&&a===t?i(r,e):n(t,a,3)}}},65758:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},66533:(e,t,r)=>{var n=r(66330);e.exports=function(e){return function(t){return n(t,e)}}},46531:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},53481:(e,t,r)=>{var n=r(69554),o=r(76710),i=r(53769),a=r(96659),u=n?n.prototype:void 0,s=u?u.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return s?s.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},73476:e=>{e.exports=function(e){return function(t){return e(t)}}},25564:(e,t,r)=>{var n=r(15157),o=r(890),i=r(78389),a=r(95785),u=r(26092),s=r(14976);e.exports=function(e,t,r){var l=-1,c=o,f=e.length,p=!0,h=[],d=h;if(r)p=!1,c=i;else if(f>=200){var y=t?null:u(e);if(y)return s(y);p=!1,c=a,d=new n}else d=t?[]:h;e:for(;++l<f;){var v=e[l],b=t?t(v):v;if(v=r||0!==v?v:0,p&&b==b){for(var g=d.length;g--;)if(d[g]===b)continue e;t&&d.push(b),h.push(v)}else c(d,b,r)||(d!==h&&d.push(b),h.push(v))}return h}},95785:e=>{e.exports=function(e,t){return e.has(t)}},30576:(e,t,r)=>{var n=r(53769),o=r(86791),i=r(5463),a=r(66962);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:i(a(e))}},75937:(e,t,r)=>{var n=r(80772);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},57315:(e,t,r)=>{e=r.nmd(e);var n=r(32512),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=u?u(r):new e.constructor(r);return e.copy(n),n}},18236:(e,t,r)=>{var n=r(75937);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},94633:e=>{var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},37530:(e,t,r)=>{var n=r(69554),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},57627:(e,t,r)=>{var n=r(75937);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},47556:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},49574:(e,t,r)=>{var n=r(74534),o=r(63616);e.exports=function(e,t,r,i){var a=!r;r||(r={});for(var u=-1,s=t.length;++u<s;){var l=t[u],c=i?i(r[l],e[l],l,r,e):void 0;void 0===c&&(c=e[l]),a?o(r,l,c):n(r,l,c)}return r}},34657:(e,t,r)=>{var n=r(49574),o=r(26234);e.exports=function(e,t){return n(e,o(e),t)}},5844:(e,t,r)=>{var n=r(49574),o=r(43823);e.exports=function(e,t){return n(e,o(e),t)}},75627:(e,t,r)=>{var n=r(32512)["__core-js_shared__"];e.exports=n},26092:(e,t,r)=>{var n=r(13507),o=r(34806),i=r(14976),a=n&&1/i(new n([,-0]))[1]==1/0?function(e){return new n(e)}:o;e.exports=a},39864:(e,t,r)=>{var n=r(54661),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},99867:(e,t,r)=>{var n=r(15157),o=r(53546),i=r(95785);e.exports=function(e,t,r,a,u,s){var l=1&r,c=e.length,f=t.length;if(c!=f&&!(l&&f>c))return!1;var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var d=-1,y=!0,v=2&r?new n:void 0;for(s.set(e,t),s.set(t,e);++d<c;){var b=e[d],g=t[d];if(a)var m=l?a(g,b,d,t,e,s):a(b,g,d,e,t,s);if(void 0!==m){if(m)continue;y=!1;break}if(v){if(!o(t,(function(e,t){if(!i(v,t)&&(b===e||u(b,e,r,a,s)))return v.push(t)}))){y=!1;break}}else if(b!==g&&!u(b,g,r,a,s)){y=!1;break}}return s.delete(e),s.delete(t),y}},27458:(e,t,r)=>{var n=r(69554),o=r(80772),i=r(75579),a=r(99867),u=r(61590),s=r(14976),l=n?n.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,r,n,l,f,p){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=u;case"[object Set]":var d=1&n;if(h||(h=s),e.size!=t.size&&!d)return!1;var y=p.get(e);if(y)return y==t;n|=2,p.set(e,t);var v=a(h(e),h(t),n,l,f,p);return p.delete(e),v;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},86047:(e,t,r)=>{function n(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}var o=r(26566),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,a,u,s){var l=1&r,c=o(e),f=c.length;if(f!=o(t).length&&!l)return!1;for(var p=f;p--;){var h=c[p];if(!(l?h in t:i.call(t,h)))return!1}var d=s.get(e),y=s.get(t);if(d&&y)return d==t&&y==e;var v=!0;s.set(e,t),s.set(t,e);for(var b=l;++p<f;){var g=e[h=c[p]],m=t[h];if(a)var w=l?a(m,g,h,t,e,s):a(g,m,h,e,t,s);if(!(void 0===w?g===m||u(g,m,r,a,s):w)){v=!1;break}b||(b="constructor"==h)}if(v&&!b){var S=e.constructor,E=t.constructor;S==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof S&&n(S,S)&&"function"==typeof E&&n(E,E)||(v=!1)}return s.delete(e),s.delete(t),v}},26174:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},26566:(e,t,r)=>{var n=r(74593),o=r(26234),i=r(22649);e.exports=function(e){return n(e,i,o)}},79010:(e,t,r)=>{var n=r(74593),o=r(43823),i=r(93948);e.exports=function(e){return n(e,i,o)}},30228:(e,t,r)=>{var n=r(76380);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},66923:(e,t,r)=>{var n=r(28527),o=r(22649);e.exports=function(e){for(var t=o(e),r=t.length;r--;){var i=t[r],a=e[i];t[r]=[i,a,n(a)]}return t}},54661:(e,t,r)=>{var n=r(80910),o=r(30202);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},70810:(e,t,r)=>{var n=r(99540)(Object.getPrototypeOf,Object);e.exports=n},82530:(e,t,r)=>{var n=r(69554),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,u),r=e[u];try{e[u]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[u]=r:delete e[u]),o}},26234:(e,t,r)=>{var n=r(88749),o=r(54354),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=u},43823:(e,t,r)=>{var n=r(30339),o=r(70810),i=r(26234),a=r(54354),u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,i(e)),e=o(e);return t}:a;e.exports=u},28854:(e,t,r)=>{var n=r(14497),o=r(37267),i=r(13779),a=r(13507),u=r(98131),s=r(62331),l=r(49977),c="[object Map]",f="[object Promise]",p="[object Set]",h="[object WeakMap]",d="[object DataView]",y=l(n),v=l(o),b=l(i),g=l(a),m=l(u),w=s;(n&&w(new n(new ArrayBuffer(1)))!=d||o&&w(new o)!=c||i&&w(i.resolve())!=f||a&&w(new a)!=p||u&&w(new u)!=h)&&(w=function(e){var t=s(e),r="[object Object]"==t?e.constructor:void 0,n=r?l(r):"";if(n)switch(n){case y:return d;case v:return c;case b:return f;case g:return p;case m:return h}return t}),e.exports=w},30202:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},20463:(e,t,r)=>{var n=r(30576),o=r(69186),i=r(53769),a=r(54068),u=r(76524),s=r(90306);e.exports=function(e,t,r){for(var l=-1,c=(t=n(t,e)).length,f=!1;++l<c;){var p=s(t[l]);if(!(f=null!=e&&r(e,p)))break;e=e[p]}return f||++l!=c?f:!!(c=null==e?0:e.length)&&u(c)&&a(p,c)&&(i(e)||o(e))}},40560:(e,t,r)=>{var n=r(42960);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},17735:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},96083:(e,t,r)=>{var n=r(42960),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},69423:(e,t,r)=>{var n=r(42960),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},91225:(e,t,r)=>{var n=r(42960);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},10256:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},15612:(e,t,r)=>{var n=r(75937),o=r(18236),i=r(94633),a=r(37530),u=r(57627);e.exports=function(e,t,r){var s=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new s(+e);case"[object DataView]":return o(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(e,r);case"[object Map]":case"[object Set]":return new s;case"[object Number]":case"[object String]":return new s(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},45712:(e,t,r)=>{var n=r(9205),o=r(70810),i=r(34007);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(o(e))}},54068:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n,o=void 0===e?"undefined":(n=e)&&"undefined"!=typeof Symbol&&n.constructor===Symbol?"symbol":typeof n;return!!(r=null==r?9007199254740991:r)&&("number"==o||"symbol"!=o&&t.test(e))&&e>-1&&e%1==0&&e<r}},86791:(e,t,r)=>{var n=r(53769),o=r(96659),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r,u=void 0===e?"undefined":(r=e)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r;return!("number"!=u&&"symbol"!=u&&"boolean"!=u&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},76380:e=>{e.exports=function(e){var t,r=void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e}},66259:(e,t,r)=>{var n,o=r(75627),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},34007:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},28527:(e,t,r)=>{var n=r(48947);e.exports=function(e){return e==e&&!n(e)}},57046:e=>{e.exports=function(){this.__data__=[],this.size=0}},39969:(e,t,r)=>{var n=r(73184),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))}},13044:(e,t,r)=>{var n=r(73184);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},83533:(e,t,r)=>{var n=r(73184);e.exports=function(e){return n(this.__data__,e)>-1}},57858:(e,t,r)=>{var n=r(73184);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},9088:(e,t,r)=>{var n=r(76065),o=r(86811),i=r(37267);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},85498:(e,t,r)=>{var n=r(30228);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},37948:(e,t,r)=>{var n=r(30228);e.exports=function(e){return n(this,e).get(e)}},99021:(e,t,r)=>{var n=r(30228);e.exports=function(e){return n(this,e).has(e)}},91097:(e,t,r)=>{var n=r(30228);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},61590:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},32403:e=>{e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},45058:(e,t,r)=>{var n=r(58017);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},42960:(e,t,r)=>{var n=r(54661)(Object,"create");e.exports=n},68087:(e,t,r)=>{var n=r(99540)(Object.keys,Object);e.exports=n},37534:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},63090:(e,t,r)=>{e=r.nmd(e);var n=r(26174),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,u=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=u},65778:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},99540:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},32512:(e,t,r)=>{var n=r(26174),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},98738:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},49668:e=>{e.exports=function(e){return this.__data__.has(e)}},14976:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},87803:(e,t,r)=>{var n=r(86811);e.exports=function(){this.__data__=new n,this.size=0}},245:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},7695:e=>{e.exports=function(e){return this.__data__.get(e)}},9244:e=>{e.exports=function(e){return this.__data__.has(e)}},54164:(e,t,r)=>{var n=r(86811),o=r(37267),i=r(49392);e.exports=function(e,t){var r,a,u=this.__data__;if(r=u,null!=(a=n)&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](r):r instanceof a){var s=u.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++u.size,this;u=this.__data__=new i(s)}return u.set(e,t),this.size=u.size,this}},70650:e=>{e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},5463:(e,t,r)=>{var n=r(45058),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)})),t}));e.exports=a},90306:(e,t,r)=>{var n=r(96659);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},49977:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},43632:(e,t,r)=>{var n=r(70621);e.exports=function(e){return n(e,5)}},75579:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},15872:(e,t,r)=>{var n=r(66330);e.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}},45739:(e,t,r)=>{var n=r(75787),o=r(20463);e.exports=function(e,t){return null!=e&&o(e,t,n)}},29265:e=>{e.exports=function(e){return e}},69186:(e,t,r)=>{var n=r(15284),o=r(95407),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!u.call(e,"callee")};e.exports=s},53769:e=>{var t=Array.isArray;e.exports=t},86940:(e,t,r)=>{var n=r(60463),o=r(76524);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},58816:(e,t,r)=>{e=r.nmd(e);var n=r(32512),o=r(71167),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,u=a&&a.exports===i?n.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;e.exports=s},31226:(e,t,r)=>{var n=r(49022);e.exports=function(e,t){return n(e,t)}},60463:(e,t,r)=>{var n=r(62331),o=r(48947);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},76524:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},48235:(e,t,r)=>{var n=r(60479),o=r(73476),i=r(63090),a=i&&i.isMap,u=a?o(a):n;e.exports=u},48947:e=>{e.exports=function(e){var t,r=void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t;return null!=e&&("object"==r||"function"==r)}},95407:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},43268:(e,t,r)=>{var n=r(59775),o=r(73476),i=r(63090),a=i&&i.isSet,u=a?o(a):n;e.exports=u},96659:(e,t,r)=>{var n=r(62331),o=r(95407);e.exports=function(e){return"symbol"==(void 0===e?"undefined":(t=e)&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t)||o(e)&&"[object Symbol]"==n(e);var t}},83940:(e,t,r)=>{var n=r(85312),o=r(73476),i=r(63090),a=i&&i.isTypedArray,u=a?o(a):n;e.exports=u},45166:e=>{e.exports=function(e){return void 0===e}},22649:(e,t,r)=>{var n=r(57297),o=r(59069),i=r(86940);e.exports=function(e){return i(e)?n(e):o(e)}},93948:(e,t,r)=>{var n=r(57297),o=r(98115),i=r(86940);e.exports=function(e){return i(e)?n(e,!0):o(e)}},58017:(e,t,r)=>{var n=r(49392);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},34806:e=>{e.exports=function(){}},70058:(e,t,r)=>{var n=r(65758),o=r(66533),i=r(86791),a=r(90306);e.exports=function(e){return i(e)?n(a(e)):o(e)}},54354:e=>{e.exports=function(){return[]}},71167:e=>{e.exports=function(){return!1}},66962:(e,t,r)=>{var n=r(53481);e.exports=function(e){return null==e?"":n(e)}},41289:(e,t,r)=>{var n=r(57204),o=r(25564);e.exports=function(e,t){return e&&e.length?o(e,n(t,2)):[]}},54528:(e,t,r)=>{var n=r(25564);e.exports=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?n(e,void 0,t):[]}},8870:(e,t,r)=>{var n,o=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function o(e,t){if(!n[e]){n[e]={};for(var r=0;r<e.length;r++)n[e][e.charAt(r)]=r}return n[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var r=i._compress(e,6,(function(e){return t.charAt(e)}));switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(r){return o(t,e.charAt(r))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),r=new Uint8Array(2*t.length),n=0,o=t.length;n<o;n++){var a=t.charCodeAt(n);r[2*n]=a>>>8,r[2*n+1]=a%256}return r},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var r=new Array(t.length/2),n=0,o=r.length;n<o;n++)r[n]=256*t[2*n]+t[2*n+1];var a=[];return r.forEach((function(t){a.push(e(t))})),i.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return r.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return o(r,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,r){if(null==e)return"";var n,o,i,a={},u={},s="",l="",c="",f=2,p=3,h=2,d=[],y=0,v=0;for(i=0;i<e.length;i+=1)if(s=e.charAt(i),Object.prototype.hasOwnProperty.call(a,s)||(a[s]=p++,u[s]=!0),l=c+s,Object.prototype.hasOwnProperty.call(a,l))c=l;else{if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(n=0;n<h;n++)y<<=1,v==t-1?(v=0,d.push(r(y)),y=0):v++;for(o=c.charCodeAt(0),n=0;n<8;n++)y=y<<1|1&o,v==t-1?(v=0,d.push(r(y)),y=0):v++,o>>=1}else{for(o=1,n=0;n<h;n++)y=y<<1|o,v==t-1?(v=0,d.push(r(y)),y=0):v++,o=0;for(o=c.charCodeAt(0),n=0;n<16;n++)y=y<<1|1&o,v==t-1?(v=0,d.push(r(y)),y=0):v++,o>>=1}0==--f&&(f=Math.pow(2,h),h++),delete u[c]}else for(o=a[c],n=0;n<h;n++)y=y<<1|1&o,v==t-1?(v=0,d.push(r(y)),y=0):v++,o>>=1;0==--f&&(f=Math.pow(2,h),h++),a[l]=p++,c=String(s)}if(""!==c){if(Object.prototype.hasOwnProperty.call(u,c)){if(c.charCodeAt(0)<256){for(n=0;n<h;n++)y<<=1,v==t-1?(v=0,d.push(r(y)),y=0):v++;for(o=c.charCodeAt(0),n=0;n<8;n++)y=y<<1|1&o,v==t-1?(v=0,d.push(r(y)),y=0):v++,o>>=1}else{for(o=1,n=0;n<h;n++)y=y<<1|o,v==t-1?(v=0,d.push(r(y)),y=0):v++,o=0;for(o=c.charCodeAt(0),n=0;n<16;n++)y=y<<1|1&o,v==t-1?(v=0,d.push(r(y)),y=0):v++,o>>=1}0==--f&&(f=Math.pow(2,h),h++),delete u[c]}else for(o=a[c],n=0;n<h;n++)y=y<<1|1&o,v==t-1?(v=0,d.push(r(y)),y=0):v++,o>>=1;0==--f&&(f=Math.pow(2,h),h++)}for(o=2,n=0;n<h;n++)y=y<<1|1&o,v==t-1?(v=0,d.push(r(y)),y=0):v++,o>>=1;for(;;){if(y<<=1,v==t-1){d.push(r(y));break}v++}return d.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,r,n){var o,i,a,u,s,l,c,f=[],p=4,h=4,d=3,y="",v=[],b={val:n(0),position:r,index:1};for(o=0;o<3;o+=1)f[o]=o;for(a=0,s=Math.pow(2,2),l=1;l!=s;)u=b.val&b.position,b.position>>=1,0==b.position&&(b.position=r,b.val=n(b.index++)),a|=(u>0?1:0)*l,l<<=1;switch(a){case 0:for(a=0,s=Math.pow(2,8),l=1;l!=s;)u=b.val&b.position,b.position>>=1,0==b.position&&(b.position=r,b.val=n(b.index++)),a|=(u>0?1:0)*l,l<<=1;c=e(a);break;case 1:for(a=0,s=Math.pow(2,16),l=1;l!=s;)u=b.val&b.position,b.position>>=1,0==b.position&&(b.position=r,b.val=n(b.index++)),a|=(u>0?1:0)*l,l<<=1;c=e(a);break;case 2:return""}for(f[3]=c,i=c,v.push(c);;){if(b.index>t)return"";for(a=0,s=Math.pow(2,d),l=1;l!=s;)u=b.val&b.position,b.position>>=1,0==b.position&&(b.position=r,b.val=n(b.index++)),a|=(u>0?1:0)*l,l<<=1;switch(c=a){case 0:for(a=0,s=Math.pow(2,8),l=1;l!=s;)u=b.val&b.position,b.position>>=1,0==b.position&&(b.position=r,b.val=n(b.index++)),a|=(u>0?1:0)*l,l<<=1;f[h++]=e(a),c=h-1,p--;break;case 1:for(a=0,s=Math.pow(2,16),l=1;l!=s;)u=b.val&b.position,b.position>>=1,0==b.position&&(b.position=r,b.val=n(b.index++)),a|=(u>0?1:0)*l,l<<=1;f[h++]=e(a),c=h-1,p--;break;case 2:return v.join("")}if(0==p&&(p=Math.pow(2,d),d++),f[c])y=f[c];else{if(c!==h)return null;y=i+i.charAt(0)}v.push(y),f[h++]=i+y.charAt(0),i=y,0==--p&&(p=Math.pow(2,d),d++)}}};return i}();void 0===(n=function(){return o}.call(t,r,t,e))||(e.exports=n)},32655:e=>{var t={Matrix:function(){}};t.Matrix.create=function(e){return(new t.Matrix).setElements(e)},t.Matrix.I=function(e){for(var r,n=[],o=e;o--;)for(r=e,n[o]=[];r--;)n[o][r]=o===r?1:0;return t.Matrix.create(n)},t.Matrix.prototype={dup:function(){return t.Matrix.create(this.elements)},isSquare:function(){var e=0===this.elements.length?0:this.elements[0].length;return this.elements.length===e},toRightTriangular:function(){if(0===this.elements.length)return t.Matrix.create([]);var e,r,n,o,i=this.dup(),a=this.elements.length,u=this.elements[0].length;for(r=0;r<a;r++){if(0===i.elements[r][r])for(n=r+1;n<a;n++)if(0!==i.elements[n][r]){for(e=[],o=0;o<u;o++)e.push(i.elements[r][o]+i.elements[n][o]);i.elements[r]=e;break}if(0!==i.elements[r][r])for(n=r+1;n<a;n++){var s=i.elements[n][r]/i.elements[r][r];for(e=[],o=0;o<u;o++)e.push(o<=r?0:i.elements[n][o]-i.elements[r][o]*s);i.elements[n]=e}}return i},determinant:function(){if(0===this.elements.length)return 1;if(!this.isSquare())return null;for(var e=this.toRightTriangular(),t=e.elements[0][0],r=e.elements.length,n=1;n<r;n++)t*=e.elements[n][n];return t},isSingular:function(){return this.isSquare()&&0===this.determinant()},augment:function(e){if(0===this.elements.length)return this.dup();var r=e.elements||e;void 0===r[0][0]&&(r=t.Matrix.create(r).elements);var n,o=this.dup(),i=o.elements[0].length,a=o.elements.length,u=r[0].length;if(a!==r.length)return null;for(;a--;)for(n=u;n--;)o.elements[a][i+n]=r[a][n];return o},inverse:function(){if(0===this.elements.length)return null;if(!this.isSquare()||this.isSingular())return null;for(var e,r,n,o,i,a=this.elements.length,u=a,s=this.augment(t.Matrix.I(a)).toRightTriangular(),l=s.elements[0].length,c=[];u--;){for(n=[],c[u]=[],o=s.elements[u][u],r=0;r<l;r++)i=s.elements[u][r]/o,n.push(i),r>=a&&c[u].push(i);for(s.elements[u]=n,e=u;e--;){for(n=[],r=0;r<l;r++)n.push(s.elements[e][r]-s.elements[u][r]*s.elements[e][u]);s.elements[e]=n}}return t.Matrix.create(c)},setElements:function(e){var t,r,n=e.elements||e;if(n[0]&&void 0!==n[0][0]){for(t=n.length,this.elements=[];t--;)for(r=n[t].length,this.elements[t]=[];r--;)this.elements[t][r]=n[t][r];return this}var o=n.length;for(this.elements=[],t=0;t<o;t++)this.elements.push([n[t]]);return this}},e.exports=function(e){return t.Matrix.create(e).inverse().elements}},59626:e=>{function t(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}e.exports=function e(t,r,n){function o(a,u){if(!r[a]){if(!t[a]){if(i)return i(a,!0);throw new Error("Cannot find module '"+a+"'")}var s=r[a]={exports:{}};t[a][0].call(s.exports,(function(e){return o(t[a][1][e]||e)}),s,s.exports,e,t,r,n)}return r[a].exports}for(var i=void 0,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,r,n){(function(o,i,a,u,s,l,c,f,p){"use strict";var h=e("crypto");function d(e,t){return function(e,t){var r;if(void 0===(r="passthrough"!==t.algorithm?h.createHash(t.algorithm):new w).write&&(r.write=r.update,r.end=r.update),m(t,r).dispatch(e),r.update||r.end(""),r.digest)return r.digest("buffer"===t.encoding?void 0:t.encoding);var n=r.read();return"buffer"!==t.encoding?n.toString(t.encoding):n}(e,t=b(e,t))}(n=r.exports=d).sha1=function(e){return d(e)},n.keys=function(e){return d(e,{excludeValues:!0,algorithm:"sha1",encoding:"hex"})},n.MD5=function(e){return d(e,{algorithm:"md5",encoding:"hex"})},n.keysMD5=function(e){return d(e,{algorithm:"md5",encoding:"hex",excludeValues:!0})};var y=h.getHashes?h.getHashes().slice():["sha1","md5"];y.push("passthrough");var v=["buffer","hex","binary","base64"];function b(e,t){t=t||{};var r={};if(r.algorithm=t.algorithm||"sha1",r.encoding=t.encoding||"hex",r.excludeValues=!!t.excludeValues,r.algorithm=r.algorithm.toLowerCase(),r.encoding=r.encoding.toLowerCase(),r.ignoreUnknown=!0===t.ignoreUnknown,r.respectType=!1!==t.respectType,r.respectFunctionNames=!1!==t.respectFunctionNames,r.respectFunctionProperties=!1!==t.respectFunctionProperties,r.unorderedArrays=!0===t.unorderedArrays,r.unorderedSets=!1!==t.unorderedSets,r.unorderedObjects=!1!==t.unorderedObjects,r.replacer=t.replacer||void 0,r.excludeKeys=t.excludeKeys||void 0,void 0===e)throw new Error("Object argument required.");for(var n=0;n<y.length;++n)y[n].toLowerCase()===r.algorithm.toLowerCase()&&(r.algorithm=y[n]);if(-1===y.indexOf(r.algorithm))throw new Error('Algorithm "'+r.algorithm+'"  not supported. supported values: '+y.join(", "));if(-1===v.indexOf(r.encoding)&&"passthrough"!==r.algorithm)throw new Error('Encoding "'+r.encoding+'"  not supported. supported values: '+v.join(", "));return r}function g(e){if("function"==typeof e)return null!=/^function\s+\w*\s*\(\s*\)\s*{\s+\[native code\]\s+}$/i.exec(Function.prototype.toString.call(e))}function m(e,r,n){function o(e){return r.update?r.update(e,"utf8"):r.write(e,"utf8")}return n=n||[],{dispatch:function(r){return e.replacer&&(r=e.replacer(r)),this["_"+(null===r?"null":void 0===r?"undefined":t(r))](r)},_object:function(t){var r,i=Object.prototype.toString.call(t),u=/\[object (.*)\]/i.exec(i);if(u=(u=u?u[1]:"unknown:["+i+"]").toLowerCase(),0<=(r=n.indexOf(t)))return this.dispatch("[CIRCULAR:"+r+"]");if(n.push(t),void 0!==a&&a.isBuffer&&a.isBuffer(t))return o("buffer:"),o(t);if("object"===u||"function"===u||"asyncfunction"===u){var s=Object.keys(t);e.unorderedObjects&&(s=s.sort()),!1===e.respectType||g(t)||s.splice(0,0,"prototype","__proto__","constructor"),e.excludeKeys&&(s=s.filter((function(t){return!e.excludeKeys(t)}))),o("object:"+s.length+":");var l=this;return s.forEach((function(r){l.dispatch(r),o(":"),e.excludeValues||l.dispatch(t[r]),o(",")}))}if(!this["_"+u]){if(e.ignoreUnknown)return o("["+u+"]");throw new Error('Unknown object type "'+u+'"')}this["_"+u](t)},_array:function(t,r){r=void 0!==r?r:!1!==e.unorderedArrays;var i=this;if(o("array:"+t.length+":"),!r||t.length<=1)return t.forEach((function(e){return i.dispatch(e)}));var a=[],u=t.map((function(t){var r=new w,o=n.slice();return m(e,r,o).dispatch(t),a=a.concat(o.slice(n.length)),r.read().toString()}));return n=n.concat(a),u.sort(),this._array(u,!1)},_date:function(e){return o("date:"+e.toJSON())},_symbol:function(e){return o("symbol:"+e.toString())},_error:function(e){return o("error:"+e.toString())},_boolean:function(e){return o("bool:"+e.toString())},_string:function(e){o("string:"+e.length+":"),o(e.toString())},_function:function(t){o("fn:"),g(t)?this.dispatch("[native]"):this.dispatch(t.toString()),!1!==e.respectFunctionNames&&this.dispatch("function-name:"+String(t.name)),e.respectFunctionProperties&&this._object(t)},_number:function(e){return o("number:"+e.toString())},_xml:function(e){return o("xml:"+e.toString())},_null:function(){return o("Null")},_undefined:function(){return o("Undefined")},_regexp:function(e){return o("regex:"+e.toString())},_uint8array:function(e){return o("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint8clampedarray:function(e){return o("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(e))},_int8array:function(e){return o("uint8array:"),this.dispatch(Array.prototype.slice.call(e))},_uint16array:function(e){return o("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_int16array:function(e){return o("uint16array:"),this.dispatch(Array.prototype.slice.call(e))},_uint32array:function(e){return o("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_int32array:function(e){return o("uint32array:"),this.dispatch(Array.prototype.slice.call(e))},_float32array:function(e){return o("float32array:"),this.dispatch(Array.prototype.slice.call(e))},_float64array:function(e){return o("float64array:"),this.dispatch(Array.prototype.slice.call(e))},_arraybuffer:function(e){return o("arraybuffer:"),this.dispatch(new Uint8Array(e))},_url:function(e){return o("url:"+e.toString())},_map:function(t){o("map:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_set:function(t){o("set:");var r=Array.from(t);return this._array(r,!1!==e.unorderedSets)},_file:function(e){return o("file:"),this.dispatch([e.name,e.size,e.type,e.lastModfied])},_blob:function(){if(e.ignoreUnknown)return o("[blob]");throw Error('Hashing Blob objects is currently not supported\n(see https://github.com/puleos/object-hash/issues/26)\nUse "options.replacer" or "options.ignoreUnknown"\n')},_domwindow:function(){return o("domwindow")},_bigint:function(e){return o("bigint:"+e.toString())},_process:function(){return o("process")},_timer:function(){return o("timer")},_pipe:function(){return o("pipe")},_tcp:function(){return o("tcp")},_udp:function(){return o("udp")},_tty:function(){return o("tty")},_statwatcher:function(){return o("statwatcher")},_securecontext:function(){return o("securecontext")},_connection:function(){return o("connection")},_zlib:function(){return o("zlib")},_context:function(){return o("context")},_nodescript:function(){return o("nodescript")},_httpparser:function(){return o("httpparser")},_dataview:function(){return o("dataview")},_signal:function(){return o("signal")},_fsevent:function(){return o("fsevent")},_tlswrap:function(){return o("tlswrap")}}}function w(){return{buf:"",write:function(e){this.buf+=e},end:function(e){this.buf+=e},read:function(){return this.buf}}}n.writeToStream=function(e,t,r){return void 0===r&&(r=t,t={}),m(t=b(e,t),r).dispatch(e)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_7eac155c.js","/")},{buffer:3,crypto:5,lYpoI2:10}],2:[function(e,t,r){(function(e,t,n,o,i,a,u,s,l){!function(e){"use strict";var t="undefined"!=typeof Uint8Array?Uint8Array:Array,r="+".charCodeAt(0),n="/".charCodeAt(0),o="0".charCodeAt(0),i="a".charCodeAt(0),a="A".charCodeAt(0),u="-".charCodeAt(0),s="_".charCodeAt(0);function l(e){var t=e.charCodeAt(0);return t===r||t===u?62:t===n||t===s?63:t<o?-1:t<o+10?t-o+26+26:t<a+26?t-a:t<i+26?t-i+26:void 0}e.toByteArray=function(e){var r,n;if(0<e.length%4)throw new Error("Invalid string. Length must be a multiple of 4");var o=e.length,i="="===e.charAt(o-2)?2:"="===e.charAt(o-1)?1:0,a=new t(3*e.length/4-i),u=0<i?e.length-4:e.length,s=0;function c(e){a[s++]=e}for(r=0;r<u;r+=4,0)c((16711680&(n=l(e.charAt(r))<<18|l(e.charAt(r+1))<<12|l(e.charAt(r+2))<<6|l(e.charAt(r+3))))>>16),c((65280&n)>>8),c(255&n);return 2==i?c(255&(n=l(e.charAt(r))<<2|l(e.charAt(r+1))>>4)):1==i&&(c((n=l(e.charAt(r))<<10|l(e.charAt(r+1))<<4|l(e.charAt(r+2))>>2)>>8&255),c(255&n)),a},e.fromByteArray=function(e){var t,r,n,o,i=e.length%3,a="";function u(e){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)}for(t=0,n=e.length-i;t<n;t+=3)a+=u((o=r=(e[t]<<16)+(e[t+1]<<8)+e[t+2])>>18&63)+u(o>>12&63)+u(o>>6&63)+u(63&o);switch(i){case 1:a+=u((r=e[e.length-1])>>2),a+=u(r<<4&63),a+="==";break;case 2:a+=u((r=(e[e.length-2]<<8)+e[e.length-1])>>10),a+=u(r>>4&63),a+=u(r<<2&63),a+="="}return a}}(void 0===r?this.base64js={}:r)}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/base64-js/lib/b64.js","/node_modules/gulp-browserify/node_modules/base64-js/lib")},{buffer:3,lYpoI2:10}],3:[function(e,r,n){(function(r,o,i,a,u,s,l,c,f){var p=e("base64-js"),h=e("ieee754");function i(e,r,n){if(this,!(null!=(o=i)&&"undefined"!=typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](this):this instanceof o))return new i(e,r,n);var o,a,u,s,l,c,f=void 0===e?"undefined":t(e);if("base64"===r&&"string"==f)for(e=(a=e).trim?a.trim():a.replace(/^\s+|\s+$/g,"");e.length%4!=0;)e+="=";if("number"==f)u=P(e);else if("string"==f)u=i.byteLength(e,r);else{if("object"!=f)throw new Error("First argument needs to be a number, array or string.");u=P(e.length)}if(i._useTypedArrays?s=i._augment(new Uint8Array(u)):((s=this).length=u,s._isBuffer=!0),i._useTypedArrays&&"number"==typeof e.byteLength)s._set(e);else if(I(c=e)||i.isBuffer(c)||c&&"object"==typeof c&&"number"==typeof c.length)for(l=0;l<u;l++)i.isBuffer(e)?s[l]=e.readUInt8(l):s[l]=e[l];else if("string"==f)s.write(e,0,r);else if("number"==f&&!i._useTypedArrays&&!n)for(l=0;l<u;l++)s[l]=0;return s}function d(e,t,r,n){n||(B("boolean"==typeof r,"missing or invalid endian"),B(null!=t,"missing offset"),B(t+1<e.length,"Trying to read beyond buffer length"));var o,i=e.length;if(!(i<=t))return r?(o=e[t],t+1<i&&(o|=e[t+1]<<8)):(o=e[t]<<8,t+1<i&&(o|=e[t+1])),o}function y(e,t,r,n){n||(B("boolean"==typeof r,"missing or invalid endian"),B(null!=t,"missing offset"),B(t+3<e.length,"Trying to read beyond buffer length"));var o,i=e.length;if(!(i<=t))return r?(t+2<i&&(o=e[t+2]<<16),t+1<i&&(o|=e[t+1]<<8),o|=e[t],t+3<i&&(o+=e[t+3]<<24>>>0)):(t+1<i&&(o=e[t+1]<<16),t+2<i&&(o|=e[t+2]<<8),t+3<i&&(o|=e[t+3]),o+=e[t]<<24>>>0),o}function v(e,t,r,n){if(n||(B("boolean"==typeof r,"missing or invalid endian"),B(null!=t,"missing offset"),B(t+1<e.length,"Trying to read beyond buffer length")),!(e.length<=t)){var o=d(e,t,r,!0);return 32768&o?-1*(65535-o+1):o}}function b(e,t,r,n){if(n||(B("boolean"==typeof r,"missing or invalid endian"),B(null!=t,"missing offset"),B(t+3<e.length,"Trying to read beyond buffer length")),!(e.length<=t)){var o=y(e,t,r,!0);return 2147483648&o?-1*(4294967295-o+1):o}}function g(e,t,r,n){return n||(B("boolean"==typeof r,"missing or invalid endian"),B(t+3<e.length,"Trying to read beyond buffer length")),h.read(e,t,r,23,4)}function m(e,t,r,n){return n||(B("boolean"==typeof r,"missing or invalid endian"),B(t+7<e.length,"Trying to read beyond buffer length")),h.read(e,t,r,52,8)}function w(e,t,r,n,o){o||(B(null!=t,"missing value"),B("boolean"==typeof n,"missing or invalid endian"),B(null!=r,"missing offset"),B(r+1<e.length,"trying to write beyond buffer length"),C(t,65535));var i=e.length;if(!(i<=r))for(var a=0,u=Math.min(i-r,2);a<u;a++)e[r+a]=(t&255<<8*(n?a:1-a))>>>8*(n?a:1-a)}function S(e,t,r,n,o){o||(B(null!=t,"missing value"),B("boolean"==typeof n,"missing or invalid endian"),B(null!=r,"missing offset"),B(r+3<e.length,"trying to write beyond buffer length"),C(t,4294967295));var i=e.length;if(!(i<=r))for(var a=0,u=Math.min(i-r,4);a<u;a++)e[r+a]=t>>>8*(n?a:3-a)&255}function E(e,t,r,n,o){o||(B(null!=t,"missing value"),B("boolean"==typeof n,"missing or invalid endian"),B(null!=r,"missing offset"),B(r+1<e.length,"Trying to write beyond buffer length"),L(t,32767,-32768)),e.length<=r||w(e,0<=t?t:65535+t+1,r,n,o)}function O(e,t,r,n,o){o||(B(null!=t,"missing value"),B("boolean"==typeof n,"missing or invalid endian"),B(null!=r,"missing offset"),B(r+3<e.length,"Trying to write beyond buffer length"),L(t,2147483647,-2147483648)),e.length<=r||S(e,0<=t?t:4294967295+t+1,r,n,o)}function x(e,t,r,n,o){o||(B(null!=t,"missing value"),B("boolean"==typeof n,"missing or invalid endian"),B(null!=r,"missing offset"),B(r+3<e.length,"Trying to write beyond buffer length"),D(t,34028234663852886e22,-34028234663852886e22)),e.length<=r||h.write(e,t,r,n,23,4)}function k(e,t,r,n,o){o||(B(null!=t,"missing value"),B("boolean"==typeof n,"missing or invalid endian"),B(null!=r,"missing offset"),B(r+7<e.length,"Trying to write beyond buffer length"),D(t,17976931348623157e292,-17976931348623157e292)),e.length<=r||h.write(e,t,r,n,52,8)}n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192,i._useTypedArrays=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray}catch(e){return!1}}(),i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.isBuffer=function(e){return!(null==e||!e._isBuffer)},i.byteLength=function(e,t){var r;switch(e+="",t||"utf8"){case"hex":r=e.length/2;break;case"utf8":case"utf-8":r=R(e).length;break;case"ascii":case"binary":case"raw":r=e.length;break;case"base64":r=N(e).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=2*e.length;break;default:throw new Error("Unknown encoding")}return r},i.concat=function(e,t){if(B(I(e),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===e.length)return new i(0);if(1===e.length)return e[0];if("number"!=typeof t)for(o=t=0;o<e.length;o++)t+=e[o].length;for(var r=new i(t),n=0,o=0;o<e.length;o++){var a=e[o];a.copy(r,n),n+=a.length}return r},i.prototype.write=function(e,t,r,n){var o;isFinite(t)?isFinite(r)||(n=r,r=void 0):(o=n,n=t,t=r,r=o),t=Number(t)||0;var a,u,s,l,c,f,p,h=this.length-t;switch((!r||h<(r=Number(r)))&&(r=h),n=String(n||"utf8").toLowerCase()){case"hex":a=function(e,t,r,n){r=Number(r)||0;var o=e.length-r;(!n||o<(n=Number(n)))&&(n=o);var a=t.length;B(a%2==0,"Invalid hex string"),a/2<n&&(n=a/2);for(var u=0;u<n;u++){var s=parseInt(t.substr(2*u,2),16);B(!isNaN(s),"Invalid hex string"),e[r+u]=s}return i._charsWritten=2*u,u}(this,e,t,r);break;case"utf8":case"utf-8":this,c=e,f=t,p=r,a=i._charsWritten=M(R(c),this,f,p);break;case"ascii":case"binary":a=function(e,t,r,n){return i._charsWritten=M(function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}(this,e,t,r);break;case"base64":this,u=e,s=t,l=r,a=i._charsWritten=M(N(u),this,s,l);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":a=function(e,t,r,n){return i._charsWritten=M(function(e){for(var t,r,n,o=[],i=0;i<e.length;i++)r=(t=e.charCodeAt(i))>>8,n=t%256,o.push(n),o.push(r);return o}(t),e,r,n)}(this,e,t,r);break;default:throw new Error("Unknown encoding")}return a},i.prototype.toString=function(e,t,r){var n,o,i,a,u=this;if(e=String(e||"utf8").toLowerCase(),t=Number(t)||0,(r=void 0!==r?Number(r):r=u.length)===t)return"";switch(e){case"hex":n=function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||n<r)&&(r=n);for(var o="",i=t;i<r;i++)o+=_(e[i]);return o}(u,t,r);break;case"utf8":case"utf-8":n=function(e,t,r){var n="",o="";r=Math.min(e.length,r);for(var i=t;i<r;i++)e[i]<=127?(n+=j(o)+String.fromCharCode(e[i]),o=""):o+="%"+e[i].toString(16);return n+j(o)}(u,t,r);break;case"ascii":case"binary":n=function(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;o++)n+=String.fromCharCode(e[o]);return n}(u,t,r);break;case"base64":o=u,a=r,n=0===(i=t)&&a===o.length?p.fromByteArray(o):p.fromByteArray(o.slice(i,a));break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=function(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}(u,t,r);break;default:throw new Error("Unknown encoding")}return n},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.copy=function(e,t,r,n){if(r=r||0,n||0===n||(n=this.length),t=t||0,n!==r&&0!==e.length&&0!==this.length){B(r<=n,"sourceEnd < sourceStart"),B(0<=t&&t<e.length,"targetStart out of bounds"),B(0<=r&&r<this.length,"sourceStart out of bounds"),B(0<=n&&n<=this.length,"sourceEnd out of bounds"),n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o=n-r;if(o<100||!i._useTypedArrays)for(var a=0;a<o;a++)e[a+t]=this[a+r];else e._set(this.subarray(r,r+o),t)}},i.prototype.slice=function(e,t){var r=this.length;if(e=T(e,r,0),t=T(t,r,r),i._useTypedArrays)return i._augment(this.subarray(e,t));for(var n=t-e,o=new i(n,void 0,!0),a=0;a<n;a++)o[a]=this[a+e];return o},i.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},i.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},i.prototype.readUInt8=function(e,t){if(t||(B(null!=e,"missing offset"),B(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return this[e]},i.prototype.readUInt16LE=function(e,t){return d(this,e,!0,t)},i.prototype.readUInt16BE=function(e,t){return d(this,e,!1,t)},i.prototype.readUInt32LE=function(e,t){return y(this,e,!0,t)},i.prototype.readUInt32BE=function(e,t){return y(this,e,!1,t)},i.prototype.readInt8=function(e,t){if(t||(B(null!=e,"missing offset"),B(e<this.length,"Trying to read beyond buffer length")),!(e>=this.length))return 128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){return v(this,e,!0,t)},i.prototype.readInt16BE=function(e,t){return v(this,e,!1,t)},i.prototype.readInt32LE=function(e,t){return b(this,e,!0,t)},i.prototype.readInt32BE=function(e,t){return b(this,e,!1,t)},i.prototype.readFloatLE=function(e,t){return g(this,e,!0,t)},i.prototype.readFloatBE=function(e,t){return g(this,e,!1,t)},i.prototype.readDoubleLE=function(e,t){return m(this,e,!0,t)},i.prototype.readDoubleBE=function(e,t){return m(this,e,!1,t)},i.prototype.writeUInt8=function(e,t,r){r||(B(null!=e,"missing value"),B(null!=t,"missing offset"),B(t<this.length,"trying to write beyond buffer length"),C(e,255)),t>=this.length||(this[t]=e)},i.prototype.writeUInt16LE=function(e,t,r){w(this,e,t,!0,r)},i.prototype.writeUInt16BE=function(e,t,r){w(this,e,t,!1,r)},i.prototype.writeUInt32LE=function(e,t,r){S(this,e,t,!0,r)},i.prototype.writeUInt32BE=function(e,t,r){S(this,e,t,!1,r)},i.prototype.writeInt8=function(e,t,r){r||(B(null!=e,"missing value"),B(null!=t,"missing offset"),B(t<this.length,"Trying to write beyond buffer length"),L(e,127,-128)),t>=this.length||(0<=e?this.writeUInt8(e,t,r):this.writeUInt8(255+e+1,t,r))},i.prototype.writeInt16LE=function(e,t,r){E(this,e,t,!0,r)},i.prototype.writeInt16BE=function(e,t,r){E(this,e,t,!1,r)},i.prototype.writeInt32LE=function(e,t,r){O(this,e,t,!0,r)},i.prototype.writeInt32BE=function(e,t,r){O(this,e,t,!1,r)},i.prototype.writeFloatLE=function(e,t,r){x(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){x(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){k(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){k(this,e,t,!1,r)},i.prototype.fill=function(e,t,r){if(e=e||0,t=t||0,r=r||this.length,"string"==typeof e&&(e=e.charCodeAt(0)),B("number"==typeof e&&!isNaN(e),"value is not a number"),B(t<=r,"end < start"),r!==t&&0!==this.length){B(0<=t&&t<this.length,"start out of bounds"),B(0<=r&&r<=this.length,"end out of bounds");for(var n=t;n<r;n++)this[n]=e}},i.prototype.inspect=function(){for(var e=[],t=this.length,r=0;r<t;r++)if(e[r]=_(this[r]),r===n.INSPECT_MAX_BYTES){e[r+1]="...";break}return"<Buffer "+e.join(" ")+">"},i.prototype.toArrayBuffer=function(){if("undefined"==typeof Uint8Array)throw new Error("Buffer.toArrayBuffer not supported in this browser");if(i._useTypedArrays)return new i(this).buffer;for(var e=new Uint8Array(this.length),t=0,r=e.length;t<r;t+=1)e[t]=this[t];return e.buffer};var A=i.prototype;function T(e,t,r){return"number"!=typeof e?r:t<=(e=~~e)?t:0<=e||0<=(e+=t)?e:0}function P(e){return(e=~~Math.ceil(+e))<0?0:e}function I(e){return(Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)})(e)}function _(e){return e<16?"0"+e.toString(16):e.toString(16)}function R(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);if(n<=127)t.push(e.charCodeAt(r));else{var o=r;55296<=n&&n<=57343&&r++;for(var i=encodeURIComponent(e.slice(o,r+1)).substr(1).split("%"),a=0;a<i.length;a++)t.push(parseInt(i[a],16))}}return t}function N(e){return p.toByteArray(e)}function M(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);o++)t[o+r]=e[o];return o}function j(e){try{return decodeURIComponent(e)}catch(e){return String.fromCharCode(65533)}}function C(e,t){B("number"==typeof e,"cannot write a non-number as a number"),B(0<=e,"specified a negative value for writing an unsigned value"),B(e<=t,"value is larger than maximum value for type"),B(Math.floor(e)===e,"value has a fractional component")}function L(e,t,r){B("number"==typeof e,"cannot write a non-number as a number"),B(e<=t,"value larger than maximum allowed value"),B(r<=e,"value smaller than minimum allowed value"),B(Math.floor(e)===e,"value has a fractional component")}function D(e,t,r){B("number"==typeof e,"cannot write a non-number as a number"),B(e<=t,"value larger than maximum allowed value"),B(r<=e,"value smaller than minimum allowed value")}function B(e,t){if(!e)throw new Error(t||"Failed assertion")}i._augment=function(e){return e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=A.get,e.set=A.set,e.write=A.write,e.toString=A.toString,e.toLocaleString=A.toString,e.toJSON=A.toJSON,e.copy=A.copy,e.slice=A.slice,e.readUInt8=A.readUInt8,e.readUInt16LE=A.readUInt16LE,e.readUInt16BE=A.readUInt16BE,e.readUInt32LE=A.readUInt32LE,e.readUInt32BE=A.readUInt32BE,e.readInt8=A.readInt8,e.readInt16LE=A.readInt16LE,e.readInt16BE=A.readInt16BE,e.readInt32LE=A.readInt32LE,e.readInt32BE=A.readInt32BE,e.readFloatLE=A.readFloatLE,e.readFloatBE=A.readFloatBE,e.readDoubleLE=A.readDoubleLE,e.readDoubleBE=A.readDoubleBE,e.writeUInt8=A.writeUInt8,e.writeUInt16LE=A.writeUInt16LE,e.writeUInt16BE=A.writeUInt16BE,e.writeUInt32LE=A.writeUInt32LE,e.writeUInt32BE=A.writeUInt32BE,e.writeInt8=A.writeInt8,e.writeInt16LE=A.writeInt16LE,e.writeInt16BE=A.writeInt16BE,e.writeInt32LE=A.writeInt32LE,e.writeInt32BE=A.writeInt32BE,e.writeFloatLE=A.writeFloatLE,e.writeFloatBE=A.writeFloatBE,e.writeDoubleLE=A.writeDoubleLE,e.writeDoubleBE=A.writeDoubleBE,e.fill=A.fill,e.inspect=A.inspect,e.toArrayBuffer=A.toArrayBuffer,e}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/buffer/index.js","/node_modules/gulp-browserify/node_modules/buffer")},{"base64-js":2,buffer:3,ieee754:11,lYpoI2:10}],4:[function(e,t,r){(function(r,n,o,i,a,u,s,l,c){o=e("buffer").Buffer;var f=new o(4);f.fill(0),t.exports={hash:function(e,t,r,n){return o.isBuffer(e)||(e=new o(e)),function(e,t,r){for(var n=new o(t),i=r?n.writeInt32BE:n.writeInt32LE,a=0;a<e.length;a++)i.call(n,e[a],4*a,!0);return n}(t(function(e,t){var r;e.length%4!=0&&(r=e.length+(4-e.length%4),e=o.concat([e,f],r));for(var n=[],i=t?e.readInt32BE:e.readInt32LE,a=0;a<e.length;a+=4)n.push(i.call(e,a));return n}(e,n),8*e.length),r,n)}}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/helpers.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],5:[function(e,t,r){(function(t,n,o,i,a,u,s,l,c){o=e("buffer").Buffer;var f=e("./sha"),p=e("./sha256"),h=e("./rng"),d={sha1:f,sha256:p,md5:e("./md5")},y=64,v=new o(y);function b(e,t){var r=d[e=e||"sha1"],n=[];return r||g("algorithm:",e,"is not yet supported"),{update:function(e){return o.isBuffer(e)||(e=new o(e)),n.push(e),e.length,this},digest:function(e){var i=o.concat(n),a=t?function(e,t,r){o.isBuffer(t)||(t=new o(t)),o.isBuffer(r)||(r=new o(r)),t.length>y?t=e(t):t.length<y&&(t=o.concat([t,v],y));for(var n=new o(y),i=new o(y),a=0;a<y;a++)n[a]=54^t[a],i[a]=92^t[a];var u=e(o.concat([n,r]));return e(o.concat([i,u]))}(r,t,i):r(i);return n=null,e?a.toString(e):a}}}function g(){var e=[].slice.call(arguments).join(" ");throw new Error([e,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}v.fill(0),r.createHash=function(e){return b(e)},r.createHmac=b,r.randomBytes=function(e,t){if(!t||!t.call)return new o(h(e));try{t.call(this,void 0,new o(h(e)))}catch(e){t(e)}},function(e,t){for(var r in e)t(e[r])}(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],(function(e){r[e]=function(){g("sorry,",e,"is not implemented yet")}}))}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/index.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./md5":6,"./rng":7,"./sha":8,"./sha256":9,buffer:3,lYpoI2:10}],6:[function(e,t,r){(function(r,n,o,i,a,u,s,l,c){var f=e("./helpers");function p(e,t){e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;for(var r=1732584193,n=-271733879,o=-1732584194,i=271733878,a=0;a<e.length;a+=16){var u=r,s=n,l=o,c=i;r=d(r,n,o,i,e[a+0],7,-680876936),i=d(i,r,n,o,e[a+1],12,-389564586),o=d(o,i,r,n,e[a+2],17,606105819),n=d(n,o,i,r,e[a+3],22,-1044525330),r=d(r,n,o,i,e[a+4],7,-176418897),i=d(i,r,n,o,e[a+5],12,1200080426),o=d(o,i,r,n,e[a+6],17,-1473231341),n=d(n,o,i,r,e[a+7],22,-45705983),r=d(r,n,o,i,e[a+8],7,1770035416),i=d(i,r,n,o,e[a+9],12,-1958414417),o=d(o,i,r,n,e[a+10],17,-42063),n=d(n,o,i,r,e[a+11],22,-1990404162),r=d(r,n,o,i,e[a+12],7,1804603682),i=d(i,r,n,o,e[a+13],12,-40341101),o=d(o,i,r,n,e[a+14],17,-1502002290),r=y(r,n=d(n,o,i,r,e[a+15],22,1236535329),o,i,e[a+1],5,-165796510),i=y(i,r,n,o,e[a+6],9,-1069501632),o=y(o,i,r,n,e[a+11],14,643717713),n=y(n,o,i,r,e[a+0],20,-373897302),r=y(r,n,o,i,e[a+5],5,-701558691),i=y(i,r,n,o,e[a+10],9,38016083),o=y(o,i,r,n,e[a+15],14,-660478335),n=y(n,o,i,r,e[a+4],20,-405537848),r=y(r,n,o,i,e[a+9],5,568446438),i=y(i,r,n,o,e[a+14],9,-1019803690),o=y(o,i,r,n,e[a+3],14,-187363961),n=y(n,o,i,r,e[a+8],20,1163531501),r=y(r,n,o,i,e[a+13],5,-1444681467),i=y(i,r,n,o,e[a+2],9,-51403784),o=y(o,i,r,n,e[a+7],14,1735328473),r=v(r,n=y(n,o,i,r,e[a+12],20,-1926607734),o,i,e[a+5],4,-378558),i=v(i,r,n,o,e[a+8],11,-2022574463),o=v(o,i,r,n,e[a+11],16,1839030562),n=v(n,o,i,r,e[a+14],23,-35309556),r=v(r,n,o,i,e[a+1],4,-1530992060),i=v(i,r,n,o,e[a+4],11,1272893353),o=v(o,i,r,n,e[a+7],16,-155497632),n=v(n,o,i,r,e[a+10],23,-1094730640),r=v(r,n,o,i,e[a+13],4,681279174),i=v(i,r,n,o,e[a+0],11,-358537222),o=v(o,i,r,n,e[a+3],16,-722521979),n=v(n,o,i,r,e[a+6],23,76029189),r=v(r,n,o,i,e[a+9],4,-640364487),i=v(i,r,n,o,e[a+12],11,-421815835),o=v(o,i,r,n,e[a+15],16,530742520),r=b(r,n=v(n,o,i,r,e[a+2],23,-995338651),o,i,e[a+0],6,-198630844),i=b(i,r,n,o,e[a+7],10,1126891415),o=b(o,i,r,n,e[a+14],15,-1416354905),n=b(n,o,i,r,e[a+5],21,-57434055),r=b(r,n,o,i,e[a+12],6,1700485571),i=b(i,r,n,o,e[a+3],10,-1894986606),o=b(o,i,r,n,e[a+10],15,-1051523),n=b(n,o,i,r,e[a+1],21,-2054922799),r=b(r,n,o,i,e[a+8],6,1873313359),i=b(i,r,n,o,e[a+15],10,-30611744),o=b(o,i,r,n,e[a+6],15,-1560198380),n=b(n,o,i,r,e[a+13],21,1309151649),r=b(r,n,o,i,e[a+4],6,-145523070),i=b(i,r,n,o,e[a+11],10,-1120210379),o=b(o,i,r,n,e[a+2],15,718787259),n=b(n,o,i,r,e[a+9],21,-343485551),r=g(r,u),n=g(n,s),o=g(o,l),i=g(i,c)}return Array(r,n,o,i)}function h(e,t,r,n,o,i){return g((a=g(g(t,e),g(n,i)))<<(u=o)|a>>>32-u,r);var a,u}function d(e,t,r,n,o,i,a){return h(t&r|~t&n,e,t,o,i,a)}function y(e,t,r,n,o,i,a){return h(t&n|r&~n,e,t,o,i,a)}function v(e,t,r,n,o,i,a){return h(t^r^n,e,t,o,i,a)}function b(e,t,r,n,o,i,a){return h(r^(t|~n),e,t,o,i,a)}function g(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}t.exports=function(e){return f.hash(e,p,16)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/md5.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],7:[function(e,t,r){(function(e,r,n,o,i,a,u,s,l){var c;c=function(e){for(var t,r=new Array(e),n=0;n<e;n++)0==(3&n)&&(t=4294967296*Math.random()),r[n]=t>>>((3&n)<<3)&255;return r},t.exports=c}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/rng.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{buffer:3,lYpoI2:10}],8:[function(e,t,r){(function(r,n,o,i,a,u,s,l,c){var f=e("./helpers");function p(e,t){e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var r,n,o,i,a,u=Array(80),s=1732584193,l=-271733879,c=-1732584194,f=271733878,p=-1009589776,y=0;y<e.length;y+=16){for(var v=s,b=l,g=c,m=f,w=p,S=0;S<80;S++){u[S]=S<16?e[y+S]:d(u[S-3]^u[S-8]^u[S-14]^u[S-16],1);var E=h(h(d(s,5),(o=l,i=c,a=f,(n=S)<20?o&i|~o&a:!(n<40)&&n<60?o&i|o&a|i&a:o^i^a)),h(h(p,u[S]),(r=S)<20?1518500249:r<40?1859775393:r<60?-1894007588:-899497514));p=f,f=c,c=d(l,30),l=s,s=E}s=h(s,v),l=h(l,b),c=h(c,g),f=h(f,m),p=h(p,w)}return Array(s,l,c,f,p)}function h(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function d(e,t){return e<<t|e>>>32-t}t.exports=function(e){return f.hash(e,p,20,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],9:[function(e,t,r){(function(r,n,o,i,a,u,s,l,c){function f(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function p(e,t){return e>>>t|e<<32-t}function h(e,t){var r,n,o,i,a,u,s,l,c,h,d=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),y=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),v=new Array(64);e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t;for(var b,g,m,w,S,E,O,x,k=0;k<e.length;k+=16){r=y[0],n=y[1],o=y[2],i=y[3],a=y[4],u=y[5],s=y[6],l=y[7];for(var A=0;A<64;A++)v[A]=A<16?e[A+k]:f(f(f(p(x=v[A-2],17)^p(x,19)^x>>>10,v[A-7]),p(O=v[A-15],7)^p(O,18)^O>>>3),v[A-16]),c=f(f(f(f(l,p(E=a,6)^p(E,11)^p(E,25)),(S=a)&u^~S&s),d[A]),v[A]),h=f(p(w=r,2)^p(w,13)^p(w,22),(b=r)&(g=n)^b&(m=o)^g&m),l=s,s=u,u=a,a=f(i,c),i=o,o=n,n=r,r=f(c,h);y[0]=f(r,y[0]),y[1]=f(n,y[1]),y[2]=f(o,y[2]),y[3]=f(i,y[3]),y[4]=f(a,y[4]),y[5]=f(u,y[5]),y[6]=f(s,y[6]),y[7]=f(l,y[7])}return y}var d=e("./helpers");t.exports=function(e){return d.hash(e,h,32,!0)}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/crypto-browserify/sha256.js","/node_modules/gulp-browserify/node_modules/crypto-browserify")},{"./helpers":4,buffer:3,lYpoI2:10}],10:[function(e,t,r){(function(e,r,n,o,i,a,u,s,l){function c(){}(e=t.exports={}).nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var r=[];return window.addEventListener("message",(function(e){var t=e.source;t!==window&&null!==t||"process-tick"!==e.data||(e.stopPropagation(),0<r.length&&r.shift()())}),!0),function(e){r.push(e),window.postMessage("process-tick","*")}}return function(e){setTimeout(e,0)}}(),e.title="browser",e.browser=!0,e.env={},e.argv=[],e.on=c,e.addListener=c,e.once=c,e.off=c,e.removeListener=c,e.removeAllListeners=c,e.emit=c,e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/gulp-browserify/node_modules/process/browser.js","/node_modules/gulp-browserify/node_modules/process")},{buffer:3,lYpoI2:10}],11:[function(e,t,r){(function(e,t,n,o,i,a,u,s,l){r.read=function(e,t,r,n,o){var i,a,u=8*o-n-1,s=(1<<u)-1,l=s>>1,c=-7,f=r?o-1:0,p=r?-1:1,h=e[t+f];for(f+=p,i=h&(1<<-c)-1,h>>=-c,c+=u;0<c;i=256*i+e[t+f],f+=p,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;0<c;a=256*a+e[t+f],f+=p,c-=8);if(0===i)i=1-l;else{if(i===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,n),i-=l}return(h?-1:1)*a*Math.pow(2,i-n)},r.write=function(e,t,r,n,o,i){var a,u,s,l=8*i-o-1,c=(1<<l)-1,f=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:i-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),2<=(t+=1<=a+f?p/s:p*Math.pow(2,1-f))*s&&(a++,s/=2),c<=a+f?(u=0,a=c):1<=a+f?(u=(t*s-1)*Math.pow(2,o),a+=f):(u=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));8<=o;e[r+h]=255&u,h+=d,u/=256,o-=8);for(a=a<<o|u,l+=o;0<l;e[r+h]=255&a,h+=d,a/=256,l-=8);e[r+h-d]|=128*y}}).call(this,e("lYpoI2"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/node_modules/ieee754/index.js","/node_modules/ieee754")},{buffer:3,lYpoI2:10}]},{},[1])(1)},79117:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(90087),o=r(84647),i=["em","ex","ch","rem","vw","vh","vmin","vmax","px","mm","cm","in","pt","pc","Q","vm"],a=["deg","grad","turn","rad"],u=["s","ms"],s=["Hz","kHz"],l=["dpi","dpcm","dppm"],c=["fr"],f=i.map((function(e){return e.toLowerCase()})),p=a.map((function(e){return e.toLowerCase()})),h=u.map((function(e){return e.toLowerCase()})),d=s.map((function(e){return e.toLowerCase()})),y=l.map((function(e){return e.toLowerCase()})),v=c.map((function(e){return e.toLowerCase()}));function b(e,t,r,n){return new e(r,n,t.source)}t.newPunctuator=function(e,t){if(","===e.value||")"===e.value)return b(o.Punctuator,e,e.value,t);throw new Error('illegal argument error "'.concat(e.value,'"'))},t.newOperator=function(e,t){return b(o.Operator,e,e.value,t)},t.newString=function(e,t){return b(o.StringNode,e,e.value,t)},t.newWordNode=function(e,t){return function(e,t){if("word"===e.type){var r=n(e.value);if(r){var g=function(e,t,r){var n=t.source;if(!e.unit)return new o.NumberValue(e.number,r,n);var b,g=e.unit.toLowerCase();function m(t,o){var i=new t(e.number,o,r,n);return o!==e.unit&&(i.raws.unit={raw:e.unit,value:o}),i}return(b=f.indexOf(g))>=0?m(o.LengthValue,i[b]):(b=p.indexOf(g))>=0?m(o.AngleValue,a[b]):(b=h.indexOf(g))>=0?m(o.TimeValue,u[b]):(b=d.indexOf(g))>=0?m(o.FrequencyValue,s[b]):(b=y.indexOf(g))>=0?m(o.ResolutionValue,l[b]):(b=v.indexOf(g))>=0?m(o.FlexValue,c[b]):"%"===g?m(o.PercentageValue,"%"):null}(r,e,t);if(g)return g}}return b(o.Word,e,e.value,t)}(e,t)},t.newFunction=function(e,t,r){return new o.FunctionNode(e.value,t,{start:e.source.start,end:r.source.end})},t.newParentheses=function(e,t){return new o.Parentheses(t,{start:e.source.start,end:e.source.end})},t.newMathExpression=function(e,t,r){var n="string"==typeof t?b(o.Operator,{source:{start:{index:0},end:{index:0}}},t," "):t,i=e.raws.before;return e.raws.before="",new o.MathExpression(e,n,r,i,{start:e.source.start,operator:n.source,end:r.source.end})}},2053:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(70751);t.Parser=n.Parser;var o=r(47525);t.Tokenizer=o.Tokenizer;var i=r(21165);t.Stringifier=i.Stringifier;var a=r(22086);t.getResolvedType=a.getResolvedType;var u=r(59266);t.reduceExpression=u.reduce;var s=r(79117);t.newMathExpression=s.newMathExpression},70751:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(96269),a=r(84647),u=r(79117),s=r(90318),l=r(65025),c=RegExp("^([^-+0-9.]|-[^+0-9.])","u"),f={"*":3,"/":3,"+":2,"-":2};function p(e){return e.source||{start:{index:0},end:{index:0}}}function h(e){return e&&"Punctuator"!==e.type&&"Operator"!==e.type?e:null}var d=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tokenizer=t,this.root=new a.Root({start:{index:0},end:{index:0}}),this.rescans=[],this.tokens=this.root.tokens,this.errors=this.root.errors}var t,r;return t=e,r=[{key:"parse",value:function(){for(var e,t={container:this.root,fnName:"",post:function(){},eof:function(){}};t;)t=this.processExpressions(t);var r,o=this.tokens;return o.length>0&&(p(this.root).end.index=o[o.length-1].source.end.index),(e=this.errors).unshift.apply(e,function(e){if(Array.isArray(e))return n(e)}(r=this.tokenizer.errors)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this.errors.sort((function(e,t){return e.index-t.index})),this.root}},{key:"reportParseError",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.errors.find((function(r){return r.code===e&&r.index===t}))){var r=i.ParseError.fromCode(e,t);this.errors.push(r)}}},{key:"processExpressions",value:function(e){for(var t;t=this.scan();){var r=t.token;switch(r.type){case"word":if(c.test(r.value)){var n=this.scan();if(n){if(!n.raws&&"punctuator"===n.token.type&&"("===n.token.value)return this.processFunction(r,t.raws,n.token,e);this.back(n)}}e.container.push(u.newWordNode(r,t.raws));break;case"string":e.container.push(u.newString(r,t.raws));break;case"operator":this.checkAndMergeMathExpr(e,f[r.value]),e.container.push(u.newOperator(r,t.raws));break;case"punctuator":return this.checkAndMergeMathExpr(e),this.processPunctuator(r,t.raws,e)}}return this.postStack(e),e.eof(),null}},{key:"checkAndMergeMathExpr",value:function(e,t){var r=e.container,n=r.nodes;if(n.length>=3){var o=n[n.length-2];if("Operator"===o.type&&f[o.value]&&(null==t||t<=f[o.value])){var i=this.mergeMathExpr(e);i&&r.push(i)}}}},{key:"processPunctuator",value:function(e,t,r){var n=r.container,o=r.parent;if("("===e.value){var i=u.newParentheses(e,t);return n.push(i),this.createNestedStateContainer(i,r.fnName,r)}if(this.postStack(r),")"===e.value){if(o)return r.post(e,t),o;this.reportParseError("unexpected-parenthesis",e.source.start.index)}return n.push(u.newPunctuator(e,t)),r}},{key:"processFunction",value:function(e,t,r,n){var o=u.newFunction(e,t,r);return n.container.push(o),this.createNestedStateContainer(o,o.name,n)}},{key:"createNestedStateContainer",value:function(e,t,r){var n=this;return{container:e,parent:r,fnName:t,post:function(t,r){r&&(e.raws.beforeClose=r),p(e).end=t.source.end},eof:function(){e.unclosed=!0;var t=n.tokens[n.tokens.length-1],o=e.last;o&&(p(e).end=p(o).end),n.reportParseError("eof-in-bracket",t.source.end.index),r.eof()}}}},{key:"mergeMathExpr",value:function(e){var t=this,r=e.container.nodes,n=r.pop(),o=r.pop(),i=r.pop()||null,a=function(){i&&r.push(i),r.push(o,n)},c=function(r){s.isMathFunction(e.fnName)&&t.reportParseError("unexpected-calc-token",p(r).start.index)},f=h(n);if(l.isComma(o))return f||c(n),a(),null;if(!i)return c(h(o)?n:o),a(),null;var d=h(i);return d?"Operator"!==o.type?(c(o),a(),null):f?u.newMathExpression(d,o,f):(c(n),a(),null):(c(h(r[r.length-1])?o:i),a(),null)}},{key:"postStack",value:function(e){for(var t=e.container,r=t.nodes;r.length>1;){var n=this.mergeMathExpr(e);if(!n)return;t.push(n)}}},{key:"scan",value:function(){var e=this.rescans.shift();if(e)return e;for(var t="",r=this.tokenizer.nextToken();r;){if(this.tokens.push(r),"whitespace"!==r.type&&"comment"!==r.type&&"inline-comment"!==r.type)return{token:r,raws:t};t+=r.value,r=this.tokenizer.nextToken()}return t&&(this.root.raws.after=t),null}},{key:"back",value:function(e){this.rescans.unshift(e)}}],r&&o(t.prototype,r),e}();t.Parser=d},59266:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(90318),o=r(65025);function i(e){if("Number"===e.type||"Length"===e.type||"Angle"===e.type||"Time"===e.type||"Frequency"===e.type||"Resolution"===e.type||"Percentage"===e.type||"Flex"===e.type)return e;if("MathExpression"===e.type)return function(e){var t=i(e.left),r=i(e.right);if(!t||!r)return null;switch(e.operator){case"+":case"-":return function(e,t,r){if(e.type!==r.type)return null;var n="-"===t?function(e,t){return e-t}:function(e,t){return e+t};return"Number"===e.type?{type:"Number",value:n(e.value,r.value)}:e.unit===r.unit?{type:e.type,value:n(e.value,r.value),unit:e.unit}:null}(t,e.operator,r);case"/":return function(e,t){return"Number"!==t.type?null:"Number"===e.type?{type:"Number",value:e.value/t.value}:{type:e.type,value:e.value/t.value,unit:e.unit}}(t,r);case"*":return function(e,t){return"Number"===e.type?"Number"===t.type?{type:"Number",value:e.value*t.value}:{type:t.type,value:e.value*t.value,unit:t.unit}:"Number"===t.type?{type:e.type,value:e.value*t.value,unit:e.unit}:null}(t,r)}return null}(e);if("Parentheses"===e.type||"Root"===e.type){if(1===e.nodes.length)return i(e.nodes[0])}else if("Function"===e.type&&"Function"===e.type&&n.isCalc(e.name))return t=e,(r=o.getFunctionArguments(t))&&1===r.length?i(r[0]):null;var t,r;return null}t.reduce=function(e){return i(e)}},22086:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(90318),o=r(65025);function i(e){var t=a(e.left),r=a(e.right);switch(e.operator){case"+":case"-":return"Unknown"===t||"Unknown"===r?"Unknown":t===r?t:"Number"===t||"Number"===r?"invalid":"Percentage"===t?r:"Percentage"===r?t:"invalid";case"*":return"Unknown"===t||"Unknown"===r?"Unknown":"Number"===t?r:"Number"===r?t:"invalid";case"/":return"Unknown"===r?"Unknown":"Number"===r?t:"invalid"}return"Unknown"}function a(e){if("MathExpression"===e.type){var t=i(e);return"invalid"===t?"Unknown":t}return"Parentheses"===e.type?1===e.nodes.length?a(e.nodes[0]):"Unknown":"Function"===e.type?n.isCalc(e.name)?1===(r=e).nodes.length?u(r):"Unknown":n.isMin(e.name)||n.isMax(e.name)?u(e):n.isClamp(e.name)?function(e){return 5===e.nodes.length?u(e):"Unknown"}(e):"Unknown":function(e){var t=e.type;return"Number"===t||"Length"===t||"Angle"===t||"Time"===t||"Frequency"===t||"Resolution"===t||"Percentage"===t||"Flex"===t?t:"Unknown"}(e);var r}function u(e){var t=o.getFunctionArguments(e);if(!t)return"Unknown";var r=t.map(a),n=null,i=!0,u=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var f=l.value;if(n&&"Percentage"!==n){if("Percentage"===f);else if(n!==f)return"Unknown"}else n=f}}catch(e){u=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(u)throw s}}return n||"Unknown"}t.getResolvedType=i},21165:(e,t)=>{"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t){var r=e.raws[t];return r?r.raw:"".concat(e[t])}function o(e,t){return e.raws[t]||""}function i(e,t){return"".concat(o(e,"before")).concat(t)}function a(e){return i(e,"".concat(n(e,"value")).concat(n(e,"unit")))}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=Object.assign({autofix:!1},t||{})}var t,u;return t=e,(u=[{key:"stringify",value:function(e){return this[e.type](e)}},{key:"Root",value:function(e){var t="",r=!0,n=!1,i=void 0;try{for(var a,u=e.nodes[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value;t+=this.stringify(s)}}catch(e){n=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(n)throw i}}return t+o(e,"after")}},{key:"Function",value:function(e){var t="".concat(e.name,"("),r=!0,n=!1,a=void 0;try{for(var u,s=e.nodes[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var l=u.value;t+=this.stringify(l)}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}return t+=o(e,"beforeClose"),!this.options.autofix&&e.unclosed||(t+=")"),i(e,t)}},{key:"Parentheses",value:function(e){var t="(",r=!0,n=!1,a=void 0;try{for(var u,s=e.nodes[Symbol.iterator]();!(r=(u=s.next()).done);r=!0){var l=u.value;t+=this.stringify(l)}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}return t+=o(e,"beforeClose"),!this.options.autofix&&e.unclosed||(t+=")"),i(e,t)}},{key:"MathExpression",value:function(e){var t="",r=o(e,"between"),n="",a="";return this.options.autofix&&(r||(r=" "),e.right.raws.before||(n=" "),"MathExpression"===e.left.type&&("+"!==e.left.operator&&"-"!==e.left.operator||"*"!==e.operator&&"/"!==e.operator||(t+="(",r=")".concat(r))),"MathExpression"===e.right.type&&(("+"!==e.operator||"-"!==e.right.operator)&&("-"!==e.operator&&"*"!==e.operator||"+"!==e.right.operator&&"-"!==e.right.operator)&&"/"!==e.operator||(n+="(",a=")".concat(a)))),i(e,"".concat(t).concat(this.stringify(e.left)).concat(r).concat(e.operator).concat(n).concat(this.stringify(e.right)).concat(a))}},{key:"Number",value:function(e){return i(e,n(e,"value"))}},{key:"Punctuator",value:function(e){return i(e,e.value)}},{key:"Word",value:function(e){return i(e,e.value)}},{key:"String",value:function(e){return i(e,e.value)}},{key:"Operator",value:function(e){return i(e,e.value)}},{key:"Length",value:function(e){return a(e)}},{key:"Angle",value:function(e){return a(e)}},{key:"Time",value:function(e){return a(e)}},{key:"Frequency",value:function(e){return a(e)}},{key:"Resolution",value:function(e){return a(e)}},{key:"Percentage",value:function(e){return a(e)}},{key:"Flex",value:function(e){return a(e)}},{key:"word",value:function(e){return e.value}},{key:"punctuator",value:function(e){return e.value}},{key:"operator",value:function(e){return e.value}},{key:"whitespace",value:function(e){return e.value}},{key:"comment",value:function(e){return e.value}},{key:"string",value:function(e){return e.value}},{key:"inline-comment",value:function(e){return e.value}}])&&r(t.prototype,u),e}();t.Stringifier=u},47525:(e,t,r)=>{"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(96269),i=r(49008);function a(e){return e===i.LPAREN||e===i.RPAREN||e===i.COMMA}function u(e){return i.isDigit(e)||e===i.DOT}function s(e){return e===i.DQUOTE||e===i.SQUOTE}function l(e){return e===i.LPAREN?i.RPAREN:e===i.LBRACE?i.RBRACE:i.RBRACKET}var c=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.lastCode=i.NULL,this.rescan=!1,this.token=null,this.lastTokenType=null,this.errors=[],this.text=t,this.offset=-1,this.state="SCAN",this.nextTokenOffset=0,this.options=Object.assign({allowInlineCommnets:!0},r||{})}var t,r;return t=e,r=[{key:"nextToken",value:function(){for(;null==this.token;){var e=this.scan();if(this.state=this[this.state](e)||"SCAN",e===i.EOF&&!this.rescan)break}var t=this.token;return this.token=null,t}},{key:"scan",value:function(){return this.rescan?(this.rescan=!1,this.lastCode):this.next()}},{key:"next",value:function(){return this.offset<this.text.length&&this.offset++,this.offset>=this.text.length?this.lastCode=i.EOF:this.lastCode=this.text.charCodeAt(this.offset)}},{key:"back",value:function(){this.rescan=!0}},{key:"reportParseError",value:function(e){var t=o.ParseError.fromCode(e,this.offset);this.errors.push(t)}},{key:"getCode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.text.charCodeAt(this.nextTokenOffset+e)}},{key:"commitToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.nextTokenOffset,n=this.offset+t+1,o=this.text.slice(r,n);this.token={type:e,value:o,source:{start:{index:r},end:{index:n}}},this.nextTokenOffset=n,this.lastTokenType=e}},{key:"SCAN",value:function(e){return i.isWhitespace(e)?"WHITESPACE":e===i.DQUOTE?"DQUOTE":e===i.SQUOTE?"SQUOTE":e===i.SLASH?"SLASH":e===i.MINUS?"MINUS":e===i.PLUS?"PLUS":e===i.STAR?(this.commitToken("operator"),"SCAN"):a(e)?(this.commitToken("punctuator"),"SCAN"):e===i.LBRACKET?"LBRACKET":e===i.LBRACE?"LBRACE":e===i.EOF?"SCAN":"WORD"}},{key:"WORD",value:function(e){for(;!i.isWhitespace(e)&&!a(e)&&e!==i.PLUS&&e!==i.STAR&&e!==i.SLASH&&!s(e)&&e!==i.EOF;){if(e===i.MINUS){var t=this.getCode();if(u(t)||(t===i.MINUS||t===i.PLUS)&&u(this.getCode(1)))return this.commitToken("word",-1),"MINUS"}else e!==i.LBRACE&&e!==i.LBRACKET&&e!==i.LPAREN||this.skipBrakets(this.next(),l(e));e=this.next()}this.commitToken("word",-1),this.back()}},{key:"LBRACKET",value:function(e){return this.skipBrakets(e,i.RBRACKET),"WORD"}},{key:"LBRACE",value:function(e){return this.skipBrakets(e,i.RBRACE),"WORD"}},{key:"WHITESPACE",value:function(e){for(;i.isWhitespace(e);)e=this.next();this.commitToken("whitespace",-1),this.back()}},{key:"SLASH",value:function(e){return e===i.STAR?"COMMENT":e===i.SLASH&&this.options.allowInlineCommnets?"INLINE_COMMENT":(this.commitToken("operator",-1),void this.back())}},{key:"COMMENT",value:function(e){for(;e!==i.EOF;){if(e===i.STAR&&(e=this.next())===i.SLASH)return void this.commitToken("comment");e=this.next()}this.commitToken("comment",-1),this.reportParseError("eof-in-comment")}},{key:"INLINE_COMMENT",value:function(e){for(;e!==i.EOF;){if(e===i.LF||e===i.FF)return void this.commitToken("inline-comment");if(e===i.CR)return(e=this.next())===i.LF?void this.commitToken("inline-comment"):(this.commitToken("inline-comment",-1),this.back());e=this.next()}this.commitToken("inline-comment",-1)}},{key:"MINUS",value:function(e){return"word"===this.lastTokenType||e===i.EOF||e!==i.MINUS&&!u(e)&&!i.isLetter(e)?(this.commitToken("operator",-1),void this.back()):"WORD"}},{key:"PLUS",value:function(e){if("word"!==this.lastTokenType&&u(e))return"WORD";this.commitToken("operator",-1),this.back()}},{key:"DQUOTE",value:function(e){this.skipString(e,i.DQUOTE)}},{key:"SQUOTE",value:function(e){this.skipString(e,i.SQUOTE)}},{key:"skipBrakets",value:function(e,t){for(var r=[];e!==i.EOF;){if(t===e){var n=r.pop()||null;if(!n)return;t=n}else e!==i.LBRACE&&e!==i.LBRACKET&&e!==i.LPAREN||(t&&r.push(t),t=l(e));e=this.next()}this.reportParseError("eof-in-bracket")}},{key:"skipString",value:function(e,t){for(;e!==i.EOF;){if(e===i.BACKSLASH)e=this.next();else if(e===t)return void this.commitToken("string");e=this.next()}this.commitToken("string",-1),this.reportParseError("eof-in-string")}}],r&&n(t.prototype,r),e}();t.Tokenizer=c},90318:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=RegExp("^(-(webkit|mox)-)?calc","iu"),n=RegExp("^(-(webkit|mox)-)?min","iu"),o=RegExp("^(-(webkit|mox)-)?max","iu"),i=RegExp("^(-(webkit|mox)-)?clamp","iu");function a(e){return r.test(e)}function u(e){return n.test(e)}function s(e){return o.test(e)}function l(e){return i.test(e)}t.isCalc=a,t.isMin=u,t.isMax=s,t.isClamp=l,t.isMathFunction=function(e){return a(e)||l(e)||u(e)||s(e)}},84647:(e,t,r)=>{"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,r){return a=y()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&p(o,r.prototype),o},a.apply(null,arguments)}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&u(e.prototype,t),r&&u(e,r),e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function h(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e){var t="function"==typeof Map?new Map:void 0;return d=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return a(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},d(e)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function v(e){var t=y();return function(){var r,n=c(e);if(t){var i=c(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?o(e):t;var r}(this,r)}}Object.defineProperty(t,"__esModule",{value:!0});var b=r(21165),g=null,m=function(){function e(){i(this,e),this.parent=null}return s(e,[{key:"toString",value:function(e){return"function"==typeof e?e(this):(e||g||(g=new b.Stringifier)).stringify(this)}},{key:"walk",value:function(e,t){var r=this,n=void 0,o=h(r.nodes||[]).concat([r.left,r.right]).filter((function(e){return Boolean(e)})),i="string"==typeof e?function(t){return t.type===e}:function(t){return e.test(t.type)},a=!0,u=!1,s=void 0;try{for(var l,c=o[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;if(i(f)&&!1===(n=t(f)))break;if(f.walk&&!1===(n=f.walk(e,t)))break}}catch(e){u=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(u)throw s}}return n}}]),e}(),w=function(e){f(r,e);var t=v(r);function r(){return i(this,r),t.apply(this,arguments)}return s(r,[{key:"push",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;"Root"===s.type?this.push.apply(this,h(s.nodes)):(s.parent=this,this.nodes.push(s))}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return this}},{key:"unshift",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=!0,o=!1,i=void 0;try{for(var a,u=t.reverse()[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;"Root"===s.type?this.unshift.apply(this,h(s.nodes)):(s.parent=this,this.nodes.unshift(s))}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return this}},{key:"append",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.push.apply(this,h(t))}},{key:"prepend",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.unshift.apply(this,h(t))}},{key:"insertBefore",value:function(e,t){if("Root"===t.type){var r=t.nodes;if(1===r.length)return this.insertBefore(e,r[0]);throw new Error("The given Root node is illegal.")}var n=this.nodes.indexOf(e);if(n<0)throw new Error("The given node could not be found.");return t.parent=this,this.nodes.splice(n,0,t),this}},{key:"insertAfter",value:function(e,t){if("Root"===t.type){var r=t.nodes;if(1===r.length)return this.insertAfter(e,r[0]);throw new Error("The given Root node is illegal.")}var n=this.nodes.indexOf(e);if(n<0)throw new Error("The given node could not be found.");return t.parent=this,this.nodes.splice(n+1,0,t),this}},{key:"removeAll",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.nodes[Symbol.iterator]();!(e=(n=o.next()).done);e=!0)n.value.parent=null}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}return this.nodes=[],this}},{key:"removeChild",value:function(e){var t=this.nodes.indexOf(e);return this.nodes[t].parent=null,this.nodes.splice(t,1),this}},{key:"first",get:function(){return this.nodes[0]||null}},{key:"last",get:function(){return this.nodes[this.nodes.length-1]||null}}]),r}(d(m)),S=function(e){f(r,e);var t=v(r);function r(e,n,o){var a;i(this,r),a=t.call(this);var u=parseFloat(e);return a.type="Number",a.value=u,a.raws={before:n,value:{raw:e,value:u}},a.source=o,a}return r}(d(m));t.NumberValue=S;var E=function(e){f(r,e);var t=v(r);function r(e,n,o,a,u){var s;i(this,r),s=t.call(this);var l=parseFloat(n);return s.type=e,s.value=l,s.unit=o,s.raws={before:a,value:{raw:n,value:l}},s.source=u,s}return r}(d(m)),O=function(e){f(r,e);var t=v(r);function r(e,n,o,a){return i(this,r),t.call(this,"Length",e,n,o,a)}return r}(E);t.LengthValue=O;var x=function(e){f(r,e);var t=v(r);function r(e,n,o,a){return i(this,r),t.call(this,"Angle",e,n,o,a)}return r}(E);t.AngleValue=x;var k=function(e){f(r,e);var t=v(r);function r(e,n,o,a){return i(this,r),t.call(this,"Time",e,n,o,a)}return r}(E);t.TimeValue=k;var A=function(e){f(r,e);var t=v(r);function r(e,n,o,a){return i(this,r),t.call(this,"Frequency",e,n,o,a)}return r}(E);t.FrequencyValue=A;var T=function(e){f(r,e);var t=v(r);function r(e,n,o,a){return i(this,r),t.call(this,"Resolution",e,n,o,a)}return r}(E);t.ResolutionValue=T;var P=function(e){f(r,e);var t=v(r);function r(e,n,o,a){return i(this,r),t.call(this,"Percentage",e,n,o,a)}return r}(E);t.PercentageValue=P;var I=function(e){f(r,e);var t=v(r);function r(e,n,o,a){return i(this,r),t.call(this,"Flex",e,n,o,a)}return r}(E);t.FlexValue=I;var _=function(e){f(r,e);var t=v(r);function r(e,n,o,a){var u;return i(this,r),(u=t.call(this)).type=e,u.value=n,u.raws={before:o},u.source=a,u}return r}(d(m)),R=function(e){f(r,e);var t=v(r);function r(e,n,o){return i(this,r),t.call(this,"Word",e,n,o)}return r}(_);t.Word=R;var N=function(e){f(r,e);var t=v(r);function r(e,n,o){return i(this,r),t.call(this,"String",e,n,o)}return r}(_);function M(e,t,r){var n,o=Symbol("".concat(t));Object.defineProperties(e,(l(n={},o,{writable:!0,enumerable:!1}),l(n,t,{get:function(){return this[o]},set:function(e){var t=this[o];this[o]=r(e,t)},enumerable:!0}),n))}t.StringNode=N;var j=function(e){f(r,e);var t=v(r);function r(e,n,a,u,s){var l;i(this,r),l=t.call(this);var c=n.value,f=n.raws.before;l.type="MathExpression";var p=function(e,t){var r;if("Root"===e.type){var n=e.nodes;if(1!==n.length)throw new Error("The given Root node is illegal.");r=n[0]}else r=e;return r.parent=o(l),t&&(t.parent=null),r};return M(o(l),"left",p),l.left=e,l.operator=c,M(o(l),"right",p),l.right=a,l.raws={before:u,between:f},l.source=s,l}return r}(d(m));t.MathExpression=j;var C=function(e){f(r,e);var t=v(r);function r(e,n,o){var a;return i(this,r),(a=t.call(this)).type="Function",a.name=e,a.nodes=[],a.raws={before:n},a.source=o,a}return r}(w);t.FunctionNode=C;var L=function(e){f(r,e);var t=v(r);function r(e,n){var o;return i(this,r),(o=t.call(this)).type="Parentheses",o.nodes=[],o.raws={before:e},o.source=n,o}return r}(w);t.Parentheses=L;var D=function(e){f(r,e);var t=v(r);function r(e,n,o){return i(this,r),t.call(this,"Punctuator",e,n,o)}return r}(_);t.Punctuator=D;var B=function(e){f(r,e);var t=v(r);function r(e){var n;return i(this,r),(n=t.call(this)).type="Root",n.nodes=[],n.tokens=[],n.errors=[],n.raws={after:""},n.source=e,n}return r}(w);t.Root=B;var F=function(e){f(r,e);var t=v(r);function r(e,n,o){return i(this,r),t.call(this,"Operator",e,n,o)}return r}(_);t.Operator=F},49008:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EOF=-1,t.NULL=0,t.TAB=9,t.CR=13,t.LF=10,t.FF=12,t.SPACE=32,t.DQUOTE=34,t.SQUOTE=39,t.LPAREN=40,t.RPAREN=41,t.STAR=42,t.PLUS=43,t.COMMA=44,t.MINUS=45,t.DOT=46,t.SLASH=47,t.LBRACKET=91,t.BACKSLASH=92,t.RBRACKET=93,t.LBRACE=123,t.RBRACE=125,t.isWhitespace=function(e){return e===t.TAB||e===t.LF||e===t.FF||e===t.CR||e===t.SPACE},t.isDigit=function(e){return e>=48&&e<=57},t.isLetter=function(e){return e>=97&&e<=122||e>=65&&e<=90}},65025:(e,t)=>{"use strict";function r(e){return"Punctuator"===e.type&&","===e.value}Object.defineProperty(t,"__esModule",{value:!0}),t.isComma=r,t.getFunctionArguments=function(e){var t=e.nodes,n=t[0];if(!n||r(n))return null;for(var o=[n],i=t.length,a=1;a<i;a++){if(!r(t[a++]))return null;var u=t[a];if(!u||r(u))return null;o.push(u)}return o}},21048:(e,t,r)=>{"use strict";var n=r(96269),o=r(2053);o.Parser,o.Tokenizer,o.Stringifier,o.getResolvedType,o.reduceExpression,o.newMathExpression,t.default={parse:function(e,t){var r=new o.Tokenizer(e,t);return new o.Parser(r,t).parse()},stringify:function(e,t){return new o.Stringifier(t).stringify(e)},getResolvedType:o.getResolvedType,reduceExpression:o.reduceExpression,mathExpr:o.newMathExpression,Parser:o.Parser,Tokenizer:o.Tokenizer,Stringifier:o.Stringifier,AST:n}},69840:(e,t)=>{"use strict";function r(e,t,n){return r=u()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&i(o,r.prototype),o},r.apply(null,arguments)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},o(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return r(e,arguments,o(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),i(a,e)},a(e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(f,e);var t,r,a,s,c=(t=f,r=u(),function(){var e,n=o(t);if(r){var i=o(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(this,e)});function f(e,t,r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),(n=c.call(this,e)).code=t,n.index=r,n}return a=f,s=[{key:"fromCode",value:function(e,t){return new f(l[e],e,t)}}],null&&n(a.prototype,null),s&&n(a,s),f}(a(SyntaxError));t.ParseError=s;var l={"eof-in-string":"Unclosed string","eof-in-comment":"Unclosed comment","eof-in-bracket":"Unclosed bracket","unexpected-parenthesis":"Unexpected token","unexpected-calc-token":"Unexpected token"}},96269:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(69840))},90087:e=>{var t="-".charCodeAt(0),r="+".charCodeAt(0),n=".".charCodeAt(0),o="e".charCodeAt(0),i="E".charCodeAt(0);e.exports=function(e){for(var a,u=0,s=e.length,l=!1,c=-1,f=!1;u<s;){if((a=e.charCodeAt(u))>=48&&a<=57)f=!0;else if(a===o||a===i){if(c>-1)break;c=u}else if(a===n){if(l)break;l=!0}else{if(a!==r&&a!==t)break;if(0!==u)break}u+=1}return c+1===u&&u--,!!f&&{number:e.slice(0,u),unit:e.slice(u)}}},80262:e=>{var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i,a,u=t&&(i=t.prototype,null!=(a=b)&&"undefined"!=typeof Symbol&&a[Symbol.hasInstance]?a[Symbol.hasInstance](i):i instanceof a)?t:b,s=Object.create(u.prototype),l=new _(n||[]);return o(s,"_invoke",{value:A(e,r,l)}),s}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p="suspendedStart",h="suspendedYield",d="executing",y="completed",v={};function b(){}function g(){}function m(){}var w={};l(w,a,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(R([])));E&&E!==r&&n.call(E,a)&&(w=E);var O=m.prototype=b.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(o,i,a,u){var s=f(e[o],e,i);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==typeof c&&n.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,a,u)}),(function(e){r("throw",e,a,u)})):t.resolve(c).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function A(e,t,r){var n=p;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===y){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var u=T(a,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var s=f(e,t,r);if("normal"===s.type){if(n=r.done?y:h,s.arg===v)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n=y,r.method="throw",r.arg=s.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function R(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=m,o(O,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:g,configurable:!0}),g.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},x(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new k(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(O),l(O,s,"Generator"),l(O,a,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=R,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return u.type="throw",u.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),l=n.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:R(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},35708:(e,t,r)=>{"use strict";var n=r(85465);function o(e,t,r,n){if(!u(e))return e;var s=n||{},l=Array.isArray(t);if(!l&&"string"!=typeof t)return e;var c=s.merge;c&&"function"!=typeof c&&(c=Object.assign);var f=(l?t:function(e,t){var r=function(e,t){var r=e;if(void 0===t)return r+"";for(var n=Object.keys(t),o=0;o<n.length;o++){var i=n[o];r+=";"+i+"="+String(t[i])}return r}(e,t);if(o.memo[r])return o.memo[r];var n,i=t&&t.separator?t.separator:".",a=[];n=t&&"function"==typeof t.split?t.split(e):e.split(i);for(var u=0;u<n.length;u++){for(var s=n[u];s&&"\\"===s.slice(-1)&&null!=n[u+1];)s=s.slice(0,-1)+i+n[++u];a.push(s)}return o.memo[r]=a,a}(t,s)).filter(a),p=f.length,h=e;if(!n&&1===f.length)return i(e,f[0],r,c),e;for(var d=0;d<p;d++){var y=f[d];if(u(e[y])||(e[y]={}),d===p-1){i(e,y,r,c);break}e=e[y]}return h}function i(e,t,r,o){o&&n(e[t])&&n(r)?e[t]=o({},e[t],r):e[t]=r}function a(e){return"string"!=typeof e&&"number"!=typeof e&&(e=String(e)),"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}function u(e){return null!==e&&("object"==typeof e||"function"==typeof e)}o.memo={},e.exports=o}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";r(80262);var e,t,n,o,i=function(e){if(!Array.isArray(e))throw new Error("expected an array");for(var t=[],r=e.length,n=0;n<r;n++){var o=e[n];o&&t.push(o)}return t};(o=e||(e={})).SELECTION="selection",o.NO_SELECTION="noselection",o.STYLES="styles",o.VARIABLES="variables",o.API_PROVIDERS="apiProviders",o.UI_SETTINGS="uiSettings",o.SHOW_EMPTY_GROUPS="show_empty_groups",o.START_JOB="start_job",o.COMPLETE_JOB="complete_job",o.CLEAR_JOBS="clear_jobs",o.ADD_JOB_TASKS="add_job_tasks",o.COMPLETE_JOB_TASKS="complete_job_tasks",o.SET_TOKENS="set_tokens",o.NOTIFY_EXCEPTION="notify_exception",o.TRACK_FROM_PLUGIN="track_from_plugin",o.RENAME_COLLECTIONS_AND_MODES="rename_collections_and_modes",o.INSTANCES_CREATED="INSTANCES_CREATED",(n=t||(t={})).CREATE_STYLES="async/create-styles",n.RENAME_STYLES="async/rename-styles",n.REMOVE_STYLES="async/remove-styles",n.CREDENTIALS="async/credentials",n.CHANGED_TABS="async/changed-tabs",n.SET_ONBOARDINGEXPLAINERSETS="async/set-onboardingExplainerSets",n.SET_ONBOARDINGEXPLAINEREXPORTSETS="async/set-onboardingExplainerExportSets",n.SET_ONBOARDINGEXPLAINERSYNCPROVIDERS="async/set-onboardingExplainerSyncProviders",n.SET_ONBOARDINGEXPLAINERINSPECT="async/set-onboardingExplainerInspect",n.REMOVE_SINGLE_CREDENTIAL="async/remove-single-credential",n.SET_STORAGE_TYPE="async/set-storage-type",n.SET_NODE_DATA="async/set-node-data",n.REMOVE_TOKENS_BY_VALUE="async/remove-tokens-by-value",n.REMAP_TOKENS="async/remap-tokens",n.BULK_REMAP_TOKENS="async/bulk-remap-tokens",n.GOTO_NODE="async/goto-node",n.SELECT_NODES="async/select-nodes",n.PULL_STYLES="async/pull-styles",n.PULL_VARIABLES="async/pull-variables",n.NOTIFY="async/notify",n.CANCEL_OPERATION="async/cancel-operation",n.RESIZE_WINDOW="async/resize-window",n.SET_SHOW_EMPTY_GROUPS="async/set-show-empty-groups",n.SET_UI="async/set-ui",n.CREATE_ANNOTATION="async/create-annotation",n.UPDATE="async/update",n.UPDATE_CHECK_FOR_CHANGES="async/update-check-for-changes",n.SET_LICENSE_KEY="async/set-license-key",n.ATTACH_LOCAL_STYLES_TO_THEME="async/attach-local-styles-to-theme",n.RESOLVE_STYLE_INFO="async/resolve-style-info",n.SET_NONE_VALUES_ON_NODE="async/set-none-values-on-node",n.SET_AUTH_DATA="async/set-auth-data",n.SET_USED_EMAIL="async/set-used-email",n.REMOVE_RELAUNCH_DATA="async/remove-relaunch-data",n.SET_VARIABLE_EXPORT_SETTINGS="async/set-variable-export-settings",n.SET_SELECTED_EXPORT_THEMES="async/set-selected-export-themes",n.CREATE_LIVING_DOCUMENTATION="async/create-living-documentation",n.STARTUP="async/startup",n.GET_THEME_INFO="async/get-theme-info",n.GET_FIGMA_FONTS="async/get-figma-fonts",n.REMOVE_STYLES_WITHOUT_CONNECTION="async/remove-styles-without-connection",n.CREATE_LOCAL_VARIABLES="async/create-local-variables",n.CREATE_LOCAL_VARIABLES_WITHOUT_MODES="async/create-local-variables-without-modes",n.RESOLVE_VARIABLE_INFO="async/resolve-variable-info",n.ATTACH_LOCAL_VARIABLES_TO_THEME="async/attach-local-variables-to-theme",n.RENAME_VARIABLES="async/rename-variables",n.UPDATE_VARIABLES="async/update-variables",n.SET_INITIAL_LOAD="async/set-initial-load",n.PREVIEW_REQUEST_STARTUP="async/preview-request-startup",n.GET_AVAILABLE_VARIABLE_COLLECTIONS="async/get-available-variable-collections";var a=r(59626),u=r.n(a);function s(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,u,"next",e)}function u(e){s(i,n,o,a,u,"throw",e)}a(void 0)}))}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){f(e,t,r[t])}))}return e}function h(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function d(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var y,v,b,g=function(e,t){var r=JSON.stringify(t);e&&1===e.readyState?e.send(r):setTimeout((function(){g(e,t)}),1e3)},m=function(e){parent.postMessage({pluginMessage:e},"*")},w=function(e){figma.ui.postMessage(e)},S=function(e){try{var t=JSON.parse(e.data);if("server"===t.src)return JSON.parse(t.message)}catch(e){return console.warn("not a valid message",e),null}return null};!function(e){e.PLUGIN="PLUGIN",e.UI="UI",e.BROWSER="BROWSER"}(y||(y={})),function(e){e.browser="browser",e.ui="ui",e.figma="figma"}(v||(v={})),function(e){e.browser="browser",e.figma="figma"}(b||(b={}));var E=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"$handlers",{}),f(this,"isInFigmaSandbox",!1),f(this,"environment",null),f(this,"isPreview",!1),f(this,"ws",null),f(this,"isWsConnected",!1),f(this,"sendMessageToBrowser",(function(e){g(r.ws,h(p({},e),{src:"ui"}))})),f(this,"sendMessageFromBrowser",(function(e){g(r.ws,h(p({},e),{src:"browser"}))}));var n,o=this;f(this,"onMessageEvent",(n=l((function(e){var t,r,n,i;return d(this,(function(a){switch(a.label){case 0:if(!(e&&e.id&&e.message&&e.message.type.startsWith("async/")))return(null==e?void 0:e.type)&&"UI"===o.environment?("browser"!==e.src?o.sendMessageToBrowser(h(p({},e),{src:"ui"})):m(e),[2]):[2];if(t=o.$handlers[e.message.type],"UI"===o.environment&&o.isPreview)return"browser"!==e.src?o.sendMessageToBrowser(h(p({},e),{src:"ui"})):m(e),[2];if(!t)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,t(e.message)];case 2:return r=a.sent(),n=r?h(p({},r),{type:e.message.type}):{type:e.message.type},o.isInFigmaSandbox?w({id:e.id,message:n}):"BROWSER"===o.environment?o.sendMessageFromBrowser({id:e.id,message:n,src:"browser"}):m({id:e.id,message:n}),[3,4];case 3:return i=a.sent(),console.error(i),o.isInFigmaSandbox?w({id:e.id,error:i}):m({id:e.id,error:i}),[3,4];case 4:return[2]}}))})),function(e){return n.apply(this,arguments)})),this.isInFigmaSandbox=t,this.environment=t?"PLUGIN":"UI"}var t,r;return t=e,r=[{key:"getWs",value:function(){return this.ws}},{key:"listenerFactory",value:function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},o=(r=l((function(r){var i,a,u;return d(this,(function(s){switch(s.label){case 0:return i=e(n(r)),(a=!1===i)?[3,3]:(u=i)?[4,i]:[3,2];case 1:u=!1===s.sent(),s.label=2;case 2:a=u,s.label=3;case 3:return a&&t("message",o),[2]}}))})),function(e){return r.apply(this,arguments)});return o}},{key:"attachMessageListener",value:function(e){var t=this;switch(this.environment){case"PLUGIN":var r=this.listenerFactory(e,figma.ui.off);return figma.ui.on("message",r),function(){return figma.ui.off("message",r)};case"BROWSER":case"UI":var n,o,i=this.isPreview?this.listenerFactory(e,null===(n=this.ws)||void 0===n?void 0:n.removeEventListener,S):null,a=this.listenerFactory(e,window.removeEventListener,(function(e){return e.data.pluginMessage}));return window.addEventListener("message",a),i&&(null===(o=this.ws)||void 0===o||o.addEventListener("message",i)),function(){var e;window.removeEventListener("message",a),i&&(null===(e=t.ws)||void 0===e||e.removeEventListener("message",i))};default:return null}}},{key:"startWebSocketConnection",value:function(){var e=this;if(null===this.ws){this.ws=new WebSocket("ws://localhost:9001/ws");var t=this;this.ws.addEventListener("open",(function(){t.isWsConnected=!0})),this.ws.addEventListener("close",(function(){t.isWsConnected=!1,setTimeout((function(){t.ws=null,e.startWebSocketConnection()}),5e3)}))}return function(){e.ws&&e.ws.close()}}},{key:"connect",value:function(){return"PLUGIN"!==this.environment&&this.isPreview&&this.startWebSocketConnection(),this.attachMessageListener(this.onMessageEvent)}},{key:"handle",value:function(e,t){this.$handlers[e]=t}},{key:"message",value:function(e){var t=this;return l((function(){var r,n;return d(this,(function(o){switch(r=u()({message:e,datetime:Date.now()}),n=new Promise((function(e,n){t.attachMessageListener((function(t){if((null==t?void 0:t.id)===r)return"message"in t?e(t.message):n(t.error),!1}))})),t.environment){case"PLUGIN":w({id:r,message:e,src:"figma"});break;case"UI":t.isPreview?t.sendMessageToBrowser({id:r,message:e}):m({id:r,message:e});break;case"BROWSER":t.sendMessageFromBrowser({id:r,message:e})}return[2,n]}))}))()}}],r&&c(t.prototype,r),e}();function O(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function x(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){O(i,n,o,a,u,"next",e)}function u(e){O(i,n,o,a,u,"throw",e)}a(void 0)}))}}function k(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}f(E,"PluginInstance",new E(!0)),f(E,"ReactInstance",new E(!1));var P=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),A(this,"$handlers",{}),A(this,"isInFigmaSandbox",!1),this.isInFigmaSandbox=t}var t,r;return t=e,r=[{key:"attachMessageListener",value:function(e){if(this.isInFigmaSandbox){var t=(r=x((function(r){var n,o,i;return T(this,(function(a){switch(a.label){case 0:return n=e(r),(o=!1===n)?[3,3]:(i=n)?[4,n]:[3,2];case 1:i=!1===a.sent(),a.label=2;case 2:o=i,a.label=3;case 3:return o&&figma.ui.off("message",t),[2]}}))})),function(e){return r.apply(this,arguments)});return figma.ui.on("message",t),function(){return figma.ui.off("message",t)}}var r,n=function(){var t=x((function(t){var r,o,i;return T(this,(function(a){switch(a.label){case 0:return r=e(t.data.pluginMessage),(o=!1===r)?[3,3]:(i=r)?[4,r]:[3,2];case 1:i=!1===a.sent(),a.label=2;case 2:o=i,a.label=3;case 3:return o&&window.removeEventListener("message",n),[2]}}))}));return function(e){return t.apply(this,arguments)}}();return window.addEventListener("message",n),function(){return window.removeEventListener("message",n)}}},{key:"connect",value:function(){var e,t=this;return this.attachMessageListener((e=x((function(e){var r,n,o,i;return T(this,(function(a){switch(a.label){case 0:if(!(e&&e.id&&e.message&&e.message.type.startsWith("async/")))return[2];if(!(r=t.$handlers[e.message.type]))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r(e.message)];case 2:return n=a.sent(),o=n?(u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){A(e,t,r[t])}))}return e}({},n),s=null!=(s={type:e.message.type})?s:{},Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(s)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(s)).forEach((function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(s,e))})),u):{type:e.message.type},t.isInFigmaSandbox?figma.ui.postMessage({id:e.id,message:o}):parent.postMessage({pluginMessage:{id:e.id,message:o}},"*"),[3,4];case 3:return i=a.sent(),console.error(i),t.isInFigmaSandbox?figma.ui.postMessage({id:e.id,error:i}):parent.postMessage({pluginMessage:{id:e.id,error:i}},"*"),[3,4];case 4:return[2]}var u,s}))})),function(t){return e.apply(this,arguments)}))}},{key:"handle",value:function(e,t){this.$handlers[e]=t}},{key:"message",value:function(e){var t=this;return x((function(){var r,n;return T(this,(function(o){return r=u()({message:e,datetime:Date.now()}),n=new Promise((function(e,n){t.attachMessageListener((function(t){if(t.id===r)return"message"in t?e(t.message):n(t.error),!1}))})),t.isInFigmaSandbox?figma.ui.postMessage({id:r,message:e}):parent.postMessage({pluginMessage:{id:r,message:e}},"*"),[2,n]}))}))()}}],r&&k(t.prototype,r),e}();A(P,"PluginInstance",new P(!0)),A(P,"ReactInstance",new P(!1));var I,_,R=P;function N(e,t){figma.notify(e,t)}function M(e){figma.ui.postMessage(e)}function j(t){M({type:e.INSTANCES_CREATED,count:t})}function C(){M({type:e.NO_SELECTION})}function L(t){M({type:e.API_PROVIDERS,providers:t})}function D(t,r){M({type:e.VARIABLES,values:t,themes:r})}function B(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M({type:e.NOTIFY_EXCEPTION,error:t,opts:r})}(_=I||(I={})).LOCAL="local",_.GENERIC_VERSIONED_STORAGE="genericVersionedStorage",_.JSONBIN="jsonbin",_.GITHUB="github",_.GITLAB="gitlab",_.SUPERNOVA="supernova",_.ADO="ado",_.URL="url",_.BITBUCKET="bitbucket",_.TOKENS_STUDIO="tokensstudio";const F=function(e,t){if(t.provider!==I.LOCAL&&e.internalId&&t.internalId)return e.internalId===t.internalId;switch(t.provider){case I.GITHUB:case I.GITLAB:case I.ADO:case I.BITBUCKET:return e.id===t.id&&e.provider===t.provider&&e.filePath===t.filePath&&e.branch===t.branch;case I.GENERIC_VERSIONED_STORAGE:case I.JSONBIN:case I.URL:return e.id===t.id&&e.provider===t.provider;case I.SUPERNOVA:return e.id===t.id&&e.provider===t.provider&&e.designSystemUrl===t.designSystemUrl&&JSON.stringify(e.mapping)===JSON.stringify(t.mapping);case I.TOKENS_STUDIO:return e.id===t.id&&e.provider===t.provider&&e.orgId===t.orgId&&e.baseUrl===t.baseUrl;default:return!1}};function G(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var U="_meta",V="_chunk_";function W(e,t){return z.apply(this,arguments)}function z(){var e;return e=function(e,t){var r,n,o,i,a,u,s,l=arguments;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(c){switch(c.label){case 0:if(r=l.length>2&&void 0!==l[2]?l[2]:figma.root,!["values","themes"].includes(t))return[2,(null==r?void 0:r.getSharedPluginData(e,t))||null];if(n="".concat(t).concat(U),!(o=null==r?void 0:r.getSharedPluginData(e,n)))return[3,5];c.label=1;case 1:return c.trys.push([1,4,,5]),"single"===(i=JSON.parse(o)).type?[2,(null==r?void 0:r.getSharedPluginData(e,t))||null]:"chunked"===i.type&&i.count?(a=Array.from({length:i.count},(function(n,o){var i="".concat(t).concat(V).concat(o);return null==r?void 0:r.getSharedPluginData(e,i)})),[4,Promise.all(a)]):[3,3];case 2:return(u=c.sent()).some((function(e){return!e}))?(console.error("One or more chunks are missing"),[2,null]):[2,u.join("")];case 3:return console.error("Unknown metadata type or missing count:",i),[2,null];case 4:return s=c.sent(),console.error("Error parsing metadata:",s),[2,null];case 5:return[2,(null==r?void 0:r.getSharedPluginData(e,t))||null]}}))},z=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){G(i,n,o,a,u,"next",e)}function u(e){G(i,n,o,a,u,"throw",e)}a(void 0)}))},z.apply(this,arguments)}function H(e){return 2*e.length}function $(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Y,K=97280,q="_meta",J="_chunk_";function X(e,t,r){return Z.apply(this,arguments)}function Z(){var e;return e=function(e,t,r){var n,o,i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O=arguments;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(x){if(n=O.length>3&&void 0!==O[3]?O[3]:figma.root,!r){null==n||n.setSharedPluginData(e,t,""),o="".concat(t).concat(q),null==n||n.setSharedPluginData(e,o,"");try{if((i=null==n?void 0:n.getSharedPluginData(e,o))&&"chunked"===(a=JSON.parse(i)).type&&a.count)for(u=0;u<a.count;u+=1)s="".concat(t).concat(J).concat(u),null==n||n.setSharedPluginData(e,s,"")}catch(e){}return[2]}if(!["values","themes"].includes(t))return null==n||n.setSharedPluginData(e,t,r),[2];if(H(r)<=K){l="".concat(t).concat(q),null==n||n.setSharedPluginData(e,l,JSON.stringify({type:"single"})),null==n||n.setSharedPluginData(e,t,r);try{if((c=null==n?void 0:n.getSharedPluginData(e,l))&&"chunked"===(f=JSON.parse(c)).type&&f.count)for(p=0;p<f.count;p+=1)h="".concat(t).concat(J).concat(p),null==n||n.setSharedPluginData(e,h,"")}catch(e){}}else{for(d=function(e,t){for(var r=[],n="",o=0,i=Math.floor(t/2),a=0;a<e.length;a+=1){var u=e[a];o+1>i?(r.push(n),n=u,o=1):(n+=u,o+=1)}return n&&r.push(n),r}(r,K),y=d.length,v="".concat(t).concat(q),null==n||n.setSharedPluginData(e,v,JSON.stringify({type:"chunked",count:y})),b=0;b<y;b+=1)g="".concat(t).concat(J).concat(b),null==n||n.setSharedPluginData(e,g,d[b]);null==n||n.setSharedPluginData(e,t,"");try{if((m=null==n?void 0:n.getSharedPluginData(e,v))&&"chunked"===(w=JSON.parse(m)).type&&w.count&&w.count>y)for(S=y;S<w.count;S+=1)E="".concat(t).concat(J).concat(S),null==n||n.setSharedPluginData(e,E,"")}catch(e){}}return[2]}))},Z=function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){$(i,n,o,a,u,"next",e)}function u(e){$(i,n,o,a,u,"throw",e)}a(void 0)}))},Z.apply(this,arguments)}function Q(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function ee(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Q(i,n,o,a,u,"next",e)}function u(e){Q(i,n,o,a,u,"throw",e)}a(void 0)}))}}function te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}!function(e){e.CLIENT_STORAGE="client_storage",e.SHARED_PLUGIN_DATA="shared_plugin_data"}(Y||(Y={}));var oe=function(){function e(t,r,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),re(this,"storageType","client_storage"),re(this,"key",void 0),re(this,"stringify",(function(e){return String(e)})),re(this,"parse",(function(e){return e})),this.storageType=t,this.key=r,n&&(this.stringify=n),o&&(this.parse=o)}var t,r;return t=e,r=[{key:"read",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:figma.root,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;return ee((function(){var n,o,i,a,u;return ne(this,(function(s){switch(s.label){case 0:return"client_storage"!==r.storageType?[3,2]:[4,figma.clientStorage.getAsync(r.key)];case 1:return[2,(n=s.sent())?r.parse(n,t):null];case 2:return"shared_plugin_data"!==r.storageType?[3,4]:(o=r.key.split("/"),i=o[0],a=o.slice(1).join("/"),[4,W(i,a,e)]);case 3:return[2,(u=s.sent())?r.parse(u,t):null];case 4:return[2,null]}}))}))()}},{key:"write",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:figma.root,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this;return ee((function(){var o,i,a,u;return ne(this,(function(s){switch(s.label){case 0:return"client_storage"!==n.storageType?[3,2]:[4,figma.clientStorage.setAsync(n.key,e?n.stringify(e,r):null)];case 1:return s.sent(),[2];case 2:return"shared_plugin_data"!==n.storageType?[3,4]:(o=n.key.split("/"),i=o[0],a=o.slice(1).join("/"),u=e?n.stringify(e,r):null,[4,X(i,a,u,t)]);case 3:s.sent(),s.label=4;case 4:return[2]}}))}))()}}],r&&te(t.prototype,r),e}();function ie(e){try{return JSON.parse(e)}catch(e){console.error(e)}return null}var ae,ue,se,le=new oe(Y.CLIENT_STORAGE,"apiProviders",(function(e){return JSON.stringify(e)}),(function(e){var t,r=null!==(t=ie(e))&&void 0!==t?t:[];return Array.isArray(r)?r:Object.values(r).filter((function(e){return"object"==typeof e}))})),ce=new oe(Y.CLIENT_STORAGE,"userId"),fe=r(8870);function pe(e,t){try{return e()}catch(e){return console.error(e),t}}function he(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(se=ae||(ae={})).sizing="sizing",se.height="height",se.width="width",se.minWidth="minWidth",se.maxWidth="maxWidth",se.minHeight="minHeight",se.maxHeight="maxHeight",se.spacing="spacing",se.verticalPadding="verticalPadding",se.horizontalPadding="horizontalPadding",se.counterAxisSpacing="counterAxisSpacing",se.paddingTop="paddingTop",se.paddingRight="paddingRight",se.paddingBottom="paddingBottom",se.paddingLeft="paddingLeft",se.itemSpacing="itemSpacing",se.fill="fill",se.backgroundBlur="backgroundBlur",se.border="border",se.borderTop="borderTop",se.borderRight="borderRight",se.borderBottom="borderBottom",se.borderLeft="borderLeft",se.borderColor="borderColor",se.borderRadius="borderRadius",se.borderRadiusTopLeft="borderRadiusTopLeft",se.borderRadiusTopRight="borderRadiusTopRight",se.borderRadiusBottomRight="borderRadiusBottomRight",se.borderRadiusBottomLeft="borderRadiusBottomLeft",se.borderWidth="borderWidth",se.borderWidthTop="borderWidthTop",se.borderWidthRight="borderWidthRight",se.borderWidthBottom="borderWidthBottom",se.borderWidthLeft="borderWidthLeft",se.boxShadow="boxShadow",se.opacity="opacity",se.fontFamilies="fontFamilies",se.fontWeights="fontWeights",se.fontSizes="fontSizes",se.lineHeights="lineHeights",se.typography="typography",se.composition="composition",se.letterSpacing="letterSpacing",se.paragraphSpacing="paragraphSpacing",se.textCase="textCase",se.dimension="dimension",se.textDecoration="textDecoration",se.asset="asset",se.visibility="visibility",se.verticalTrim="verticalTrim",se.text="text",se.number="number",se.tokenValue="tokenValue",se.value="value",se.tokenName="tokenName",se.description="description",se.rotation="rotation",se.x="x",se.y="y",function(e){e.TOKENS="tokens"}(ue||(ue={}));var de=Object.freeze(he({},ue.TOKENS,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){he(e,t,r[t])}))}return e}({version:"version",values:"values",updatedAt:"updatedAt",storageType:"storageType",persistentNodesCache:"persistentNodesCache",usedTokenSet:"usedTokenSet",checkForChanges:"checkForChanges",activeTheme:"activeTheme",themes:"themes",collapsedTokenSets:"collapsedTokenSets",tokenFormat:"tokenFormat",fileKey:"fileKey",isCompressed:"isCompressed",variableExportSettings:"variableExportSettings",selectedExportThemes:"selectedExportThemes"},ae))),ye=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.values),(function(e){return(0,fe.compressToUTF16)(JSON.stringify(e))}),(function(e,t){return pe((function(){if(!e)return{};if(!t)return JSON.parse(e);var r=(0,fe.decompressFromUTF16)(e);return JSON.parse(r)}),{})})),ve=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.themes),(function(e){return(0,fe.compressToUTF16)(JSON.stringify(e))}),(function(e,t){return pe((function(){if(!e)return[];if(!t){var r=e?JSON.parse(e):[];return Array.isArray(r)?r:[]}var n=(0,fe.decompressFromUTF16)(e);return JSON.parse(n)}),[])})),be=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.activeTheme),(function(e){return JSON.stringify(e)}),(function(e){return pe((function(){return e?JSON.parse(e):{}}),e)})),ge=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.version)),me=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.updatedAt)),we=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.storageType),(function(e){return JSON.stringify(function(e,t){var r={};for(var n in"string"==typeof t&&(t=[].slice.call(arguments,1)),e)e.hasOwnProperty&&!e.hasOwnProperty(n)||-1===t.indexOf(n)&&(r[n]=e[n]);return r}(e,"secret"))}),(function(e){return ie(e)})),Se=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.usedTokenSet),(function(e){return JSON.stringify(e)}),(function(e){var t;return null!==(t=ie(e))&&void 0!==t?t:{}})),Ee=new oe(Y.CLIENT_STORAGE,"lastOpened",(function(e){return String(e)}),(function(e){return parseInt(e,10)})),Oe=new oe(Y.CLIENT_STORAGE,"onboardingExplainerSets"),xe=new oe(Y.CLIENT_STORAGE,"onboardingExplainerExportSets"),ke=new oe(Y.CLIENT_STORAGE,"onboardingExplainerSyncProviders"),Ae=new oe(Y.CLIENT_STORAGE,"onboardingExplainerInspect"),Te=new oe(Y.CLIENT_STORAGE,"uiSettings",(function(e){return JSON.stringify(e)}),(function(e){var t;return null!==(t=ie(e))&&void 0!==t?t:{}})),Pe=new oe(Y.CLIENT_STORAGE,"licenseKey"),Ie=new oe(Y.CLIENT_STORAGE,"auth",(function(e){return JSON.stringify(e)}),(function(e){return ie(e)})),_e=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.collapsedTokenSets),(function(e){return JSON.stringify(e)}),(function(e){return pe((function(){var t=e?JSON.parse(e):[];return Array.isArray(t)?t:[]}),[])})),Re=new oe(Y.CLIENT_STORAGE,"initialLoad"),Ne=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.tokenFormat)),Me=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.fileKey),(function(e){return e}),(function(e){return e})),je=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.checkForChanges),(function(e){return String(e)}),(function(e){return"true"===e})),Ce=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.isCompressed),(function(e){return String(e)}),(function(e){return"true"===e})),Le=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.variableExportSettings),(function(e){return JSON.stringify(e)}),(function(e){return pe((function(){return e?JSON.parse(e):{}}),{})})),De=new oe(Y.SHARED_PLUGIN_DATA,"".concat(ue.TOKENS,"/").concat(de.tokens.selectedExportThemes),(function(e){return JSON.stringify(e)}),(function(e){return pe((function(){return e?JSON.parse(e):[]}),[])}));function Be(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="",n=0;n<e;n+=1){var o=Math.floor(Math.random()*t.length);r+=t.substring(o,o+1)}return r}function Fe(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Ge(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Fe(i,n,o,a,u,"next",e)}function u(e){Fe(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Ue(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ue(e,t,r[t])}))}return e}function We(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function ze(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function He(e){return $e.apply(this,arguments)}function $e(){return $e=Ge((function(e){var t,r,n,o;return ze(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),[4,le.read()];case 1:return t=i.sent(),r=[],t?(r=t,-1,n=e.internalId?r.findIndex((function(t){return t.internalId===e.internalId})):r.findIndex((function(t){return F(t,e)})),-1!==n&&r.splice(n,1,e),t&&-1!==n||r.push(We(Ve({},e),{internalId:e.internalId||Be(24)}))):r.push(We(Ve({},e),{internalId:e.internalId||Be(24)})),[4,le.write(r)];case 2:return i.sent(),[4,le.read()];case 3:return L(null!=(o=i.sent())?o:[]),[3,5];case 4:return i.sent(),N("There was an issue saving your credentials. Please try again."),[3,5];case 5:return[2]}}))})),$e.apply(this,arguments)}function Ye(e){return Ke.apply(this,arguments)}function Ke(){return Ke=Ge((function(e){var t,r,n;return ze(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,le.read()];case 1:return t=o.sent(),r=[],t&&(r=i(t.map((function(t){return F(t,e)?null:t})).filter((function(e){return e})))),[4,le.write(r)];case 2:return o.sent(),[4,le.read()];case 3:return L(null!=(n=o.sent())?n:[]),[3,5];case 4:return o.sent(),N("There was an issue saving your credentials. Please try again."),[3,5];case 5:return[2]}}))})),Ke.apply(this,arguments)}function qe(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Je,Xe,Ze=(Je=function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,He(e.credential)];case 1:return t.sent(),[2]}}))},Xe=function(){var e=this,t=arguments;return new Promise((function(r,n){var o=Je.apply(e,t);function i(e){qe(o,r,n,i,a,"next",e)}function a(e){qe(o,r,n,i,a,"throw",e)}i(void 0)}))},function(e){return Xe.apply(this,arguments)});const Qe={inspectDeep:!1,shouldSendSelectionValues:!1,autoApplyThemeOnDrop:!1};var et,tt=["BOOLEAN_OPERATION","COMPONENT","COMPONENT_SET","ELLIPSE","FRAME","GROUP","INSTANCE","LINE","POLYGON","RECTANGLE","TEXT","VECTOR","STAR"];function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e){var t,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?function(e){if(Array.isArray(e))return rt(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return rt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rt(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():[],o=r?{}:{sharedPluginData:{namespace:"tokens"}};return e.forEach((function(e){"children"in e&&(n=n.concat(e.findAllWithCriteria(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){nt(e,t,r[t])}))}return e}({types:tt},o))))})),n}function it(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}!function(e){e.NODEMANAGER_UPDATE="nodemanager_update",e.NODEMANAGER_FINDNODESWITHDATA="nodemanager_findnodeswithdata",e.PLUGIN_UPDATEPLUGINDATA="plugindata_updateplugindata",e.PLUGIN_UPDATENODES="plugin_updatenodes",e.PLUGIN_REMOVE_RELAUNCH_DATA="plugin_remove_relaunch_data",e.UI_APPLYNODEVALUE="ui_applynodevalue",e.UI_PULLTOKENS="ui_pulltokens",e.UI_EDITSINGLETOKEN="ui_editsingltoken",e.UI_CREATESINGLETOKEN="ui_createsingletoken",e.UI_DUPLICATETOKEN="ui_duplicatetoken",e.UI_DELETETOKEN="ui_deletetoken",e.UI_DELETETOKENGROUP="ui_deletetokengroup",e.UI_RENAMETOKENGROUP="ui_renametokengroup",e.UI_DUPLICATETOKENGROUP="ui_duplicatetokengroup",e.UI_FETCHTOKENSFROMFILE="ui_fetchtokensfromfile",e.UI_UNDOING="ui_undoing",e.UI_REDOING="ui_redoing",e.UI_ATTACHING_LOCAL_STYLES="ui_attaching_local_styles",e.UI_ATTACHING_LOCAL_VARIABLES="ui_attaching_local_variables",e.UI_RENAME_TOKEN_ACROSS_SETS="ui_rename_token_across_sets",e.UI_PREPARING_VARIABLES="ui_preparing_variables",e.UI_CREATEVARIABLES="ui_create_variables",e.UI_LINK_VARIABLE_REFERENCES="ui_link_variable_references",e.UI_CREATE_STYLES="ui_create_styles",e.UI_CREATE_LIVING_DOCUMENTATION="ui_create_living_documentation"}(et||(et={}));var at=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(this,"namespace",void 0),this.namespace=t}var t,r;return t=e,r=[{key:"keys",value:function(e){return e.getSharedPluginDataKeys(this.namespace)}},{key:"get",value:function(e,t,r){var n=e.getSharedPluginData(this.namespace,t);return n&&r?r(n):n}},{key:"getAll",value:function(e){var t=this,r=this.keys(e),n={};return r.forEach((function(r){if(r in ae){var o=t.get(e,r);if(o)try{var i="none"===o?"none":JSON.parse(o);n[r]=i}catch(e){console.warn(e)}}return null})),n}},{key:"set",value:function(e,t,r){return e.setSharedPluginData(this.namespace,t,r)}}],r&&it(t.prototype,r),e}(),ut=new at(ue.TOKENS),st=r(54806),lt=r.n(st);function ct(e,t,r){return ct=dt()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&pt(o,r.prototype),o},ct.apply(null,arguments)}function ft(e){return ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ft(e)}function pt(e,t){return pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},pt(e,t)}function ht(e){var t="function"==typeof Map?new Map:void 0;return ht=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return ct(e,arguments,ft(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),pt(r,e)},ht(e)}function dt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pt(e,t)}(o,e);var t,r,n=(t=o,r=dt(),function(){var e,n=ft(t);if(r){var o=ft(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return function(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}(this,e)});function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n.call(this,"Operation cancelled.")}return o}(ht(Error));function vt(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function bt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){vt(i,n,o,a,u,"next",e)}function u(e){vt(i,n,o,a,u,"throw",e)}a(void 0)}))}}function gt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wt(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var St=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mt(this,"schedulerId",0),mt(this,"pool",new Set),mt(this,"emitter",new(lt())),mt(this,"timeoutId",null),mt(this,"batchSize",void 0);var n=this;mt(this,"tick",bt((function(){var e,t,r,o,i,a,u,s;return wt(this,(function(l){switch(l.label){case 0:e=0,t=new Set,r=!0,o=!1,i=void 0;try{for(a=function(){var r=s.value;if(n.pool.delete(r),t.add(new Promise((function(e){r.fn().then((function(t){n.emitter.emit("completed/".concat(r.id),t),e()}))}))),(e+=1)>=n.batchSize)return"break"},u=n.pool[Symbol.iterator]();!(r=(s=u.next()).done)&&"break"!==a();r=!0);}catch(e){o=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return null!==n.timeoutId&&(n.timeoutId=setTimeout(n.tick,0)),[4,Promise.all(t)];case 1:return l.sent(),[2]}}))}))),mt(this,"schedule",(function(e){r.schedulerId+=1;var t=r.schedulerId,n=new Promise((function(e,n){r.emitter.once("canceled",(function(){n(new yt)})),r.emitter.once("completed/".concat(t),e)}));return r.pool.add({id:t,fn:e}),n})),mt(this,"cancel",(function(){r.pool.clear(),r.emitter.emit("canceled",Date.now()),r.emitter.removeAllListeners()})),mt(this,"start",(function(){r.timeoutId=setTimeout(r.tick,0)})),mt(this,"stop",(function(){r.timeoutId&&(clearTimeout(r.timeoutId),r.timeoutId=null)})),this.batchSize=t}var t,r;return t=e,(r=[{key:"setBatchSize",value:function(e){this.batchSize=e}},{key:"flush",value:function(){var e=this;return bt((function(){return wt(this,(function(t){switch(t.label){case 0:return e.pool.size>0?[4,e.tick()]:[3,2];case 1:return t.sent(),[3,0];case 2:return[2]}}))}))()}}])&&gt(t.prototype,r),e}(),Et=new St;Et.start();var Ot=new St(100);function xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Ot.start();var At,Tt=function(){function t(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kt(this,"jobName",void 0),kt(this,"jobStart",0),kt(this,"totalProgress",0),kt(this,"lastReportedProgress",0),kt(this,"lastProgressReport",0),this.jobName=e,r&&this.startJob()}var r,n;return r=t,(n=[{key:"startJob",value:function(){this.totalProgress=0,this.lastReportedProgress=0,this.jobStart=Date.now(),this.lastProgressReport=Date.now()}},{key:"next",value:function(){this.totalProgress+=1}},{key:"reportIfNecessary",value:function(){if(Date.now()-this.lastProgressReport>1e3){var t=this.totalProgress-this.lastReportedProgress,r=(Date.now()-this.jobStart)/(this.totalProgress||1);M({type:e.COMPLETE_JOB_TASKS,name:this.jobName,count:t,timePerTask:r}),this.lastProgressReport=Date.now(),this.lastReportedProgress=this.totalProgress}}}])&&xt(r.prototype,n),t}();function Pt(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function It(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Pt(i,n,o,a,u,"next",e)}function u(e){Pt(i,n,o,a,u,"throw",e)}a(void 0)}))}}function _t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rt(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}!function(e){e.PAGE="page",e.DOCUMENT="document",e.SELECTION="selection"}(At||(At={}));var Nt=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,r){t in e?Object.defineProperty(e,t,{value:null,enumerable:!0,configurable:!0,writable:!0}):e[t]=null}(this,"updating")}var r,n;return r=t,n=[{key:"waitForUpdating",value:function(){var e=this;return It((function(){return Rt(this,(function(t){return[2,new Promise((function(t){e.updating?e.updating.then((function(){return t()})).catch((function(){return t()})):t()}))]}))}))()}},{key:"getNode",value:function(e){var t=this;return It((function(){var r,n;return Rt(this,(function(o){switch(o.label){case 0:return[4,t.waitForUpdating()];case 1:return o.sent(),(r=figma.getNodeById(e))?(n={node:r},[4,ut.getAll(r)]):[2,null];case 2:return[2,(n.tokens=o.sent(),n.id=r.id,n)]}}))}))()}},{key:"findBaseNodesWithData",value:function(t){var r=this;return It((function(){var n,o,i,a,u,s;return Rt(this,(function(l){switch(l.label){case 0:return n=new Tt(et.NODEMANAGER_FINDNODESWITHDATA),o=new Set,i=[],[4,r.waitForUpdating()];case 1:return l.sent(),a=t.updateMode,u=t.nodes,[],s=u?Array.from(u):a===At.PAGE?ot([figma.currentPage],!1,t.nodesWithoutPluginData):a===At.SELECTION?ot(figma.currentPage.selection,!0,t.nodesWithoutPluginData):ot([figma.root],!1,t.nodesWithoutPluginData),M({type:e.START_JOB,job:{name:et.NODEMANAGER_FINDNODESWITHDATA,timePerTask:.5,completedTasks:0,totalTasks:s.length}}),r.updating=It((function(){var e,t;return Rt(this,(function(r){switch(r.label){case 0:for(e=function(e){o.add(Et.schedule(It((function(){var t,r,o;return Rt(this,(function(a){switch(a.label){case 0:return t=s[e],r=i.push,o={node:s[e]},[4,ut.getAll(t)];case 1:return r.apply(i,[(o.tokens=a.sent(),o.id=t.id,o)]),n.next(),n.reportIfNecessary(),[2]}}))}))))},t=0;t<s.length;t+=1)e(t);return[4,Promise.all(o)];case 1:return r.sent(),[2]}}))}))(),[4,r.waitForUpdating()];case 2:return l.sent(),M({type:e.COMPLETE_JOB,name:et.NODEMANAGER_FINDNODESWITHDATA}),[2,i]}}))}))()}}],n&&_t(r.prototype,n),t}(),Mt=new Nt,jt=function(e,t,r){if(!e)return r;var n,o;if(Array.isArray(t)&&(n=t.slice(0)),"string"==typeof t&&(n=t.split(".")),"symbol"==typeof t&&(n=[t]),!Array.isArray(n))throw new Error("props arg must be an array, a string or a symbol");for(;n.length;){if(o=n.shift(),!e)return r;if(void 0===(e=e[o]))return r}return e};function Ct(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function Lt(e,t){return e===t||e!=e&&t!=t||(void 0===e?"undefined":Ct(e))===(void 0===t?"undefined":Ct(t))&&{}.toString.call(e)=={}.toString.call(t)&&e===Object(e)&&!!e&&(Array.isArray(e)?Dt(e,t):"[object Set]"=={}.toString.call(e)?Dt(Array.from(e),Array.from(t)):"[object Object]"=={}.toString.call(e)?function(e,t){var r=Object.keys(e),n=Object.keys(t),o=r.length;if(o!=Object.keys(t).length)return!1;for(var i=0;i<o;i+=1){var a=r[i];if(!t.hasOwnProperty(a)||a!==n[i]||!Lt(e[a],t[a]))return!1}return!0}(e,t):function(e,t){return e.toString()===t.toString()}(e,t))}function Dt(e,t){var r=e.length;if(r!=t.length)return!1;for(var n=0;n<r;n+=1)if(!Lt(e[n],t[n]))return!1;return!0}var Bt=function(e){if(e.absoluteBoundingBox){var t=e.absoluteBoundingBox,r=t.x,n=t.y,o=t.width,i=t.height,a=0,u=0;return e.parent&&"absoluteBoundingBox"in e.parent&&null!==e.parent.absoluteBoundingBox&&(a=e.parent.absoluteBoundingBox.x,u=e.parent.absoluteBoundingBox.y),{x:r-a+o/2,y:n-u+i/2}}},Ft=function(e){var t=Bt(e);if(t&&"rotation"in e&&e.absoluteBoundingBox){e.rotation=0;var r=e.absoluteBoundingBox,n=r.width,o=r.height;e.x=t.x-n/2,e.y=t.y-o/2}},Gt=function(e,t){if("string"==typeof t&&(t=parseInt(t,10)),"rotation"in e&&e.absoluteBoundingBox){var r=t*(Math.PI/180);Ft(e);var n=Bt(e);if(e.rotation=t,n){var o=Math.cos(r)*e.x+e.y*Math.sin(r)-n.y*Math.sin(r)-n.x*Math.cos(r)+n.x,i=-Math.sin(r)*e.x+n.x*Math.sin(r)+e.y*Math.cos(r)-n.y*Math.cos(r)+n.y;e.x=o,e.y=i}}};function Ut(e){var t={left:e.strokeLeftWeight,right:e.strokeRightWeight,top:e.strokeTopWeight,bottom:e.strokeBottomWeight};Object.values(t).some((function(e){return e>0}))||(e.strokes=[])}function Vt(e,t){switch(t){case"width":if("resize"in e){var r=e.width,n=e.height;e.resize(.1,n),e.resize(r,n)}break;case"height":if("resize"in e){var o=e.width,i=e.height;e.resize(o,.1),e.resize(o,i)}break;case"borderRadius":"cornerRadius"in e&&void 0!==e.cornerRadius&&"SHAPE_WITH_TEXT"!==e.type&&"CONNECTOR"!==e.type&&(e.cornerRadius=0);break;case"borderRadiusTopLeft":"topLeftRadius"in e&&void 0!==e.topLeftRadius&&(e.topLeftRadius=0);break;case"borderRadiusTopRight":"topRightRadius"in e&&void 0!==e.topRightRadius&&(e.topRightRadius=0);break;case"borderRadiusBottomRight":"bottomRightRadius"in e&&void 0!==e.bottomRightRadius&&(e.bottomRightRadius=0);break;case"borderRadiusBottomLeft":"bottomLeftRadius"in e&&void 0!==e.bottomLeftRadius&&(e.bottomLeftRadius=0);break;case"borderWidth":"strokeWeight"in e&&void 0!==e.strokeWeight&&(e.strokeWeight=0);break;case"borderWidthTop":"strokeTopWeight"in e&&void 0!==e.strokeWeight&&(e.strokeWeight=0);break;case"borderWidthRight":"strokeRightWeight"in e&&void 0!==e.strokeWeight&&(e.strokeWeight=0);break;case"borderWidthBottom":"strokeBottomWeight"in e&&void 0!==e.strokeWeight&&(e.strokeWeight=0);break;case"borderWidthLeft":"strokeLeftWeight"in e&&void 0!==e.strokeWeight&&(e.strokeWeight=0);break;case"boxShadow":"effects"in e&&void 0!==e.effects&&(e.effects=e.effects.filter((function(e){return"DROP_SHADOW"!==e.type})));break;case"backgroundBlur":"effects"in e&&void 0!==e.effects&&(e.effects=e.effects.filter((function(e){return"BACKGROUND_BLUR"!==e.type})));break;case"rotation":"relativeTransform"in e&&void 0!==e.relativeTransform&&Ft(e);break;case"opacity":"opacity"in e&&void 0!==e.opacity&&"STICKY"!==e.type&&"SHAPE_WITH_TEXT"!==e.type&&"CODE_BLOCK"!==e.type&&"CONNECTOR"!==e.type&&(e.opacity=1);break;case"fill":case"asset":"fills"in e&&void 0!==e.fills&&(e.fills=[]);break;case"borderColor":"strokes"in e&&void 0!==e.strokes&&(e.strokes=[]);break;case"spacing":"paddingLeft"in e&&void 0!==e.paddingLeft&&(e.paddingLeft=0,e.paddingRight=0,e.paddingTop=0,e.paddingBottom=0,e.itemSpacing=0);break;case"paddingTop":"paddingTop"in e&&void 0!==e.paddingTop&&(e.paddingTop=0);break;case"paddingRight":"paddingRight"in e&&void 0!==e.paddingRight&&(e.paddingRight=0);break;case"paddingBottom":"paddingBottom"in e&&void 0!==e.paddingBottom&&(e.paddingBottom=0);break;case"paddingLeft":"paddingLeft"in e&&void 0!==e.paddingLeft&&(e.paddingLeft=0);break;case"horizontalPadding":"paddingLeft"in e&&void 0!==e.paddingLeft&&(e.paddingLeft=0,e.paddingRight=0);break;case"verticalPadding":"paddingTop"in e&&void 0!==e.paddingTop&&(e.paddingTop=0,e.paddingBottom=0);break;case"itemSpacing":"itemSpacing"in e&&void 0!==e.itemSpacing&&(e.itemSpacing=0);break;case"border":"strokes"in e&&void 0!==e.strokes&&(e.strokes=[]),"strokeWeight"in e&&void 0!==e.strokeWeight&&(e.strokeWeight=0),"dashPattern"in e&&void 0!==e.dashPattern&&(e.dashPattern=[0,0]);break;case"borderTop":"strokeTopWeight"in e&&void 0!==e.strokeTopWeight&&(e.strokeTopWeight=0,Ut(e)),"dashPattern"in e&&void 0!==e.dashPattern&&(e.dashPattern=[0,0]);break;case"borderRight":"strokeRightWeight"in e&&void 0!==e.strokeRightWeight&&(e.strokeRightWeight=0,Ut(e)),"dashPattern"in e&&void 0!==e.dashPattern&&(e.dashPattern=[0,0]);break;case"borderBottom":"strokeBottomWeight"in e&&void 0!==e.strokeBottomWeight&&(e.strokeBottomWeight=0,Ut(e)),"dashPattern"in e&&void 0!==e.dashPattern&&(e.dashPattern=[0,0]);break;case"borderLeft":"strokeLeftWeight"in e&&void 0!==e.strokeLeftWeight&&(e.strokeLeftWeight=0,Ut(e)),"dashPattern"in e&&void 0!==e.dashPattern&&(e.dashPattern=[0,0]);break;case"visibility":"visible"in e&&void 0!==e.visible&&(e.visible=!0);break;case"textDecoration":"textDecoration"in e&&void 0!==e.textDecoration&&(e.textDecoration="NONE");break;case"dimension":if("itemSpacing"in e&&(e.itemSpacing=0),"resize"in e&&"resize"in e){var a=e.width,u=e.height;e.resize(.1,.1),e.resize(a,u)}}}var Wt,zt=r(49534);function Ht(e,t){return"effects"===t&&t in e&&"string"==typeof e.effectStyleId?e.effectStyleId:"fills"===t&&t in e&&"string"==typeof e.fillStyleId?e.fillStyleId:"strokes"===t&&t in e&&"string"==typeof e.strokeStyleId?e.strokeStyleId:"typography"===t&&"TEXT"===e.type&&"string"==typeof e.textStyleId?e.textStyleId:void 0}function $t(e,t){return ut.get(e,t,(function(e){if(e)try{return JSON.parse(e)}catch(t){return e}return e}))}function Yt(e,t,r){var n,o=Ht(e,r)||$t(e,t);if(o){var i=figma.getStyleById(o);(null==i?void 0:i.remote)&&(n=i)}return n}function Kt(e,t,r){var n=Ht(e,r)||$t(e,t);return figma.getStyleById(n)}function qt(e,t,r){ut.set(e,t,r?JSON.stringify(r):"")}function Jt(e,t){ut.set(e,t,"")}function Xt(e){return"innerShadow"===e?"INNER_SHADOW":"DROP_SHADOW"}function Zt(e){return"INNER_SHADOW"===e?Wt.INNER_SHADOW:Wt.DROP_SHADOW}!function(e){e.DROP_SHADOW="dropShadow",e.INNER_SHADOW="innerShadow"}(Wt||(Wt={}));var Qt=Object.prototype.toString;function er(e){var t=Qt.call(e);return t.endsWith("Array]")&&!t.includes("Big")}function tr(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!er(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");if(void 0!==r.output){if(!er(r.output))throw new TypeError("output option must be an array if specified");t=r.output}else t=new Array(e.length);var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!er(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var r=t.fromIndex,n=void 0===r?0:r,o=t.toIndex,i=void 0===o?e.length:o;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>e.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[n],u=n+1;u<i;u++)e[u]<a&&(a=e[u]);return a}(e),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!er(e))throw new TypeError("input must be an array");if(0===e.length)throw new TypeError("input must not be empty");var r=t.fromIndex,n=void 0===r?0:r,o=t.toIndex,i=void 0===o?e.length:o;if(n<0||n>=e.length||!Number.isInteger(n))throw new Error("fromIndex must be a positive integer smaller than length");if(i<=n||i>e.length||!Number.isInteger(i))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var a=e[n],u=n+1;u<i;u++)e[u]>a&&(a=e[u]);return a}(e);if(n===o)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var i=r.min,a=void 0===i?r.autoMinMax?n:0:i,u=r.max,s=void 0===u?r.autoMinMax?o:1:u;if(a>=s)throw new RangeError("min option must be smaller than max option");for(var l=(s-a)/(o-n),c=0;c<e.length;c++)t[c]=(e[c]-n)*l+a;return t}var rr=" ".repeat(2),nr=" ".repeat(4);function or(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.maxRows,n=void 0===r?15:r,o=t.maxColumns,i=void 0===o?10:o,a=t.maxNumSize,u=void 0===a?8:a,s=t.padMinus,l=void 0===s?"auto":s;return"".concat(e.constructor.name," {\n").concat(rr,"[\n").concat(nr).concat(function(e,t,r,n,o){var i=e.rows,a=e.columns,u=Math.min(i,t),s=Math.min(a,r),l=[];if("auto"===o){o=!1;e:for(var c=0;c<u;c++)for(var f=0;f<s;f++)if(e.get(c,f)<0){o=!0;break e}}for(var p=0;p<u;p++){for(var h=[],d=0;d<s;d++)h.push(ir(e.get(p,d),n,o));l.push("".concat(h.join(" ")))}return s!==a&&(l[l.length-1]+=" ... ".concat(a-r," more columns")),u!==i&&l.push("... ".concat(i-t," more rows")),l.join("\n".concat(nr))}(e,n,i,u,l),"\n").concat(rr,"]\n").concat(rr,"rows: ").concat(e.rows,"\n").concat(rr,"columns: ").concat(e.columns,"\n}")}function ir(e,t,r){return(e>=0&&r?" ".concat(ar(e,t-1)):ar(e,t)).padEnd(t)}function ar(e,t){var r=e.toString();if(r.length<=t)return r;var n=e.toFixed(t);if(n.length>t&&(n=e.toFixed(Math.max(0,t-(n.length-t)))),n.length<=t&&!n.startsWith("0.000")&&!n.startsWith("-0.000"))return n;var o=e.toExponential(t);return o.length>t&&(o=e.toExponential(Math.max(0,t-(o.length-t)))),o.slice(0)}function ur(e,t,r){var n=r?e.rows:e.rows-1;if(t<0||t>n)throw new RangeError("Row index out of range")}function sr(e,t,r){var n=r?e.columns:e.columns-1;if(t<0||t>n)throw new RangeError("Column index out of range")}function lr(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.columns)throw new RangeError("vector size must be the same as the number of columns");return t}function cr(e,t){if(t.to1DArray&&(t=t.to1DArray()),t.length!==e.rows)throw new RangeError("vector size must be the same as the number of rows");return t}function fr(e,t,r,n,o){if(5!==arguments.length)throw new RangeError("expected 4 arguments");if(hr("startRow",t),hr("endRow",r),hr("startColumn",n),hr("endColumn",o),t>r||n>o||t<0||t>=e.rows||r<0||r>=e.rows||n<0||n>=e.columns||o<0||o>=e.columns)throw new RangeError("Submatrix indices are out of range")}function pr(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=0;n<e;n++)r.push(t);return r}function hr(e,t){if("number"!=typeof t)throw new TypeError("".concat(e," must be a number"))}function dr(e){if(e.isEmpty())throw new Error("Empty matrix has no elements to index")}function yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function br(e,t,r){return t&&vr(e.prototype,t),r&&vr(e,r),e}function gr(e){return gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},gr(e)}function mr(e,t){return!t||"object"!=((r=t)&&"undefined"!=typeof Symbol&&r.constructor===Symbol?"symbol":typeof r)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t;var r}function wr(e,t){return wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},wr(e,t)}var Sr=function(){function e(){yr(this,e)}return br(e,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(e){if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)e.call(this,t,r);return this}},{key:"to1DArray",value:function(){for(var e=[],t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)e.push(this.get(t,r));return e}},{key:"to2DArray",value:function(){for(var e=[],t=0;t<this.rows;t++){e.push([]);for(var r=0;r<this.columns;r++)e[t].push(this.get(t,r))}return e}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return 1===this.rows}},{key:"isColumnVector",value:function(){return 1===this.columns}},{key:"isVector",value:function(){return 1===this.rows||1===this.columns}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return 0===this.rows||0===this.columns}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var e=0;e<this.rows;e++)for(var t=0;t<=e;t++)if(this.get(e,t)!==this.get(t,e))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var e=0,t=0,r=-1,n=!0,o=!1;e<this.rows&&n;){for(t=0,o=!1;t<this.columns&&!1===o;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>r?(o=!0,r=t):(n=!1,o=!0);e++}return n}},{key:"isReducedEchelonForm",value:function(){for(var e=0,t=0,r=-1,n=!0,o=!1;e<this.rows&&n;){for(t=0,o=!1;t<this.columns&&!1===o;)0===this.get(e,t)?t++:1===this.get(e,t)&&t>r?(o=!0,r=t):(n=!1,o=!0);for(var i=t+1;i<this.rows;i++)0!==this.get(e,i)&&(n=!1);e++}return n}},{key:"echelonForm",value:function(){for(var e=this.clone(),t=0,r=0;t<e.rows&&r<e.columns;){for(var n=t,o=t;o<e.rows;o++)e.get(o,r)>e.get(n,r)&&(n=o);if(0===e.get(n,r))r++;else{e.swapRows(t,n);for(var i=e.get(t,r),a=r;a<e.columns;a++)e.set(t,a,e.get(t,a)/i);for(var u=t+1;u<e.rows;u++){var s=e.get(u,r)/e.get(t,r);e.set(u,r,0);for(var l=r+1;l<e.columns;l++)e.set(u,l,e.get(u,l)-e.get(t,l)*s)}t++,r++}}return e}},{key:"reducedEchelonForm",value:function(){for(var e=this.echelonForm(),t=e.columns,r=e.rows,n=r-1;n>=0;)if(0===e.maxRow(n))n--;else{for(var o=0,i=!1;o<r&&!1===i;)1===e.get(n,o)?i=!0:o++;for(var a=0;a<n;a++)for(var u=e.get(a,o),s=o;s<t;s++){var l=e.get(a,s)-u*e.get(n,s);e.set(a,s,l)}n--}return e}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!=typeof e)throw new TypeError("options must be an object");var t=e.rows,r=void 0===t?1:t,n=e.columns,o=void 0===n?1:n;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(o)||o<=0)throw new TypeError("columns must be a positive integer");for(var i=new Or(this.rows*r,this.columns*o),a=0;a<r;a++)for(var u=0;u<o;u++)i.setSubMatrix(this,this.rows*a,this.columns*u);return i}},{key:"fill",value:function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,e);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(e){ur(this,e);for(var t=[],r=0;r<this.columns;r++)t.push(this.get(e,r));return t}},{key:"getRowVector",value:function(e){return Or.rowVector(this.getRow(e))}},{key:"setRow",value:function(e,t){ur(this,e),t=lr(this,t);for(var r=0;r<this.columns;r++)this.set(e,r,t[r]);return this}},{key:"swapRows",value:function(e,t){ur(this,e),ur(this,t);for(var r=0;r<this.columns;r++){var n=this.get(e,r);this.set(e,r,this.get(t,r)),this.set(t,r,n)}return this}},{key:"getColumn",value:function(e){sr(this,e);for(var t=[],r=0;r<this.rows;r++)t.push(this.get(r,e));return t}},{key:"getColumnVector",value:function(e){return Or.columnVector(this.getColumn(e))}},{key:"setColumn",value:function(e,t){sr(this,e),t=cr(this,t);for(var r=0;r<this.rows;r++)this.set(r,e,t[r]);return this}},{key:"swapColumns",value:function(e,t){sr(this,e),sr(this,t);for(var r=0;r<this.rows;r++){var n=this.get(r,e);this.set(r,e,this.get(r,t)),this.set(r,t,n)}return this}},{key:"addRowVector",value:function(e){e=lr(this,e);for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)+e[r]);return this}},{key:"subRowVector",value:function(e){e=lr(this,e);for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)-e[r]);return this}},{key:"mulRowVector",value:function(e){e=lr(this,e);for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e[r]);return this}},{key:"divRowVector",value:function(e){e=lr(this,e);for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)/e[r]);return this}},{key:"addColumnVector",value:function(e){e=cr(this,e);for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)+e[t]);return this}},{key:"subColumnVector",value:function(e){e=cr(this,e);for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)-e[t]);return this}},{key:"mulColumnVector",value:function(e){e=cr(this,e);for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e[t]);return this}},{key:"divColumnVector",value:function(e){e=cr(this,e);for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)/e[t]);return this}},{key:"mulRow",value:function(e,t){ur(this,e);for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t);return this}},{key:"mulColumn",value:function(e,t){sr(this,e);for(var r=0;r<this.rows;r++)this.set(r,e,this.get(r,e)*t);return this}},{key:"max",value:function(e){if(this.isEmpty())return NaN;switch(e){case"row":for(var t=new Array(this.rows).fill(Number.NEGATIVE_INFINITY),r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)>t[r]&&(t[r]=this.get(r,n));return t;case"column":for(var o=new Array(this.columns).fill(Number.NEGATIVE_INFINITY),i=0;i<this.rows;i++)for(var a=0;a<this.columns;a++)this.get(i,a)>o[a]&&(o[a]=this.get(i,a));return o;case void 0:for(var u=this.get(0,0),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)>u&&(u=this.get(s,l));return u;default:throw new Error("invalid option: ".concat(e))}}},{key:"maxIndex",value:function(){dr(this);for(var e=this.get(0,0),t=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)>e&&(e=this.get(r,n),t[0]=r,t[1]=n);return t}},{key:"min",value:function(e){if(this.isEmpty())return NaN;switch(e){case"row":for(var t=new Array(this.rows).fill(Number.POSITIVE_INFINITY),r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)<t[r]&&(t[r]=this.get(r,n));return t;case"column":for(var o=new Array(this.columns).fill(Number.POSITIVE_INFINITY),i=0;i<this.rows;i++)for(var a=0;a<this.columns;a++)this.get(i,a)<o[a]&&(o[a]=this.get(i,a));return o;case void 0:for(var u=this.get(0,0),s=0;s<this.rows;s++)for(var l=0;l<this.columns;l++)this.get(s,l)<u&&(u=this.get(s,l));return u;default:throw new Error("invalid option: ".concat(e))}}},{key:"minIndex",value:function(){dr(this);for(var e=this.get(0,0),t=[0,0],r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.get(r,n)<e&&(e=this.get(r,n),t[0]=r,t[1]=n);return t}},{key:"maxRow",value:function(e){if(ur(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),r=1;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}},{key:"maxRowIndex",value:function(e){ur(this,e),dr(this);for(var t=this.get(e,0),r=[e,0],n=1;n<this.columns;n++)this.get(e,n)>t&&(t=this.get(e,n),r[1]=n);return r}},{key:"minRow",value:function(e){if(ur(this,e),this.isEmpty())return NaN;for(var t=this.get(e,0),r=1;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}},{key:"minRowIndex",value:function(e){ur(this,e),dr(this);for(var t=this.get(e,0),r=[e,0],n=1;n<this.columns;n++)this.get(e,n)<t&&(t=this.get(e,n),r[1]=n);return r}},{key:"maxColumn",value:function(e){if(sr(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),r=1;r<this.rows;r++)this.get(r,e)>t&&(t=this.get(r,e));return t}},{key:"maxColumnIndex",value:function(e){sr(this,e),dr(this);for(var t=this.get(0,e),r=[0,e],n=1;n<this.rows;n++)this.get(n,e)>t&&(t=this.get(n,e),r[0]=n);return r}},{key:"minColumn",value:function(e){if(sr(this,e),this.isEmpty())return NaN;for(var t=this.get(0,e),r=1;r<this.rows;r++)this.get(r,e)<t&&(t=this.get(r,e));return t}},{key:"minColumnIndex",value:function(e){sr(this,e),dr(this);for(var t=this.get(0,e),r=[0,e],n=1;n<this.rows;n++)this.get(n,e)<t&&(t=this.get(n,e),r[0]=n);return r}},{key:"diag",value:function(){for(var e=Math.min(this.rows,this.columns),t=[],r=0;r<e;r++)t.push(this.get(r,r));return t}},{key:"norm",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"frobenius";switch(e){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError("unknown norm type: ".concat(e))}}},{key:"cumulativeSum",value:function(){for(var e=0,t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)e+=this.get(t,r),this.set(t,r,e);return this}},{key:"dot",value:function(t){e.isMatrix(t)&&(t=t.to1DArray());var r=this.to1DArray();if(r.length!==t.length)throw new RangeError("vectors do not have the same size");for(var n=0,o=0;o<r.length;o++)n+=r[o]*t[o];return n}},{key:"mmul",value:function(e){e=Or.checkMatrix(e);for(var t=this.rows,r=this.columns,n=e.columns,o=new Or(t,n),i=new Float64Array(r),a=0;a<n;a++){for(var u=0;u<r;u++)i[u]=e.get(u,a);for(var s=0;s<t;s++){for(var l=0,c=0;c<r;c++)l+=this.get(s,c)*i[c];o.set(s,a,l)}}return o}},{key:"strassen2x2",value:function(e){e=Or.checkMatrix(e);var t=new Or(2,2),r=this.get(0,0),n=e.get(0,0),o=this.get(0,1),i=e.get(0,1),a=this.get(1,0),u=e.get(1,0),s=this.get(1,1),l=e.get(1,1),c=(r+s)*(n+l),f=(a+s)*n,p=r*(i-l),h=s*(u-n),d=(r+o)*l,y=c+h-d+(o-s)*(u+l),v=p+d,b=f+h,g=c-f+p+(a-r)*(n+i);return t.set(0,0,y),t.set(0,1,v),t.set(1,0,b),t.set(1,1,g),t}},{key:"strassen3x3",value:function(e){e=Or.checkMatrix(e);var t=new Or(3,3),r=this.get(0,0),n=this.get(0,1),o=this.get(0,2),i=this.get(1,0),a=this.get(1,1),u=this.get(1,2),s=this.get(2,0),l=this.get(2,1),c=this.get(2,2),f=e.get(0,0),p=e.get(0,1),h=e.get(0,2),d=e.get(1,0),y=e.get(1,1),v=e.get(1,2),b=e.get(2,0),g=e.get(2,1),m=e.get(2,2),w=(r-i)*(-p+y),S=(-r+i+a)*(f-p+y),E=(i+a)*(-f+p),O=r*f,x=(-r+s+l)*(f-h+v),k=(-r+s)*(h-v),A=(s+l)*(-f+h),T=(-o+l+c)*(y+b-g),P=(o-c)*(y-g),I=o*b,_=(l+c)*(-b+g),R=(-o+a+u)*(v+b-m),N=(o-u)*(v-m),M=(a+u)*(-b+m),j=O+I+n*d,C=(r+n+o-i-a-l-c)*y+S+E+O+T+I+_,L=O+x+A+(r+n+o-a-u-s-l)*v+I+R+M,D=w+a*(-f+p+d-y-v-b+m)+S+O+I+R+N,B=w+S+E+O+u*g,F=I+R+N+M+i*h,G=O+x+k+l*(-f+h+d-y-v-b+g)+T+P+I,U=T+P+I+_+s*p,V=O+x+k+A+c*m;return t.set(0,0,j),t.set(0,1,C),t.set(0,2,L),t.set(1,0,D),t.set(1,1,B),t.set(1,2,F),t.set(2,0,G),t.set(2,1,U),t.set(2,2,V),t}},{key:"mmulStrassen",value:function(t){t=Or.checkMatrix(t);var r=this.clone(),n=r.rows,o=r.columns,i=t.rows,a=t.columns;function u(t,r,n){var o=t.rows,i=t.columns;if(o===r&&i===n)return t;var a=e.zeros(r,n);return a.setSubMatrix(t,0,0)}o!==i&&console.warn("Multiplying ".concat(n," x ").concat(o," and ").concat(i," x ").concat(a," matrix: dimensions do not match."));var s=Math.max(n,i),l=Math.max(o,a);return function t(r,n,o,i){if(o<=512||i<=512)return r.mmul(n);o%2==1&&i%2==1?(r=u(r,o+1,i+1),n=u(n,o+1,i+1)):o%2==1?(r=u(r,o+1,i),n=u(n,o+1,i)):i%2==1&&(r=u(r,o,i+1),n=u(n,o,i+1));var a=parseInt(r.rows/2,10),s=parseInt(r.columns/2,10),l=r.subMatrix(0,a-1,0,s-1),c=n.subMatrix(0,a-1,0,s-1),f=r.subMatrix(0,a-1,s,r.columns-1),p=n.subMatrix(0,a-1,s,n.columns-1),h=r.subMatrix(a,r.rows-1,0,s-1),d=n.subMatrix(a,n.rows-1,0,s-1),y=r.subMatrix(a,r.rows-1,s,r.columns-1),v=n.subMatrix(a,n.rows-1,s,n.columns-1),b=t(e.add(l,y),e.add(c,v),a,s),g=t(e.add(h,y),c,a,s),m=t(l,e.sub(p,v),a,s),w=t(y,e.sub(d,c),a,s),S=t(e.add(l,f),v,a,s),E=t(e.sub(h,l),e.add(c,p),a,s),O=t(e.sub(f,y),e.add(d,v),a,s),x=e.add(b,w);x.sub(S),x.add(O);var k=e.add(m,S),A=e.add(g,w),T=e.sub(b,g);T.add(m),T.add(E);var P=e.zeros(2*x.rows,2*x.columns);return(P=(P=(P=(P=P.setSubMatrix(x,0,0)).setSubMatrix(k,x.rows,0)).setSubMatrix(A,0,x.columns)).setSubMatrix(T,x.rows,x.columns)).subMatrix(0,o-1,0,i-1)}(r=u(r,s,l),t=u(t,s,l),s,l)}},{key:"scaleRows",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!=typeof e)throw new TypeError("options must be an object");var t=e.min,r=void 0===t?0:t,n=e.max,o=void 0===n?1:n;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(r>=o)throw new RangeError("min must be smaller than max");for(var i=new Or(this.rows,this.columns),a=0;a<this.rows;a++){var u=this.getRow(a);u.length>0&&tr(u,{min:r,max:o,output:u}),i.setRow(a,u)}return i}},{key:"scaleColumns",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!=typeof e)throw new TypeError("options must be an object");var t=e.min,r=void 0===t?0:t,n=e.max,o=void 0===n?1:n;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(o))throw new TypeError("max must be a number");if(r>=o)throw new RangeError("min must be smaller than max");for(var i=new Or(this.rows,this.columns),a=0;a<this.columns;a++){var u=this.getColumn(a);u.length&&tr(u,{min:r,max:o,output:u}),i.setColumn(a,u)}return i}},{key:"flipRows",value:function(){for(var e=Math.ceil(this.columns/2),t=0;t<this.rows;t++)for(var r=0;r<e;r++){var n=this.get(t,r),o=this.get(t,this.columns-1-r);this.set(t,r,o),this.set(t,this.columns-1-r,n)}return this}},{key:"flipColumns",value:function(){for(var e=Math.ceil(this.rows/2),t=0;t<this.columns;t++)for(var r=0;r<e;r++){var n=this.get(r,t),o=this.get(this.rows-1-r,t);this.set(r,t,o),this.set(this.rows-1-r,t,n)}return this}},{key:"kroneckerProduct",value:function(e){e=Or.checkMatrix(e);for(var t=this.rows,r=this.columns,n=e.rows,o=e.columns,i=new Or(t*n,r*o),a=0;a<t;a++)for(var u=0;u<r;u++)for(var s=0;s<n;s++)for(var l=0;l<o;l++)i.set(n*a+s,o*u+l,this.get(a,u)*e.get(s,l));return i}},{key:"kroneckerSum",value:function(e){if(e=Or.checkMatrix(e),!this.isSquare()||!e.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var t=this.rows,r=e.rows,n=this.kroneckerProduct(Or.eye(r,r)),o=Or.eye(t,t).kroneckerProduct(e);return n.add(o)}},{key:"transpose",value:function(){for(var e=new Or(this.columns,this.rows),t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)e.set(r,t,this.get(t,r));return e}},{key:"sortRows",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er,t=0;t<this.rows;t++)this.setRow(t,this.getRow(t).sort(e));return this}},{key:"sortColumns",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er,t=0;t<this.columns;t++)this.setColumn(t,this.getColumn(t).sort(e));return this}},{key:"subMatrix",value:function(e,t,r,n){fr(this,e,t,r,n);for(var o=new Or(t-e+1,n-r+1),i=e;i<=t;i++)for(var a=r;a<=n;a++)o.set(i-e,a-r,this.get(i,a));return o}},{key:"subMatrixRow",value:function(e,t,r){if(void 0===t&&(t=0),void 0===r&&(r=this.columns-1),t>r||t<0||t>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");for(var n=new Or(e.length,r-t+1),o=0;o<e.length;o++)for(var i=t;i<=r;i++){if(e[o]<0||e[o]>=this.rows)throw new RangeError("Row index out of range: ".concat(e[o]));n.set(o,i-t,this.get(e[o],i))}return n}},{key:"subMatrixColumn",value:function(e,t,r){if(void 0===t&&(t=0),void 0===r&&(r=this.rows-1),t>r||t<0||t>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");for(var n=new Or(r-t+1,e.length),o=0;o<e.length;o++)for(var i=t;i<=r;i++){if(e[o]<0||e[o]>=this.columns)throw new RangeError("Column index out of range: ".concat(e[o]));n.set(i-t,o,this.get(i,e[o]))}return n}},{key:"setSubMatrix",value:function(e,t,r){if((e=Or.checkMatrix(e)).isEmpty())return this;fr(this,t,t+e.rows-1,r,r+e.columns-1);for(var n=0;n<e.rows;n++)for(var o=0;o<e.columns;o++)this.set(t+n,r+o,e.get(n,o));return this}},{key:"selection",value:function(e,t){!function(e,t){if(!er(t))throw new TypeError("row indices must be an array");for(var r=0;r<t.length;r++)if(t[r]<0||t[r]>=e.rows)throw new RangeError("row indices are out of range")}(this,e),function(e,t){if(!er(t))throw new TypeError("column indices must be an array");for(var r=0;r<t.length;r++)if(t[r]<0||t[r]>=e.columns)throw new RangeError("column indices are out of range")}(this,t);for(var r=new Or(e.length,t.length),n=0;n<e.length;n++)for(var o=e[n],i=0;i<t.length;i++){var a=t[i];r.set(n,i,this.get(o,a))}return r}},{key:"trace",value:function(){for(var e=Math.min(this.rows,this.columns),t=0,r=0;r<e;r++)t+=this.get(r,r);return t}},{key:"clone",value:function(){for(var e=new Or(this.rows,this.columns),t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)e.set(t,r,this.get(t,r));return e}},{key:"sum",value:function(e){switch(e){case"row":return function(e){for(var t=pr(e.rows),r=0;r<e.rows;++r)for(var n=0;n<e.columns;++n)t[r]+=e.get(r,n);return t}(this);case"column":return function(e){for(var t=pr(e.columns),r=0;r<e.rows;++r)for(var n=0;n<e.columns;++n)t[n]+=e.get(r,n);return t}(this);case void 0:return function(e){for(var t=0,r=0;r<e.rows;r++)for(var n=0;n<e.columns;n++)t+=e.get(r,n);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"product",value:function(e){switch(e){case"row":return function(e){for(var t=pr(e.rows,1),r=0;r<e.rows;++r)for(var n=0;n<e.columns;++n)t[r]*=e.get(r,n);return t}(this);case"column":return function(e){for(var t=pr(e.columns,1),r=0;r<e.rows;++r)for(var n=0;n<e.columns;++n)t[n]*=e.get(r,n);return t}(this);case void 0:return function(e){for(var t=1,r=0;r<e.rows;r++)for(var n=0;n<e.columns;n++)t*=e.get(r,n);return t}(this);default:throw new Error("invalid option: ".concat(e))}}},{key:"mean",value:function(e){var t=this.sum(e);switch(e){case"row":for(var r=0;r<this.rows;r++)t[r]/=this.columns;return t;case"column":for(var n=0;n<this.columns;n++)t[n]/=this.rows;return t;case void 0:return t/this.size;default:throw new Error("invalid option: ".concat(e))}}},{key:"variance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");var r=t.unbiased,n=void 0===r||r,o=t.mean,i=void 0===o?this.mean(e):o;if("boolean"!=typeof n)throw new TypeError("unbiased must be a boolean");switch(e){case"row":if(!er(i))throw new TypeError("mean must be an array");return function(e,t,r){for(var n=e.rows,o=e.columns,i=[],a=0;a<n;a++){for(var u=0,s=0,l=0,c=0;c<o;c++)u+=l=e.get(a,c)-r[a],s+=l*l;t?i.push((s-u*u/o)/(o-1)):i.push((s-u*u/o)/o)}return i}(this,n,i);case"column":if(!er(i))throw new TypeError("mean must be an array");return function(e,t,r){for(var n=e.rows,o=e.columns,i=[],a=0;a<o;a++){for(var u=0,s=0,l=0,c=0;c<n;c++)u+=l=e.get(c,a)-r[a],s+=l*l;t?i.push((s-u*u/n)/(n-1)):i.push((s-u*u/n)/n)}return i}(this,n,i);case void 0:if("number"!=typeof i)throw new TypeError("mean must be a number");return function(e,t,r){for(var n=e.rows,o=e.columns,i=n*o,a=0,u=0,s=0,l=0;l<n;l++)for(var c=0;c<o;c++)a+=s=e.get(l,c)-r,u+=s*s;return t?(u-a*a/i)/(i-1):(u-a*a/i)/i}(this,n,i);default:throw new Error("invalid option: ".concat(e))}}},{key:"standardDeviation",value:function(e,t){"object"==typeof e&&(t=e,e=void 0);var r=this.variance(e,t);if(void 0===e)return Math.sqrt(r);for(var n=0;n<r.length;n++)r[n]=Math.sqrt(r[n]);return r}},{key:"center",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");var r=t.center,n=void 0===r?this.mean(e):r;switch(e){case"row":if(!er(n))throw new TypeError("center must be an array");return function(e,t){for(var r=0;r<e.rows;r++)for(var n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)-t[r])}(this,n),this;case"column":if(!er(n))throw new TypeError("center must be an array");return function(e,t){for(var r=0;r<e.rows;r++)for(var n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)-t[n])}(this,n),this;case void 0:if("number"!=typeof n)throw new TypeError("center must be a number");return function(e,t){for(var r=0;r<e.rows;r++)for(var n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)-t)}(this,n),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"==typeof e&&(t=e,e=void 0),"object"!=typeof t)throw new TypeError("options must be an object");var r=t.scale;switch(e){case"row":if(void 0===r)r=function(e){for(var t=[],r=0;r<e.rows;r++){for(var n=0,o=0;o<e.columns;o++)n+=Math.pow(e.get(r,o),2)/(e.columns-1);t.push(Math.sqrt(n))}return t}(this);else if(!er(r))throw new TypeError("scale must be an array");return function(e,t){for(var r=0;r<e.rows;r++)for(var n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)/t[r])}(this,r),this;case"column":if(void 0===r)r=function(e){for(var t=[],r=0;r<e.columns;r++){for(var n=0,o=0;o<e.rows;o++)n+=Math.pow(e.get(o,r),2)/(e.rows-1);t.push(Math.sqrt(n))}return t}(this);else if(!er(r))throw new TypeError("scale must be an array");return function(e,t){for(var r=0;r<e.rows;r++)for(var n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)/t[n])}(this,r),this;case void 0:if(void 0===r)r=function(e){for(var t=e.size-1,r=0,n=0;n<e.columns;n++)for(var o=0;o<e.rows;o++)r+=Math.pow(e.get(o,n),2)/t;return Math.sqrt(r)}(this);else if("number"!=typeof r)throw new TypeError("scale must be a number");return function(e,t){for(var r=0;r<e.rows;r++)for(var n=0;n<e.columns;n++)e.set(r,n,e.get(r,n)/t)}(this,r),this;default:throw new Error("invalid option: ".concat(e))}}},{key:"toString",value:function(e){return or(this,e)}}],[{key:"from1DArray",value:function(e,t,r){if(e*t!==r.length)throw new RangeError("data length does not match given dimensions");for(var n=new Or(e,t),o=0;o<e;o++)for(var i=0;i<t;i++)n.set(o,i,r[o*t+i]);return n}},{key:"rowVector",value:function(e){for(var t=new Or(1,e.length),r=0;r<e.length;r++)t.set(0,r,e[r]);return t}},{key:"columnVector",value:function(e){for(var t=new Or(e.length,1),r=0;r<e.length;r++)t.set(r,0,e[r]);return t}},{key:"zeros",value:function(e,t){return new Or(e,t)}},{key:"ones",value:function(e,t){return new Or(e,t).fill(1)}},{key:"rand",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!=typeof r)throw new TypeError("options must be an object");for(var n=r.random,o=void 0===n?Math.random:n,i=new Or(e,t),a=0;a<e;a++)for(var u=0;u<t;u++)i.set(a,u,o());return i}},{key:"randInt",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!=typeof r)throw new TypeError("options must be an object");var n=r.min,o=void 0===n?0:n,i=r.max,a=void 0===i?1e3:i,u=r.random,s=void 0===u?Math.random:u;if(!Number.isInteger(o))throw new TypeError("min must be an integer");if(!Number.isInteger(a))throw new TypeError("max must be an integer");if(o>=a)throw new RangeError("min must be smaller than max");for(var l=a-o,c=new Or(e,t),f=0;f<e;f++)for(var p=0;p<t;p++){var h=o+Math.round(s()*l);c.set(f,p,h)}return c}},{key:"eye",value:function(e,t,r){void 0===t&&(t=e),void 0===r&&(r=1);for(var n=Math.min(e,t),o=this.zeros(e,t),i=0;i<n;i++)o.set(i,i,r);return o}},{key:"diag",value:function(e,t,r){var n=e.length;void 0===t&&(t=n),void 0===r&&(r=t);for(var o=Math.min(n,t,r),i=this.zeros(t,r),a=0;a<o;a++)i.set(a,a,e[a]);return i}},{key:"min",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var r=e.rows,n=e.columns,o=new Or(r,n),i=0;i<r;i++)for(var a=0;a<n;a++)o.set(i,a,Math.min(e.get(i,a),t.get(i,a)));return o}},{key:"max",value:function(e,t){e=this.checkMatrix(e),t=this.checkMatrix(t);for(var r=e.rows,n=e.columns,o=new this(r,n),i=0;i<r;i++)for(var a=0;a<n;a++)o.set(i,a,Math.max(e.get(i,a),t.get(i,a)));return o}},{key:"checkMatrix",value:function(t){return e.isMatrix(t)?t:new Or(t)}},{key:"isMatrix",value:function(e){return null!=e&&"Matrix"===e.klass}}]),e}();function Er(e,t){return e-t}Sr.prototype.klass="Matrix","undefined"!=typeof Symbol&&(Sr.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return or(this)}),Sr.random=Sr.rand,Sr.randomInt=Sr.randInt,Sr.diagonal=Sr.diag,Sr.prototype.diagonal=Sr.prototype.diag,Sr.identity=Sr.eye,Sr.prototype.negate=Sr.prototype.neg,Sr.prototype.tensorProduct=Sr.prototype.kroneckerProduct;var Or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(o,e);var t,r,n=(t=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=gr(t);if(r){var o=gr(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return mr(this,e)});function o(e,t){var r;if(yr(this,o),r=n.call(this),o.isMatrix(e))return mr(r,e.clone());if(Number.isInteger(e)&&e>=0){if(r.data=[],!(Number.isInteger(t)&&t>=0))throw new TypeError("nColumns must be a positive integer");for(var i=0;i<e;i++)r.data.push(new Float64Array(t))}else{if(!er(e))throw new TypeError("First argument must be a positive number or an array");var a=e;if("number"!=typeof(t=(e=a.length)?a[0].length:0))throw new TypeError("Data must be a 2D array with at least one element");r.data=[];for(var u=0;u<e;u++){if(a[u].length!==t)throw new RangeError("Inconsistent array dimensions");if(!a[u].every((function(e){return"number"==typeof e})))throw new TypeError("Input data contains non-numeric values");r.data.push(Float64Array.from(a[u]))}}return r.rows=e,r.columns=t,r}return br(o,[{key:"set",value:function(e,t,r){return this.data[e][t]=r,this}},{key:"get",value:function(e,t){return this.data[e][t]}},{key:"removeRow",value:function(e){return ur(this,e),this.data.splice(e,1),this.rows-=1,this}},{key:"addRow",value:function(e,t){return void 0===t&&(t=e,e=this.rows),ur(this,e,!0),t=Float64Array.from(lr(this,t)),this.data.splice(e,0,t),this.rows+=1,this}},{key:"removeColumn",value:function(e){sr(this,e);for(var t=0;t<this.rows;t++){for(var r=new Float64Array(this.columns-1),n=0;n<e;n++)r[n]=this.data[t][n];for(var o=e+1;o<this.columns;o++)r[o-1]=this.data[t][o];this.data[t]=r}return this.columns-=1,this}},{key:"addColumn",value:function(e,t){void 0===t&&(t=e,e=this.columns),sr(this,e,!0),t=cr(this,t);for(var r=0;r<this.rows;r++){for(var n=new Float64Array(this.columns+1),o=0;o<e;o++)n[o]=this.data[r][o];for(n[o++]=t[r];o<this.columns+1;o++)n[o]=this.data[r][o-1];this.data[r]=n}return this.columns+=1,this}}]),o}(Sr);function xr(e,t,r){return Math.min(Math.max(e,r),t)}!function(e,t){e.prototype.add=function(e){return"number"==typeof e?this.addS(e):this.addM(e)},e.prototype.addS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)+e);return this},e.prototype.addM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)+e.get(r,n));return this},e.add=function(e,r){return new t(e).add(r)},e.prototype.sub=function(e){return"number"==typeof e?this.subS(e):this.subM(e)},e.prototype.subS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)-e);return this},e.prototype.subM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)-e.get(r,n));return this},e.sub=function(e,r){return new t(e).sub(r)},e.prototype.subtract=e.prototype.sub,e.prototype.subtractS=e.prototype.subS,e.prototype.subtractM=e.prototype.subM,e.subtract=e.sub,e.prototype.mul=function(e){return"number"==typeof e?this.mulS(e):this.mulM(e)},e.prototype.mulS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this},e.prototype.mulM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)*e.get(r,n));return this},e.mul=function(e,r){return new t(e).mul(r)},e.prototype.multiply=e.prototype.mul,e.prototype.multiplyS=e.prototype.mulS,e.prototype.multiplyM=e.prototype.mulM,e.multiply=e.mul,e.prototype.div=function(e){return"number"==typeof e?this.divS(e):this.divM(e)},e.prototype.divS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)/e);return this},e.prototype.divM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)/e.get(r,n));return this},e.div=function(e,r){return new t(e).div(r)},e.prototype.divide=e.prototype.div,e.prototype.divideS=e.prototype.divS,e.prototype.divideM=e.prototype.divM,e.divide=e.div,e.prototype.mod=function(e){return"number"==typeof e?this.modS(e):this.modM(e)},e.prototype.modS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)%e);return this},e.prototype.modM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)%e.get(r,n));return this},e.mod=function(e,r){return new t(e).mod(r)},e.prototype.modulus=e.prototype.mod,e.prototype.modulusS=e.prototype.modS,e.prototype.modulusM=e.prototype.modM,e.modulus=e.mod,e.prototype.and=function(e){return"number"==typeof e?this.andS(e):this.andM(e)},e.prototype.andS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)&e);return this},e.prototype.andM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)&e.get(r,n));return this},e.and=function(e,r){return new t(e).and(r)},e.prototype.or=function(e){return"number"==typeof e?this.orS(e):this.orM(e)},e.prototype.orS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)|e);return this},e.prototype.orM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)|e.get(r,n));return this},e.or=function(e,r){return new t(e).or(r)},e.prototype.xor=function(e){return"number"==typeof e?this.xorS(e):this.xorM(e)},e.prototype.xorS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)^e);return this},e.prototype.xorM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)^e.get(r,n));return this},e.xor=function(e,r){return new t(e).xor(r)},e.prototype.leftShift=function(e){return"number"==typeof e?this.leftShiftS(e):this.leftShiftM(e)},e.prototype.leftShiftS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)<<e);return this},e.prototype.leftShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)<<e.get(r,n));return this},e.leftShift=function(e,r){return new t(e).leftShift(r)},e.prototype.signPropagatingRightShift=function(e){return"number"==typeof e?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},e.prototype.signPropagatingRightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)>>e);return this},e.prototype.signPropagatingRightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)>>e.get(r,n));return this},e.signPropagatingRightShift=function(e,r){return new t(e).signPropagatingRightShift(r)},e.prototype.rightShift=function(e){return"number"==typeof e?this.rightShiftS(e):this.rightShiftM(e)},e.prototype.rightShiftS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)>>>e);return this},e.prototype.rightShiftM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,this.get(r,n)>>>e.get(r,n));return this},e.rightShift=function(e,r){return new t(e).rightShift(r)},e.prototype.zeroFillRightShift=e.prototype.rightShift,e.prototype.zeroFillRightShiftS=e.prototype.rightShiftS,e.prototype.zeroFillRightShiftM=e.prototype.rightShiftM,e.zeroFillRightShift=e.rightShift,e.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,~this.get(e,t));return this},e.not=function(e){return new t(e).not()},e.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.abs(this.get(e,t)));return this},e.abs=function(e){return new t(e).abs()},e.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acos(this.get(e,t)));return this},e.acos=function(e){return new t(e).acos()},e.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.acosh(this.get(e,t)));return this},e.acosh=function(e){return new t(e).acosh()},e.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asin(this.get(e,t)));return this},e.asin=function(e){return new t(e).asin()},e.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.asinh(this.get(e,t)));return this},e.asinh=function(e){return new t(e).asinh()},e.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atan(this.get(e,t)));return this},e.atan=function(e){return new t(e).atan()},e.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.atanh(this.get(e,t)));return this},e.atanh=function(e){return new t(e).atanh()},e.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cbrt(this.get(e,t)));return this},e.cbrt=function(e){return new t(e).cbrt()},e.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.ceil(this.get(e,t)));return this},e.ceil=function(e){return new t(e).ceil()},e.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.clz32(this.get(e,t)));return this},e.clz32=function(e){return new t(e).clz32()},e.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cos(this.get(e,t)));return this},e.cos=function(e){return new t(e).cos()},e.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.cosh(this.get(e,t)));return this},e.cosh=function(e){return new t(e).cosh()},e.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.exp(this.get(e,t)));return this},e.exp=function(e){return new t(e).exp()},e.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.expm1(this.get(e,t)));return this},e.expm1=function(e){return new t(e).expm1()},e.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.floor(this.get(e,t)));return this},e.floor=function(e){return new t(e).floor()},e.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.fround(this.get(e,t)));return this},e.fround=function(e){return new t(e).fround()},e.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log(this.get(e,t)));return this},e.log=function(e){return new t(e).log()},e.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log1p(this.get(e,t)));return this},e.log1p=function(e){return new t(e).log1p()},e.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log10(this.get(e,t)));return this},e.log10=function(e){return new t(e).log10()},e.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.log2(this.get(e,t)));return this},e.log2=function(e){return new t(e).log2()},e.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.round(this.get(e,t)));return this},e.round=function(e){return new t(e).round()},e.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sign(this.get(e,t)));return this},e.sign=function(e){return new t(e).sign()},e.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sin(this.get(e,t)));return this},e.sin=function(e){return new t(e).sin()},e.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sinh(this.get(e,t)));return this},e.sinh=function(e){return new t(e).sinh()},e.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.sqrt(this.get(e,t)));return this},e.sqrt=function(e){return new t(e).sqrt()},e.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tan(this.get(e,t)));return this},e.tan=function(e){return new t(e).tan()},e.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.tanh(this.get(e,t)));return this},e.tanh=function(e){return new t(e).tanh()},e.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++)this.set(e,t,Math.trunc(this.get(e,t)));return this},e.trunc=function(e){return new t(e).trunc()},e.pow=function(e,r){return new t(e).pow(r)},e.prototype.pow=function(e){return"number"==typeof e?this.powS(e):this.powM(e)},e.prototype.powS=function(e){for(var t=0;t<this.rows;t++)for(var r=0;r<this.columns;r++)this.set(t,r,Math.pow(this.get(t,r),e));return this},e.prototype.powM=function(e){if(e=t.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var n=0;n<this.columns;n++)this.set(r,n,Math.pow(this.get(r,n),e.get(r,n)));return this}}(Sr,Or);class kr extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var Ar=kr;function Tr(e){if("string"!=typeof e)throw new Ar(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];let t=e.trim();t=Cr.test(e)?function(e){const t=e.toLowerCase().trim(),r=Ir[function(e){let t=5381,r=e.length;for(;r;)t=33*t^e.charCodeAt(--r);return(t>>>0)%2341}(t)];if(!r)throw new Ar(e);return`#${r}`}(e):e;const r=Rr.exec(t);if(r){const e=Array.from(r).slice(1);return[...e.slice(0,3).map((e=>parseInt(_r(e,2),16))),parseInt(_r(e[3]||"f",2),16)/255]}const n=Nr.exec(t);if(n){const e=Array.from(n).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,16))),parseInt(e[3]||"ff",16)/255]}const o=Mr.exec(t);if(o){const e=Array.from(o).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,10))),parseFloat(e[3]||"1")]}const i=jr.exec(t);if(i){const[t,r,n,o]=Array.from(i).slice(1).map(parseFloat);if(xr(0,100,r)!==r)throw new Ar(e);if(xr(0,100,n)!==n)throw new Ar(e);return[...Dr(t,r,n),Number.isNaN(o)?1:o]}throw new Ar(e)}const Pr=e=>parseInt(e.replace(/_/g,""),36),Ir="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((e,t)=>{const r=Pr(t.substring(0,3)),n=Pr(t.substring(3)).toString(16);let o="";for(let e=0;e<6-n.length;e++)o+="0";return e[r]=`${o}${n}`,e}),{}),_r=(e,t)=>Array.from(Array(t)).map((()=>e)).join(""),Rr=new RegExp(`^#${_r("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Nr=new RegExp(`^#${_r("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Mr=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${_r(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),jr=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,Cr=/^[a-z]+$/i,Lr=e=>Math.round(255*e),Dr=(e,t,r)=>{let n=r/100;if(0===t)return[n,n,n].map(Lr);const o=(e%360+360)%360/60,i=(1-Math.abs(2*n-1))*(t/100),a=i*(1-Math.abs(o%2-1));let u=0,s=0,l=0;o>=0&&o<1?(u=i,s=a):o>=1&&o<2?(u=a,s=i):o>=2&&o<3?(s=i,l=a):o>=3&&o<4?(s=a,l=i):o>=4&&o<5?(u=a,l=i):o>=5&&o<6&&(u=i,l=a);const c=n-i/2;return[u+c,s+c,l+c].map(Lr)};function Br(e){const[t,r,n,o]=Tr(e);let i=e=>{const t=xr(0,255,e).toString(16);return 1===t.length?`0${t}`:t};return`#${i(t)}${i(r)}${i(n)}${o<1?i(Math.round(255*o)):""}`}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t,r){return Ur=en()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&qr(o,r.prototype),o},Ur.apply(null,arguments)}function Vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wr(e,t,r){return t&&Vr(e.prototype,t),r&&Vr(e,r),e}function zr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hr(e){return Hr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Hr(e)}function $r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function Yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){zr(e,t,r[t])}))}return e}function Kr(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function qr(e,t){return qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},qr(e,t)}function Jr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||Qr(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e){return function(e){if(Array.isArray(e))return Fr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qr(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function Qr(e,t){if(e){if("string"==typeof e)return Fr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fr(e,t):void 0}}function en(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function tn(e,t){var r=e.length;Array.isArray(e[0])||(e=[e]),Array.isArray(t[0])||(t=t.map((function(e){return[e]})));var n=t[0].length,o=t[0].map((function(e,r){return t.map((function(e){return e[r]}))})),i=e.map((function(e){return o.map((function(t){var r=0;if(!Array.isArray(e)){var n=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;r+=e*s}}catch(e){o=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}for(var l=0;l<e.length;l++)r+=e[l]*(t[l]||0);return r}))}));return 1===r&&(i=i[0]),1===n?i.map((function(e){return e[0]})):i}function rn(e){return"string"===nn(e)}function nn(e){return(Object.prototype.toString.call(e).match(/^\[object\s+(.*?)\]$/)[1]||"").toLowerCase()}function on(e,t){e=+e,t=+t;var r=(Math.floor(e)+"").length;if(t>r)return+e.toFixed(t-r);var n=Math.pow(10,r-t);return Math.round(e/n)*n}function an(e){if(e){e=e.trim();var t=/^-?[\d.]+$/,r=e.match(/^([a-z]+)\((.+?)\)$/i);if(r){var n=[];return r[2].replace(/\/?\s*([-\w.]+(?:%|deg)?)/g,(function(e,r){/%$/.test(r)?(r=new Number(r.slice(0,-1)/100)).type="<percentage>":/deg$/.test(r)?((r=new Number(+r.slice(0,-3))).type="<angle>",r.unit="deg"):t.test(r)&&((r=new Number(r)).type="<number>"),e.startsWith("/")&&((r=$r(r,Number)?r:new Number(r)).alpha=!0),n.push(r)})),{name:r[1].toLowerCase(),rawName:r[1],rawArgs:r[2],args:n}}}}function un(e){return e[e.length-1]}function sn(e,t,r){return isNaN(e)?t:isNaN(t)?e:e+(t-e)*r}function ln(e,t,r){return(r-e)/(t-e)}function cn(e,t,r){return sn(t[0],t[1],ln(e[0],e[1],r))}function fn(e){return e.map((function(e){return e.split("|").map((function(e){var t=(e=e.trim()).match(/^(<[a-z]+>)\[(-?[.\d]+),\s*(-?[.\d]+)\]?$/);if(t){var r=new String(t[1]);return r.range=[+t[2],+t[3]],r}return e}))}))}var pn=Object.freeze({__proto__:null,interpolate:sn,interpolateInv:ln,isString:rn,last:un,mapRange:cn,multiplyMatrices:tn,parseCoordGrammar:fn,parseFunction:an,toPrecision:on,type:nn}),hn=new(function(){function e(){Gr(this,e)}return Wr(e,[{key:"add",value:function(e,t,r){if("string"==typeof arguments[0])(Array.isArray(e)?e:[e]).forEach((function(e){this[e]=this[e]||[],t&&this[e][r?"unshift":"push"](t)}),this);else for(var e in arguments[0])this.add(e,arguments[0][e],arguments[1])}},{key:"run",value:function(e,t){this[e]=this[e]||[],this[e].forEach((function(e){e.call(t&&t.context?t.context:t,t)}))}}]),e}()),dn={gamut_mapping:"lch.c",precision:5,deltaE:"76"},yn={D50:[.3457/.3585,1,.2958/.3585],D65:[.3127/.329,1,.3583/.329]};function vn(e){return Array.isArray(e)?e:yn[e]}function bn(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e=vn(e),t=vn(t),!e||!t)throw new TypeError("Missing white point to convert ".concat(e?"":"from").concat(e||t?"":"/").concat(t?"":"to"));if(e===t)return r;var o={W1:e,W2:t,XYZ:r,options:n};if(hn.run("chromatic-adaptation-start",o),o.M||(o.W1===yn.D65&&o.W2===yn.D50?o.M=[[1.0479298208405488,.022946793341019088,-.05019222954313557],[.029627815688159344,.990434484573249,-.01707382502938514],[-.009243058152591178,.015055144896577895,.7518742899580008]]:o.W1===yn.D50&&o.W2===yn.D65&&(o.M=[[.9554734527042182,-.023098536874261423,.0632593086610217],[-.028369706963208136,1.0099954580058226,.021041398966943008],[.012314001688319899,-.020507696433477912,1.3303659366080753]])),hn.run("chromatic-adaptation-end",o),o.M)return tn(o.M,o.XYZ);throw new TypeError("Only Bradford CAT with white points D50 and D65 supported for now.")}var gn=function(){function e(t){var r,n,o,i;Gr(this,e),this.id=t.id,this.name=t.name,this.base=t.base?e.get(t.base):null,this.aliases=t.aliases,this.base&&(this.fromBase=t.fromBase,this.toBase=t.toBase);var a,u,s=null!==(i=t.coords)&&void 0!==i?i:this.base.coords;for(var l in s)"name"in s[l]||(s[l].name=l);this.coords=s;var c,f=null!==(u=null!==(a=t.white)&&void 0!==a?a:this.base.white)&&void 0!==u?u:"D65";for(var p in this.white=vn(f),this.formats=null!==(c=t.formats)&&void 0!==c?c:{},this.formats){var h,d,y=this.formats[p];(h=y).type||(h.type="function"),(d=y).name||(d.name=p)}t.cssId&&!(null===(r=this.formats.functions)||void 0===r?void 0:r.color)?(this.formats.color={id:t.cssId},Object.defineProperty(this,"cssId",{value:t.cssId})):(null===(n=this.formats)||void 0===n?void 0:n.color)&&!(null===(o=this.formats)||void 0===o?void 0:o.color.id)&&(this.formats.color.id=this.id),this.referred=t.referred,Object.defineProperty(this,"path",{value:mn(this).reverse(),writable:!1,enumerable:!0,configurable:!0}),hn.run("colorspace-init-end",this)}return Wr(e,[{key:"inGamut",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).epsilon,r=void 0===t?75e-6:t;if(this.isPolar)return e=this.toBase(e),this.base.inGamut(e,{epsilon:r});var n=Object.values(this.coords);return e.every((function(e,t){var o=n[t];if("angle"!==o.type&&o.range){if(Number.isNaN(e))return!0;var i=Jr(o.range,2),a=i[0],u=i[1];return(void 0===a||e>=a-r)&&(void 0===u||e<=u+r)}return!0}))}},{key:"cssId",get:function(){var e,t;return(null===(t=this.formats.functions)||void 0===t||null===(e=t.color)||void 0===e?void 0:e.id)||this.id}},{key:"isPolar",get:function(){for(var e in this.coords)if("angle"===this.coords[e].type)return!0;return!1}},{key:"getFormat",value:function(e){return"object"==typeof e?e=wn(e,this):(t="default"===e?Object.values(this.formats)[0]:this.formats[e])?t=wn(t,this):null;var t}},{key:"equals",value:function(e){return!!e&&(this===e||this.id===e.id)}},{key:"to",value:function(t,r){var n;if(1===arguments.length&&(t=(n=[t.space,t.coords])[0],r=n[1]),t=e.get(t),this.equals(t))return r;r=r.map((function(e){return Number.isNaN(e)?0:e}));for(var o,i,a=this.path,u=t.path,s=0;s<a.length&&a[s].equals(u[s]);s++)o=a[s],i=s;if(!o)throw new Error("Cannot convert between color spaces ".concat(this," and ").concat(t,": no connection space was found"));for(var l=a.length-1;l>i;l--)r=a[l].toBase(r);for(var c=i+1;c<u.length;c++)r=u[c].fromBase(r);return r}},{key:"from",value:function(t,r){var n;return 1===arguments.length&&(t=(n=[t.space,t.coords])[0],r=n[1]),(t=e.get(t)).to(this,r)}},{key:"toString",value:function(){return"".concat(this.name," (").concat(this.id,")")}},{key:"getMinCoords",value:function(){var e=[];for(var t in this.coords){var r,n=this.coords[t],o=n.range||n.refRange;e.push(null!==(r=null==o?void 0:o.min)&&void 0!==r?r:0)}return e}}],[{key:"all",get:function(){return Xr(new Set(Object.values(e.registry)))}},{key:"register",value:function(e,t){if(1===arguments.length&&(e=(t=arguments[0]).id),t=this.get(t),this.registry[e]&&this.registry[e]!==t)throw new Error("Duplicate color space registration: '".concat(e,"'"));if(this.registry[e]=t,1===arguments.length&&t.aliases){var r=!0,n=!1,o=void 0;try{for(var i,a=t.aliases[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value;this.register(u,t)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}}return t}},{key:"get",value:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(!t||$r(t,e))return t;var i;if("string"===nn(t)){var a=e.registry[t.toLowerCase()];if(!a)throw new TypeError('No color space found with id = "'.concat(t,'"'));return a}if(n.length)return(i=e).get.apply(i,Xr(n));throw new TypeError("".concat(t," is not a valid color space"))}},{key:"resolveCoord",value:function(t,r){var n,o,i,a,u=nn(t);if("string"===u)t.includes(".")?(n=(i=Jr(t.split("."),2))[0],o=i[1]):(n=(a=[,t])[0],o=a[1]);else if(Array.isArray(t)){var s;n=(s=Jr(t,2))[0],o=s[1]}else n=t.space,o=t.coordId;if((n=e.get(n))||(n=r),!n)throw new TypeError("Cannot resolve coordinate reference ".concat(t,": No color space specified and relative references are not allowed here"));if("number"===(u=nn(o))||"string"===u&&o>=0){var l=Object.entries(n.coords)[o];if(l)return Yr({space:n,id:l[0],index:o},l[1])}n=e.get(n);var c=o.toLowerCase(),f=0;for(var p in n.coords){var h,d=n.coords[p];if(p.toLowerCase()===c||(null===(h=d.name)||void 0===h?void 0:h.toLowerCase())===c)return Yr({space:n,id:p,index:f},d);f++}throw new TypeError('No "'.concat(o,'" coordinate found in ').concat(n.name,". Its coordinates are: ").concat(Object.keys(n.coords).join(", ")))}}]),e}();function mn(e){for(var t=[e],r=e;r=r.base;)t.push(r);return t}function wn(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).coords;if(e.coords&&!e.coordGrammar){var r,n;(r=e).type||(r.type="function"),(n=e).name||(n.name="color"),e.coordGrammar=fn(e.coords);var o=Object.entries(t).map((function(t,r){var n=Jr(t,2),o=(n[0],n[1]),i=e.coordGrammar[r][0],a=o.range||o.refRange,u=i.range,s="";return"<percentage>"==i?(u=[0,100],s="%"):"<angle>"==i&&(s="deg"),{fromRange:a,toRange:u,suffix:s}}));e.serializeCoords=function(e,t){return e.map((function(e,r){var n=o[r],i=n.fromRange,a=n.toRange,u=n.suffix;return i&&a&&(e=cn(i,a,e)),e=on(e,t),u&&(e+=u),e}))}}return e}zr(gn,"registry",{}),zr(gn,"DEFAULT_FORMAT",{type:"functions",name:"color"});var Sn=new gn({id:"xyz-d65",name:"XYZ D65",coords:{x:{name:"X"},y:{name:"Y"},z:{name:"Z"}},white:"D65",formats:{color:{ids:["xyz-d65","xyz"]}},aliases:["xyz"]}),En=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qr(e,t)}(o,e);var t,r,n=(t=o,r=en(),function(){var e,n=Hr(t);if(r){var o=Hr(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return function(e,t){return!t||"object"!==Zr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,e)});function o(e){var t,r,i,a,u,s,l;return Gr(this,o),e.coords||(e.coords={r:{range:[0,1],name:"Red"},g:{range:[0,1],name:"Green"},b:{range:[0,1],name:"Blue"}}),e.base||(e.base=Sn),e.toXYZ_M&&e.fromXYZ_M&&(null!==(u=(i=e).toBase)&&void 0!==u||(i.toBase=function(r){var n=tn(e.toXYZ_M,r);return t.white!==t.base.white&&(n=bn(t.white,t.base.white,n)),n}),null!==(s=(a=e).fromBase)&&void 0!==s||(a.fromBase=function(r){return r=bn(t.base.white,t.white,r),tn(e.fromXYZ_M,r)})),null!==(l=(r=e).referred)&&void 0!==l||(r.referred="display"),t=n.call(this,e)}return o}(gn);function On(e){var t,r=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).meta,n={str:null===(t=String(e))||void 0===t?void 0:t.trim()};if(hn.run("parse-start",n),n.color)return n.color;if(n.parsed=an(n.str),n.parsed){var o=n.parsed.name;if("color"===o){var i=n.parsed.args.shift(),a=n.parsed.rawArgs.indexOf("/")>0?n.parsed.args.pop():1,u=!0,s=!1,l=void 0;try{for(var c,f=gn.all[Symbol.iterator]();!(u=(c=f.next()).done);u=!0){var p,h=c.value,d=h.getFormat("color");if(d&&(i===d.id||(null===(p=d.ids)||void 0===p?void 0:p.includes(i)))){var y=Object.keys(h.coords).map((function(e,t){return n.parsed.args[t]||0}));return r&&(r.formatId="color"),{spaceId:h.id,coords:y,alpha:a}}}}catch(e){s=!0,l=e}finally{try{u||null==f.return||f.return()}finally{if(s)throw l}}var v="";if(i in gn.registry){var b,g,m,w=null===(m=gn.registry[i].formats)||void 0===m||null===(g=m.functions)||void 0===g||null===(b=g.color)||void 0===b?void 0:b.id;w&&(v="Did you mean color(".concat(w,")?"))}throw new TypeError("Cannot parse color(".concat(i,"). ")+(v||"Missing a plugin?"))}var S=!0,E=!1,O=void 0;try{for(var x,k=function(){var e=x.value,t=e.getFormat(o);if(t&&"function"===t.type){var i=1;(t.lastAlpha||un(n.parsed.args).alpha)&&(i=n.parsed.args.pop());var a=n.parsed.args,u=void 0;return t.coordGrammar&&(u=Object.entries(e.coords).map((function(e,r){var n,i=Jr(e,2),u=i[0],s=i[1],l=t.coordGrammar[r],c=null===(n=a[r])||void 0===n?void 0:n.type,f=l.find((function(e){return e==c}));if(!f){var p=s.name||u;throw new TypeError("".concat(c," not allowed for ").concat(p," in ").concat(o,"()"))}var h=f.range;"<percentage>"===c&&(h||(h=[0,1]));var d=s.range||s.refRange;return h&&d&&(a[r]=cn(h,d,a[r])),f}))),r&&Object.assign(r,{formatId:t.name,types:u}),{v:{spaceId:e.id,coords:a,alpha:i}}}},A=gn.all[Symbol.iterator]();!(S=(x=A.next()).done);S=!0){var T=k();if("object"===Zr(T))return T.v}}catch(e){E=!0,O=e}finally{try{S||null==A.return||A.return()}finally{if(E)throw O}}}else{var P=!0,I=!1,_=void 0;try{for(var R,N=gn.all[Symbol.iterator]();!(P=(R=N.next()).done);P=!0){var M=R.value;for(var j in M.formats){var C=M.formats[j];if("custom"===C.type&&(!C.test||C.test(n.str))){var L,D,B=C.parse(n.str);if(B)return null!==(D=(L=B).alpha)&&void 0!==D||(L.alpha=1),r&&(r.formatId=j),B}}}}catch(e){I=!0,_=e}finally{try{P||null==N.return||N.return()}finally{if(I)throw _}}}throw new TypeError("Could not parse ".concat(e," as a color. Missing a plugin?"))}function xn(e){if(!e)throw new TypeError("Empty color reference");rn(e)&&(e=On(e));var t=e.space||e.spaceId;return $r(t,gn)||(e.space=gn.get(t)),void 0===e.alpha&&(e.alpha=1),e}function kn(e,t){return(t=gn.get(t)).from(e)}function An(e,t){var r=gn.resolveCoord(t,e.space),n=r.space,o=r.index;return kn(e,n)[o]}function Tn(e,t,r){return t=gn.get(t),e.coords=t.to(e.space,r),e}function Pn(e,t,r){if(e=xn(e),2===arguments.length&&"object"===nn(arguments[1])){var n=arguments[1];for(var o in n)Pn(e,o,n[o])}else{"function"==typeof r&&(r=r(An(e,t)));var i=gn.resolveCoord(t,e.space),a=i.space,u=i.index,s=kn(e,a);s[u]=r,Tn(e,a,s)}return e}var In=new gn({id:"xyz-d50",name:"XYZ D50",white:"D50",base:Sn,fromBase:function(e){return bn(Sn.white,"D50",e)},toBase:function(e){return bn("D50",Sn.white,e)},formats:{color:{}}}),_n=24/116,Rn=24389/27,Nn=yn.D50,Mn=new gn({id:"lab",name:"Lab",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:Nn,base:In,fromBase:function(e){var t=e.map((function(e,t){return e/Nn[t]})),r=t.map((function(e){return e>.008856451679035631?Math.cbrt(e):(Rn*e+16)/116}));return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase:function(e){var t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>_n?Math.pow(t[0],3):(116*t[0]-16)/Rn,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/Rn,t[2]>_n?Math.pow(t[2],3):(116*t[2]-16)/Rn].map((function(e,t){return e*Nn[t]}))},formats:{lab:{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}});function jn(e){return(e%360+360)%360}var Cn=new gn({id:"lch",name:"LCH",coords:{l:{refRange:[0,100],name:"Lightness"},c:{refRange:[0,150],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},base:Mn,fromBase:function(e){var t,r=Jr(e,3),n=r[0],o=r[1],i=r[2];return t=Math.abs(o)<.02&&Math.abs(i)<.02?NaN:180*Math.atan2(i,o)/Math.PI,[n,Math.sqrt(Math.pow(o,2)+Math.pow(i,2)),jn(t)]},toBase:function(e){var t=Jr(e,3),r=t[0],n=t[1],o=t[2];return n<0&&(n=0),isNaN(o)&&(o=0),[r,n*Math.cos(o*Math.PI/180),n*Math.sin(o*Math.PI/180)]},formats:{lch:{coords:["<number> | <percentage>","<number> | <percentage>","<number> | <angle>"]}}}),Ln=Math.pow(25,7),Dn=Math.PI,Bn=180/Dn,Fn=Dn/180;function Gn(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.kL,o=void 0===n?1:n,i=r.kC,a=void 0===i?1:i,u=r.kH,s=void 0===u?1:u,l=Jr(Mn.from(e),3),c=l[0],f=l[1],p=l[2],h=Cn.from(Mn,[c,f,p])[1],d=Jr(Mn.from(t),3),y=d[0],v=d[1],b=d[2],g=Cn.from(Mn,[y,v,b])[1];h<0&&(h=0),g<0&&(g=0);var m=(h+g)/2,w=Math.pow(m,7),S=.5*(1-Math.sqrt(w/(w+Ln))),E=(1+S)*f,O=(1+S)*v,x=Math.sqrt(Math.pow(E,2)+Math.pow(p,2)),k=Math.sqrt(Math.pow(O,2)+Math.pow(b,2)),A=0===E&&0===p?0:Math.atan2(p,E),T=0===O&&0===b?0:Math.atan2(b,O);A<0&&(A+=2*Dn),T<0&&(T+=2*Dn);var P,I=y-c,_=k-x,R=(T*=Bn)-(A*=Bn),N=A+T,M=Math.abs(R);x*k==0?P=0:M<=180?P=R:R>180?P=R-360:R<-180?P=R+360:console.log("the unthinkable has happened");var j,C=2*Math.sqrt(k*x)*Math.sin(P*Fn/2),L=(c+y)/2,D=(x+k)/2,B=Math.pow(D,7);j=x*k==0?N:M<=180?N/2:N<360?(N+360)/2:(N-360)/2;var F=Math.pow(L-50,2),G=1+.015*F/Math.sqrt(20+F),U=1+.045*D,V=1;V-=.17*Math.cos((j-30)*Fn),V+=.24*Math.cos(2*j*Fn),V+=.32*Math.cos((3*j+6)*Fn);var W=1+.015*D*(V-=.2*Math.cos((4*j-63)*Fn)),z=30*Math.exp(-1*Math.pow((j-275)/25,2)),H=2*Math.sqrt(B/(B+Ln)),$=-1*Math.sin(2*z*Fn)*H,Y=Math.pow(I/(o*G),2);return Y+=Math.pow(_/(a*U),2),Y+=Math.pow(C/(s*W),2),Y+=$*(_/(a*U))*(C/(s*W)),Math.sqrt(Y)}var Un=75e-6;function Vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.space,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).epsilon,n=void 0===r?Un:r;e=xn(e),t=gn.get(t);var o=e.coords;return t!==e.space&&(o=t.from(e)),t.inGamut(o,{epsilon:n})}function Wn(e){return{space:e.space,coords:e.coords.slice(),alpha:e.alpha}}function zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.method,n=void 0===r?dn.gamut_mapping:r,o=t.space,i=void 0===o?e.space:o;if(rn(arguments[1])&&(i=arguments[1]),Vn(e,i=gn.get(i),{epsilon:0}))return xn(e);var a=Hn(e,i);if("clip"!==n&&!Vn(e,i)){var u=zn(Wn(a),{method:"clip",space:i});if(Gn(e,u)>2){for(var s=gn.resolveCoord(n),l=s.space,c=s.id,f=Hn(a,l),p=(s.range||s.refRange)[0],h=An(f,c);h-p>.01;){var d=Wn(f);Gn(f,d=zn(d,{space:i,method:"clip"}))-2<.01?p=An(f,c):h=An(f,c),Pn(f,c,(p+h)/2)}a=Hn(f,i)}else a=u}if("clip"===n||!Vn(a,i,{epsilon:0})){var y=Object.values(i.coords).map((function(e){return e.range||[]}));a.coords=a.coords.map((function(e,t){var r=Jr(y[t],2),n=r[0],o=r[1];return void 0!==n&&(e=Math.max(n,e)),void 0!==o&&(e=Math.min(e,o)),e}))}return i!==e.space&&(a=Hn(a,e.space)),e.coords=a.coords,e}function Hn(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).inGamut;e=xn(e);var n=(t=gn.get(t)).from(e),o={space:t,coords:n,alpha:e.alpha};return r&&(o=zn(o)),o}function $n(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=o.precision,a=void 0===i?dn.precision:i,u=o.format,s=void 0===u?"default":u,l=o.inGamut,c=void 0===l||l,f=Kr(o,["precision","format","inGamut"]),p=s;s=null!==(n=null!==(r=(e=xn(e)).space.getFormat(s))&&void 0!==r?r:e.space.getFormat("default"))&&void 0!==n?n:gn.DEFAULT_FORMAT,c||(c=s.toGamut);var h=e.coords;if(h=h.map((function(e){return e||0})),c&&!Vn(e)&&(h=zn(Wn(e),!0===c?void 0:c).coords),"custom"===s.type){if(f.precision=a,!s.serialize)throw new TypeError("format ".concat(p," can only be used to parse colors, not for serialization"));t=s.serialize(h,e.alpha,f)}else{var d=s.name||"color";s.serializeCoords?h=s.serializeCoords(h,a):null!==a&&(h=h.map((function(e){return on(e,a)})));var y=Xr(h);if("color"===d){var v,b=s.id||(null===(v=s.ids)||void 0===v?void 0:v[0])||e.space.id;y.unshift(b)}var g=e.alpha;null!==a&&(g=on(g,a));var m=e.alpha<1&&!s.noAlpha?"".concat(s.commas?",":" /"," ").concat(g):"";t="".concat(d,"(").concat(y.join(s.commas?", ":" ")).concat(m,")")}return t}zn.returns="color",Hn.returns="color";var Yn=new En({id:"rec2020-linear",name:"Linear REC.2020",white:"D65",toXYZ_M:[[.6369580483012914,.14461690358620832,.1688809751641721],[.2627002120112671,.6779980715188708,.05930171646986196],[0,.028072693049087428,1.060985057710791]],fromXYZ_M:[[1.716651187971268,-.355670783776392,-.25336628137366],[-.666684351832489,1.616481236634939,.0157685458139111],[.017639857445311,-.042770613257809,.942103121235474]],formats:{color:{}}}),Kn=1.09929682680944,qn=.018053968510807,Jn=new En({id:"rec2020",name:"REC.2020",base:Yn,toBase:function(e){return e.map((function(e){return e<4.5*qn?e/4.5:Math.pow((e+Kn-1)/Kn,1/.45)}))},fromBase:function(e){return e.map((function(e){return e>=qn?Kn*Math.pow(e,.45)-(Kn-1):4.5*e}))},formats:{color:{}}}),Xn=new En({id:"p3-linear",name:"Linear P3",white:"D65",toXYZ_M:[[.4865709486482162,.26566769316909306,.1982172852343625],[.2289745640697488,.6917385218365064,.079286914093745],[0,.04511338185890264,1.043944368900976]],fromXYZ_M:[[2.493496911941425,-.9313836179191239,-.40271078445071684],[-.8294889695615747,1.7626640603183463,.023624685841943577],[.03584583024378447,-.07617238926804182,.9568845240076872]]}),Zn=new En({id:"srgb-linear",name:"Linear sRGB",white:"D65",toXYZ_M:[[.41239079926595934,.357584339383878,.1804807884018343],[.21263900587151027,.715168678767756,.07219231536073371],[.01933081871559182,.11919477979462598,.9505321522496607]],fromXYZ_M:[[3.2409699419045226,-1.537383177570094,-.4986107602930034],[-.9692436362808796,1.8759675015077202,.04155505740717559],[.05563007969699366,-.20397695888897652,1.0569715142428786]],formats:{color:{}}}),Qn={aliceblue:[240/255,248/255,1],antiquewhite:[250/255,235/255,215/255],aqua:[0,1,1],aquamarine:[127/255,1,212/255],azure:[240/255,1,1],beige:[245/255,245/255,220/255],bisque:[1,228/255,196/255],black:[0,0,0],blanchedalmond:[1,235/255,205/255],blue:[0,0,1],blueviolet:[138/255,43/255,226/255],brown:[165/255,42/255,42/255],burlywood:[222/255,184/255,135/255],cadetblue:[95/255,158/255,160/255],chartreuse:[127/255,1,0],chocolate:[210/255,105/255,30/255],coral:[1,127/255,80/255],cornflowerblue:[100/255,149/255,237/255],cornsilk:[1,248/255,220/255],crimson:[220/255,20/255,60/255],cyan:[0,1,1],darkblue:[0,0,139/255],darkcyan:[0,139/255,139/255],darkgoldenrod:[184/255,134/255,11/255],darkgray:[169/255,169/255,169/255],darkgreen:[0,100/255,0],darkgrey:[169/255,169/255,169/255],darkkhaki:[189/255,183/255,107/255],darkmagenta:[139/255,0,139/255],darkolivegreen:[85/255,107/255,47/255],darkorange:[1,140/255,0],darkorchid:[.6,50/255,.8],darkred:[139/255,0,0],darksalmon:[233/255,150/255,122/255],darkseagreen:[143/255,188/255,143/255],darkslateblue:[72/255,61/255,139/255],darkslategray:[47/255,79/255,79/255],darkslategrey:[47/255,79/255,79/255],darkturquoise:[0,206/255,209/255],darkviolet:[148/255,0,211/255],deeppink:[1,20/255,147/255],deepskyblue:[0,191/255,1],dimgray:[105/255,105/255,105/255],dimgrey:[105/255,105/255,105/255],dodgerblue:[30/255,144/255,1],firebrick:[178/255,34/255,34/255],floralwhite:[1,250/255,240/255],forestgreen:[34/255,139/255,34/255],fuchsia:[1,0,1],gainsboro:[220/255,220/255,220/255],ghostwhite:[248/255,248/255,1],gold:[1,215/255,0],goldenrod:[218/255,165/255,32/255],gray:[128/255,128/255,128/255],green:[0,128/255,0],greenyellow:[173/255,1,47/255],grey:[128/255,128/255,128/255],honeydew:[240/255,1,240/255],hotpink:[1,105/255,180/255],indianred:[205/255,92/255,92/255],indigo:[75/255,0,130/255],ivory:[1,1,240/255],khaki:[240/255,230/255,140/255],lavender:[230/255,230/255,250/255],lavenderblush:[1,240/255,245/255],lawngreen:[124/255,252/255,0],lemonchiffon:[1,250/255,205/255],lightblue:[173/255,216/255,230/255],lightcoral:[240/255,128/255,128/255],lightcyan:[224/255,1,1],lightgoldenrodyellow:[250/255,250/255,210/255],lightgray:[211/255,211/255,211/255],lightgreen:[144/255,238/255,144/255],lightgrey:[211/255,211/255,211/255],lightpink:[1,182/255,193/255],lightsalmon:[1,160/255,122/255],lightseagreen:[32/255,178/255,170/255],lightskyblue:[135/255,206/255,250/255],lightslategray:[119/255,136/255,.6],lightslategrey:[119/255,136/255,.6],lightsteelblue:[176/255,196/255,222/255],lightyellow:[1,1,224/255],lime:[0,1,0],limegreen:[50/255,205/255,50/255],linen:[250/255,240/255,230/255],magenta:[1,0,1],maroon:[128/255,0,0],mediumaquamarine:[.4,205/255,170/255],mediumblue:[0,0,205/255],mediumorchid:[186/255,85/255,211/255],mediumpurple:[147/255,112/255,219/255],mediumseagreen:[60/255,179/255,113/255],mediumslateblue:[123/255,104/255,238/255],mediumspringgreen:[0,250/255,154/255],mediumturquoise:[72/255,209/255,.8],mediumvioletred:[199/255,21/255,133/255],midnightblue:[25/255,25/255,112/255],mintcream:[245/255,1,250/255],mistyrose:[1,228/255,225/255],moccasin:[1,228/255,181/255],navajowhite:[1,222/255,173/255],navy:[0,0,128/255],oldlace:[253/255,245/255,230/255],olive:[128/255,128/255,0],olivedrab:[107/255,142/255,35/255],orange:[1,165/255,0],orangered:[1,69/255,0],orchid:[218/255,112/255,214/255],palegoldenrod:[238/255,232/255,170/255],palegreen:[152/255,251/255,152/255],paleturquoise:[175/255,238/255,238/255],palevioletred:[219/255,112/255,147/255],papayawhip:[1,239/255,213/255],peachpuff:[1,218/255,185/255],peru:[205/255,133/255,63/255],pink:[1,192/255,203/255],plum:[221/255,160/255,221/255],powderblue:[176/255,224/255,230/255],purple:[128/255,0,128/255],rebeccapurple:[.4,.2,.6],red:[1,0,0],rosybrown:[188/255,143/255,143/255],royalblue:[65/255,105/255,225/255],saddlebrown:[139/255,69/255,19/255],salmon:[250/255,128/255,114/255],sandybrown:[244/255,164/255,96/255],seagreen:[46/255,139/255,87/255],seashell:[1,245/255,238/255],sienna:[160/255,82/255,45/255],silver:[192/255,192/255,192/255],skyblue:[135/255,206/255,235/255],slateblue:[106/255,90/255,205/255],slategray:[112/255,128/255,144/255],slategrey:[112/255,128/255,144/255],snow:[1,250/255,250/255],springgreen:[0,1,127/255],steelblue:[70/255,130/255,180/255],tan:[210/255,180/255,140/255],teal:[0,128/255,128/255],thistle:[216/255,191/255,216/255],tomato:[1,99/255,71/255],turquoise:[64/255,224/255,208/255],violet:[238/255,130/255,238/255],wheat:[245/255,222/255,179/255],white:[1,1,1],whitesmoke:[245/255,245/255,245/255],yellow:[1,1,0],yellowgreen:[154/255,205/255,50/255]},eo=Array(3).fill("<percentage> | <number>[0, 255]"),to=Array(3).fill("<number>[0, 255]"),ro=new En({id:"srgb",name:"sRGB",base:Zn,fromBase:function(e){return e.map((function(e){var t=e<0?-1:1,r=e*t;return r>.0031308?t*(1.055*Math.pow(r,1/2.4)-.055):12.92*e}))},toBase:function(e){return e.map((function(e){var t=e<0?-1:1,r=e*t;return r<.04045?e/12.92:t*Math.pow((r+.055)/1.055,2.4)}))},formats:{rgb:{coords:eo},rgb_number:{name:"rgb",commas:!0,coords:to,noAlpha:!0},color:{},rgba:{coords:eo,commas:!0,lastAlpha:!0},rgba_number:{name:"rgba",commas:!0,coords:to},hex:{type:"custom",toGamut:!0,test:function(e){return/^#([a-f0-9]{3,4}){1,2}$/i.test(e)},parse:function(e){e.length<=5&&(e=e.replace(/[a-f0-9]/gi,"$&$&"));var t=[];return e.replace(/[a-f0-9]{2}/gi,(function(e){t.push(parseInt(e,16)/255)})),{spaceId:"srgb",coords:t.slice(0,3),alpha:t.slice(3)[0]}},serialize:function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).collapse,n=void 0===r||r;t<1&&e.push(t),e=e.map((function(e){return Math.round(255*e)}));var o=n&&e.every((function(e){return e%17==0})),i=e.map((function(e){return o?(e/17).toString(16):e.toString(16).padStart(2,"0")})).join("");return"#"+i}},keyword:{type:"custom",test:function(e){return/^[a-z]+$/i.test(e)},parse:function(e){var t={spaceId:"srgb",coords:null,alpha:1};if("transparent"===(e=e.toLowerCase())?(t.coords=Qn.black,t.alpha=0):t.coords=Qn[e],t.coords)return t}}}}),no=new En({id:"p3",name:"P3",base:Xn,fromBase:ro.fromBase,toBase:ro.toBase,formats:{color:{id:"display-p3"}}});if(dn.display_space=ro,"undefined"!=typeof CSS&&CSS.supports)for(var oo=0,io=[Mn,Jn,no];oo<io.length;oo++){var ao=io[oo],uo=ao.getMinCoords(),so=$n({space:ao,coords:uo,alpha:1});if(CSS.supports("color",so)){dn.display_space=ao;break}}function lo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.space,n=void 0===r?dn.display_space:r,o=Kr(t,["space"]),i=$n(e,o);if("undefined"==typeof CSS||CSS.supports("color",i)||!dn.display_space)(i=new String(i)).color=e;else{var a=Hn(e,n);(i=new String($n(a,o))).color=a}return i}function co(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"lab",n=(r=gn.get(r)).from(e),o=r.from(t);return Math.sqrt(n.reduce((function(e,t,r){var n=o[r];return isNaN(t)||isNaN(n)?e:e+Math.pow(n-t,2)}),0))}function fo(e){return An(e,[Sn,"y"])}function po(e,t){Pn(e,[Sn,"y"],t)}var ho=Object.freeze({__proto__:null,getLuminance:fo,register:function(e){Object.defineProperty(e.prototype,"luminance",{get:function(){return fo(this)},set:function(e){po(this,e)}})},setLuminance:po});function yo(e){return e>=.022?e:e+Math.pow(.022-e,1.414)}function vo(e){var t=e<0?-1:1,r=Math.abs(e);return t*Math.pow(r,2.4)}var bo=24/116,go=24389/27,mo=yn.D65,wo=new gn({id:"lab-d65",name:"Lab D65",coords:{l:{refRange:[0,100],name:"L"},a:{refRange:[-125,125]},b:{refRange:[-125,125]}},white:mo,base:Sn,fromBase:function(e){var t=e.map((function(e,t){return e/mo[t]})),r=t.map((function(e){return e>.008856451679035631?Math.cbrt(e):(go*e+16)/116}));return[116*r[1]-16,500*(r[0]-r[1]),200*(r[1]-r[2])]},toBase:function(e){var t=[];return t[1]=(e[0]+16)/116,t[0]=e[1]/500+t[1],t[2]=t[1]-e[2]/200,[t[0]>bo?Math.pow(t[0],3):(116*t[0]-16)/go,e[0]>8?Math.pow((e[0]+16)/116,3):e[0]/go,t[2]>bo?Math.pow(t[2],3):(116*t[2]-16)/go].map((function(e,t){return e*mo[t]}))},formats:{"lab-d65":{coords:["<number> | <percentage>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),So=.5*Math.pow(5,.5)+.5,Eo=Object.freeze({__proto__:null,contrastAPCA:function(e,t){var r,n,o,i,a;t=xn(t),e=xn(e),n=(a=Jr((t=Hn(t,"srgb")).coords,3))[0],o=a[1],i=a[2];var u,s=.2126729*vo(n)+.7151522*vo(o)+.072175*vo(i);n=(u=Jr((e=Hn(e,"srgb")).coords,3))[0],o=u[1],i=u[2];var l=.2126729*vo(n)+.7151522*vo(o)+.072175*vo(i),c=yo(s),f=yo(l),p=f>c;return r=Math.abs(f-c)<5e-4?0:p?1.14*(Math.pow(f,.56)-Math.pow(c,.57)):1.14*(Math.pow(f,.65)-Math.pow(c,.62)),100*(Math.abs(r)<.1?0:r>0?r-.027:r+.027)},contrastDeltaPhi:function(e,t){e=xn(e),t=xn(t);var r=An(e,[wo,"l"]),n=An(t,[wo,"l"]),o=Math.abs(Math.pow(r,So)-Math.pow(n,So)),i=Math.pow(o,1/So)*Math.SQRT2-40;return i<7.5?0:i},contrastLstar:function(e,t){e=xn(e),t=xn(t);var r=An(e,[Mn,"l"]),n=An(t,[Mn,"l"]);return Math.abs(r-n)},contrastMichelson:function(e,t){e=xn(e),t=xn(t);var r,n=Math.max(fo(e),0),o=Math.max(fo(t),0);o>n&&(n=(r=[o,n])[0],o=r[1]);var i=n+o;return 0===i?0:(n-o)/i},contrastWCAG21:function(e,t){e=xn(e),t=xn(t);var r,n=Math.max(fo(e),0),o=Math.max(fo(t),0);return o>n&&(n=(r=[o,n])[0],o=r[1]),(n+.05)/(o+.05)},contrastWeber:function(e,t){e=xn(e),t=xn(t);var r,n=Math.max(fo(e),0),o=Math.max(fo(t),0);return o>n&&(n=(r=[o,n])[0],o=r[1]),0===o?5e4:(n-o)/o}});function Oo(e){var t=Jr(kn(e,Sn),3),r=t[0],n=t[1],o=r+15*n+3*t[2];return[4*r/o,9*n/o]}function xo(e){var t=Jr(kn(e,Sn),3),r=t[0],n=t[1],o=r+n+t[2];return[r/o,n/o]}var ko=Object.freeze({__proto__:null,register:function(e){Object.defineProperty(e.prototype,"uv",{get:function(){return Oo(this)}}),Object.defineProperty(e.prototype,"xy",{get:function(){return xo(this)}})},uv:Oo,xy:xo}),Ao=Math.PI/180,To=new gn({id:"xyz-abs-d65",name:"Absolute XYZ D65",coords:{x:{refRange:[0,9504.7],name:"Xa"},y:{refRange:[0,1e4],name:"Ya"},z:{refRange:[0,10888.3],name:"Za"}},base:Sn,fromBase:function(e){return e.map((function(e){return Math.max(203*e,0)}))},toBase:function(e){return e.map((function(e){return Math.max(e/203,0)}))}}),Po=1.15,Io=.66,_o=2610/Math.pow(2,14),Ro=Math.pow(2,14)/2610,No=3424/Math.pow(2,12),Mo=2413/Math.pow(2,7),jo=2392/Math.pow(2,7),Co=1.7*2523/Math.pow(2,5),Lo=Math.pow(2,5)/(1.7*2523),Do=-.56,Bo=16295499532821565e-27,Fo=[[.41478972,.579999,.014648],[-.20151,1.120649,.0531008],[-.0166008,.2648,.6684799]],Go=[[1.9242264357876067,-1.0047923125953657,.037651404030618],[.35031676209499907,.7264811939316552,-.06538442294808501],[-.09098281098284752,-.3127282905230739,1.5227665613052603]],Uo=[[.5,.5,0],[3.524,-4.066708,.542708],[.199076,1.096799,-1.295875]],Vo=[[1,.1386050432715393,.05804731615611886],[.9999999999999999,-.1386050432715393,-.05804731615611886],[.9999999999999998,-.09601924202631895,-.8118918960560388]],Wo=new gn({id:"jzazbz",name:"Jzazbz",coords:{jz:{refRange:[0,1],name:"Jz"},az:{refRange:[-.5,.5]},bz:{refRange:[-.5,.5]}},base:To,fromBase:function(e){var t=Jr(e,3),r=t[0],n=t[1],o=t[2],i=tn(Fo,[Po*r-(Po-1)*o,Io*n-(Io-1)*r,o]).map((function(e){var t=No+Mo*Math.pow(e/1e4,_o),r=1+jo*Math.pow(e/1e4,_o);return Math.pow(t/r,Co)})),a=Jr(tn(Uo,i),3),u=a[0],s=a[1],l=a[2];return[(1+Do)*u/(1+Do*u)-Bo,s,l]},toBase:function(e){var t=Jr(e,3),r=t[0],n=t[1],o=t[2],i=tn(Vo,[(r+Bo)/(1+Do-Do*(r+Bo)),n,o]).map((function(e){var t=No-Math.pow(e,Lo),r=jo*Math.pow(e,Lo)-Mo;return 1e4*Math.pow(t/r,Ro)})),a=Jr(tn(Go,i),3),u=a[0],s=a[1],l=a[2],c=(u+(Po-1)*l)/Po;return[c,(s+(Io-1)*c)/Io,l]},formats:{color:{}}}),zo=new gn({id:"jzczhz",name:"JzCzHz",coords:{jz:{refRange:[0,1],name:"Jz"},cz:{refRange:[0,1],name:"Chroma"},hz:{refRange:[0,360],type:"angle",name:"Hue"}},base:Wo,fromBase:function(e){var t,r=Jr(e,3),n=r[0],o=r[1],i=r[2],a=2e-4;return t=Math.abs(o)<a&&Math.abs(i)<a?NaN:180*Math.atan2(i,o)/Math.PI,[n,Math.sqrt(Math.pow(o,2)+Math.pow(i,2)),jn(t)]},toBase:function(e){return[e[0],e[1]*Math.cos(e[2]*Math.PI/180),e[1]*Math.sin(e[2]*Math.PI/180)]},formats:{color:{}}}),Ho=.8359375,$o=2413/128,Yo=18.6875,Ko=2610/16384,qo=32/2523,Jo=[[.3592,.6976,-.0358],[-.1922,1.1004,.0755],[.007,.0749,.8434]],Xo=[[.5,.5,0],[6610/4096,-13613/4096,7003/4096],[17933/4096,-17390/4096,-543/4096]],Zo=[[.9999888965628402,.008605050147287059,.11103437159861648],[1.00001110343716,-.008605050147287059,-.11103437159861648],[1.0000320633910054,.56004913547279,-.3206339100541203]],Qo=[[2.0701800566956137,-1.326456876103021,.20661600684785517],[.3649882500326575,.6804673628522352,-.04542175307585323],[-.04959554223893211,-.04942116118675749,1.1879959417328034]],ei=new gn({id:"ictcp",name:"ICTCP",coords:{i:{refRange:[0,1],name:"I"},ct:{refRange:[-.5,.5],name:"CT"},cp:{refRange:[-.5,.5],name:"CP"}},base:To,fromBase:function(e){return t=tn(Jo,e),r=t.map((function(e){var t=Ho+$o*Math.pow(e/1e4,Ko),r=1+Yo*Math.pow(e/1e4,Ko);return Math.pow(t/r,78.84375)})),tn(Xo,r);var t,r},toBase:function(e){var t=function(e){return tn(Zo,e).map((function(e){var t=Math.max(Math.pow(e,qo)-Ho,0),r=$o-Yo*Math.pow(e,qo);return 1e4*Math.pow(t/r,6.277394636015326)}))}(e);return tn(Qo,t)},formats:{color:{}}}),ti=[[.8190224432164319,.3619062562801221,-.12887378261216414],[.0329836671980271,.9292868468965546,.03614466816999844],[.048177199566046255,.26423952494422764,.6335478258136937]],ri=[[1.2268798733741557,-.5578149965554813,.28139105017721583],[-.04057576262431372,1.1122868293970594,-.07171106666151701],[-.07637294974672142,-.4214933239627914,1.5869240244272418]],ni=[[.2104542553,.793617785,-.0040720468],[1.9779984951,-2.428592205,.4505937099],[.0259040371,.7827717662,-.808675766]],oi=[[.9999999984505198,.39633779217376786,.2158037580607588],[1.0000000088817609,-.10556134232365635,-.06385417477170591],[1.0000000546724108,-.08948418209496575,-1.2914855378640917]],ii=new gn({id:"oklab",name:"Oklab",coords:{l:{refRange:[0,1],name:"L"},a:{refRange:[-.4,.4]},b:{refRange:[-.4,.4]}},white:"D65",base:Sn,fromBase:function(e){var t=tn(ti,e).map((function(e){return Math.cbrt(e)}));return tn(ni,t)},toBase:function(e){var t=tn(oi,e).map((function(e){return Math.pow(e,3)}));return tn(ri,t)},formats:{oklab:{coords:["<percentage> | <number>","<number> | <percentage>[-1,1]","<number> | <percentage>[-1,1]"]}}}),ai={deltaE76:function(e,t){return co(e,t,"lab")},deltaECMC:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.l,o=void 0===n?2:n,i=r.c,a=void 0===i?1:i,u=Jr(Mn.from(e),3),s=u[0],l=u[1],c=u[2],f=Jr(Cn.from(Mn,[s,l,c]),3),p=f[1],h=f[2],d=Jr(Mn.from(t),3),y=d[0],v=d[1],b=d[2],g=Cn.from(Mn,[y,v,b])[1];p<0&&(p=0),g<0&&(g=0);var m=s-y,w=p-g,S=l-v,E=c-b,O=Math.pow(S,2)+Math.pow(E,2)-Math.pow(w,2),x=.511;s>=16&&(x=.040975*s/(1+.01765*s));var k,A=.0638*p/(1+.0131*p)+.638;Number.isNaN(h)&&(h=0),k=h>=164&&h<=345?.56+Math.abs(.2*Math.cos((h+168)*Ao)):.36+Math.abs(.4*Math.cos((h+35)*Ao));var T=Math.pow(p,4),P=Math.sqrt(T/(T+1900)),I=A*(P*k+1-P),_=Math.pow(m/(o*x),2);return _+=Math.pow(w/(a*A),2),_+=O/Math.pow(I,2),Math.sqrt(_)},deltaE2000:Gn,deltaEJz:function(e,t){var r=Jr(zo.from(e),3),n=r[0],o=r[1],i=r[2],a=Jr(zo.from(t),3),u=a[0],s=a[1],l=a[2],c=n-u,f=o-s;Number.isNaN(i)&&Number.isNaN(l)?(i=0,l=0):Number.isNaN(i)?i=l:Number.isNaN(l)&&(l=i);var p=i-l,h=2*Math.sqrt(o*s)*Math.sin(p/2*(Math.PI/180));return Math.sqrt(Math.pow(c,2)+Math.pow(f,2)+Math.pow(h,2))},deltaEITP:function(e,t){var r=Jr(ei.from(e),3),n=r[0],o=r[1],i=r[2],a=Jr(ei.from(t),3),u=a[0],s=a[1],l=a[2];return 720*Math.sqrt(Math.pow(n-u,2)+.25*Math.pow(o-s,2)+Math.pow(i-l,2))},deltaEOK:function(e,t){var r=Jr(ii.from(e),3),n=r[0],o=r[1],i=r[2],a=Jr(ii.from(t),3),u=n-a[0],s=o-a[1],l=i-a[2];return Math.sqrt(Math.pow(u,2)+Math.pow(s,2)+Math.pow(l,2))}};function ui(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rn(r)&&(r={method:r});var n=r.method,o=void 0===n?dn.deltaE:n,i=Kr(r,["method"]);for(var a in e=xn(e),t=xn(t),ai)if("deltae"+o.toLowerCase()===a.toLowerCase())return ai[a](e,t,i);throw new TypeError("Unknown deltaE method: ".concat(o))}var si=Object.freeze({__proto__:null,darken:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25;return Pn(e,[gn.get("oklch","lch"),"l"],(function(e){return e*(1-t)}))},lighten:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.25;return Pn(e,[gn.get("oklch","lch"),"l"],(function(e){return e*(1+t)}))}});function li(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return e=(r=[xn(e),xn(t)])[0],t=r[1],"object"===nn(o)&&(o=(n=[.5,o])[0],i=n[1]),fi(e,t,{space:i.space,outputSpace:i.outputSpace,premultiplied:i.premultiplied})(o)}function ci(e,t){var r,n,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};pi(e)&&(i=(n=[e,t])[1],e=(o=Jr((r=n[0]).rangeArgs.colors,2))[0],t=o[1]);var a,u=i.maxDeltaE,s=i.deltaEMethod,l=i.steps,c=void 0===l?2:l,f=i.maxSteps,p=void 0===f?1e3:f,h=Kr(i,["maxDeltaE","deltaEMethod","steps","maxSteps"]);r||(a=[xn(e),xn(t)],r=fi(e=a[0],t=a[1],h));var d=ui(e,t),y=u>0?Math.max(c,Math.ceil(d/u)+1):c,v=[];if(void 0!==p&&(y=Math.min(y,p)),1===y)v=[{p:.5,color:r(.5)}];else{var b=1/(y-1);v=Array.from({length:y},(function(e,t){var n=t*b;return{p:n,color:r(n)}}))}if(u>0)for(var g=v.reduce((function(e,t,r){if(0===r)return 0;var n=ui(t.color,v[r-1].color,s);return Math.max(e,n)}),0);g>u;){g=0;for(var m=1;m<v.length&&v.length<p;m++){var w=v[m-1],S=v[m],E=(S.p+w.p)/2,O=r(E);g=Math.max(g,ui(O,w.color),ui(O,S.color)),v.splice(m,0,{p:E,color:r(E)}),m++}}return v=v.map((function(e){return e.color})),v}function fi(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(pi(e)){var n=[e,t],o=n[0],i=n[1];return fi.apply(void 0,Xr(o.rangeArgs.colors).concat([Yr({},o.rangeArgs.options,i)]))}var a=r.space,u=r.outputSpace,s=r.progression,l=r.premultiplied;e=xn(e),t=xn(t),e=Wn(e),t=Wn(t);var c={colors:[e,t],options:r};if(a=a?gn.get(a):gn.registry[dn.interpolationSpace]||e.space,u=u?gn.get(u):a,e=Hn(e,a),t=Hn(t,a),e=zn(e),t=zn(t),a.coords.h&&"angle"===a.coords.h.type){var f,p=r.hue=r.hue||"shorter",h=[a,"h"],d=[An(e,h),An(t,h)],y=d[0],v=d[1];f=Jr(function(e,t){if("raw"===e)return t;var r=Jr(t.map(jn),2),n=r[0],o=r[1],i=o-n;return"increasing"===e?i<0&&(o+=360):"decreasing"===e?i>0&&(n+=360):"longer"===e?-180<i&&i<180&&(i>0?n+=360:o+=360):"shorter"===e&&(i>180?n+=360:i<-180&&(o+=360)),[n,o]}(p,[y,v]),2),y=f[0],v=f[1],Pn(e,h,y),Pn(t,h,v)}return l&&(e.coords=e.coords.map((function(t){return t*e.alpha})),t.coords=t.coords.map((function(e){return e*t.alpha}))),Object.assign((function(r){r=s?s(r):r;var n=e.coords.map((function(e,n){return sn(e,t.coords[n],r)})),o=sn(e.alpha,t.alpha,r),i={space:a,coords:n,alpha:o};return l&&(i.coords=i.coords.map((function(e){return e/o}))),u!==a&&(i=Hn(i,u)),i}),{rangeArgs:c})}function pi(e){return"function"===nn(e)&&!!e.rangeArgs}dn.interpolationSpace="lab";var hi=Object.freeze({__proto__:null,isRange:pi,mix:li,range:fi,register:function(e){e.defineFunction("mix",li,{returns:"color"}),e.defineFunction("range",fi,{returns:"function<color>"}),e.defineFunction("steps",ci,{returns:"array<color>"})},steps:ci}),di=new gn({id:"hsl",name:"HSL",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},l:{range:[0,100],name:"Lightness"}},base:ro,fromBase:function(e){var t,r,n=(t=Math).max.apply(t,Xr(e)),o=(r=Math).min.apply(r,Xr(e)),i=Jr(e,3),a=i[0],u=i[1],s=i[2],l=[NaN,0,(o+n)/2],c=l[0],f=l[1],p=l[2],h=n-o;if(0!==h){switch(f=0===p||1===p?0:(n-p)/Math.min(p,1-p),n){case a:c=(u-s)/h+(u<s?6:0);break;case u:c=(s-a)/h+2;break;case s:c=(a-u)/h+4}c*=60}return[c,100*f,100*p]},toBase:function(e){var t=function(e){var t=(e+n/30)%12,r=o*Math.min(i,1-i);return i-r*Math.max(-1,Math.min(t-3,9-t,1))},r=Jr(e,3),n=r[0],o=r[1],i=r[2];return(n%=360)<0&&(n+=360),o/=100,i/=100,[t(0),t(8),t(4)]},formats:{hsl:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]},hsla:{coords:["<number> | <angle>","<percentage>","<percentage>"],commas:!0,lastAlpha:!0}}}),yi=new gn({id:"hsv",name:"HSV",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},s:{range:[0,100],name:"Saturation"},v:{range:[0,100],name:"Value"}},base:di,fromBase:function(e){var t=Jr(e,3),r=t[0],n=t[1],o=t[2],i=(o/=100)+(n/=100)*Math.min(o,1-o);return[r,0===i?0:200*(1-o/i),100*i]},toBase:function(e){var t=Jr(e,3),r=t[0],n=t[1],o=t[2],i=(o/=100)*(1-(n/=100)/2);return[r,0===i||1===i?0:(o-i)/Math.min(i,1-i)*100,100*i]},formats:{color:{toGamut:!0}}}),vi=new gn({id:"hwb",name:"HWB",coords:{h:{refRange:[0,360],type:"angle",name:"Hue"},w:{range:[0,100],name:"Whiteness"},b:{range:[0,100],name:"Blackness"}},base:yi,fromBase:function(e){var t=Jr(e,3),r=t[0],n=t[1],o=t[2];return[r,o*(100-n)/100,100-o]},toBase:function(e){var t=Jr(e,3),r=t[0],n=t[1],o=t[2],i=(n/=100)+(o/=100);if(i>=1)return[r,0,n/i*100];var a=1-o;return[r,100*(0===a?0:1-n/a),100*a]},formats:{hwb:{toGamut:!0,coords:["<number> | <angle>","<percentage>","<percentage>"]}}}),bi=new En({id:"a98rgb-linear",name:"Linear Adobe 98 RGB compatible",white:"D65",toXYZ_M:[[.5766690429101305,.1855582379065463,.1882286462349947],[.29734497525053605,.6273635662554661,.07529145849399788],[.02703136138641234,.07068885253582723,.9913375368376388]],fromXYZ_M:[[2.0415879038107465,-.5650069742788596,-.34473135077832956],[-.9692436362808795,1.8759675015077202,.04155505740717557],[.013444280632031142,-.11836239223101838,1.0151749943912054]]}),gi=new En({id:"a98rgb",name:"Adobe 98 RGB compatible",base:bi,toBase:function(e){return e.map((function(e){return Math.pow(Math.abs(e),563/256)*Math.sign(e)}))},fromBase:function(e){return e.map((function(e){return Math.pow(Math.abs(e),256/563)*Math.sign(e)}))},formats:{color:{id:"a98-rgb"}}}),mi=new En({id:"prophoto-linear",name:"Linear ProPhoto",white:"D50",base:In,toXYZ_M:[[.7977604896723027,.13518583717574031,.0313493495815248],[.2880711282292934,.7118432178101014,8565396060525902e-20],[0,0,.8251046025104601]],fromXYZ_M:[[1.3457989731028281,-.25558010007997534,-.05110628506753401],[-.5446224939028347,1.5082327413132781,.02053603239147973],[0,0,1.2119675456389454]]}),wi=new En({id:"prophoto",name:"ProPhoto",base:mi,toBase:function(e){return e.map((function(e){return e<.03125?e/16:Math.pow(e,1.8)}))},fromBase:function(e){return e.map((function(e){return e>=.001953125?Math.pow(e,1/1.8):16*e}))},formats:{color:{id:"prophoto-rgb"}}}),Si=new gn({id:"oklch",name:"Oklch",coords:{l:{refRange:[0,1],name:"Lightness"},c:{refRange:[0,.4],name:"Chroma"},h:{refRange:[0,360],type:"angle",name:"Hue"}},white:"D65",base:ii,fromBase:function(e){var t,r=Jr(e,3),n=r[0],o=r[1],i=r[2],a=2e-4;return t=Math.abs(o)<a&&Math.abs(i)<a?NaN:180*Math.atan2(i,o)/Math.PI,[n,Math.sqrt(Math.pow(o,2)+Math.pow(i,2)),jn(t)]},toBase:function(e){var t,r,n=Jr(e,3),o=n[0],i=n[1],a=n[2];return isNaN(a)?(t=0,r=0):(t=i*Math.cos(a*Math.PI/180),r=i*Math.sin(a*Math.PI/180)),[o,t,r]},formats:{oklch:{coords:["<number> | <percentage>","<number> | <percentage>[0,1]","<number> | <angle>"]}}}),Ei=2610/Math.pow(2,14),Oi=Math.pow(2,14)/2610,xi=2523/Math.pow(2,5),ki=Math.pow(2,5)/2523,Ai=3424/Math.pow(2,12),Ti=2413/Math.pow(2,7),Pi=2392/Math.pow(2,7),Ii=new En({id:"rec2100pq",name:"REC.2100-PQ",base:Yn,toBase:function(e){return e.map((function(e){return 1e4*Math.pow(Math.max(Math.pow(e,ki)-Ai,0)/(Ti-Pi*Math.pow(e,ki)),Oi)/203}))},fromBase:function(e){return e.map((function(e){var t=Math.max(203*e/1e4,0),r=Ai+Ti*Math.pow(t,Ei),n=1+Pi*Math.pow(t,Ei);return Math.pow(r/n,xi)}))},formats:{color:{id:"rec2100-pq"}}}),_i=.17883277,Ri=.28466892,Ni=.55991073,Mi=3.7743,ji=new En({id:"rec2100hlg",cssid:"rec2100-hlg",name:"REC.2100-HLG",referred:"scene",base:Yn,toBase:function(e){return e.map((function(e){return e<=.5?Math.pow(e,2)/3*Mi:(Math.exp((e-Ni)/_i)+Ri)/12*Mi}))},fromBase:function(e){return e.map((function(e){return(e/=Mi)<=1/12?Math.sqrt(3*e):_i*Math.log(12*e-Ri)+Ni}))},formats:{color:{id:"rec2100-hlg"}}}),Ci={};function Li(e){var t=e.id;e.toCone_M,e.fromCone_M,Ci[t]=arguments[0]}function Di(e,t){var r=Ci[arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Bradford"],n=Jr(tn(r.toCone_M,e),3),o=n[0],i=n[1],a=n[2],u=Jr(tn(r.toCone_M,t),3),s=tn([[u[0]/o,0,0],[0,u[1]/i,0],[0,0,u[2]/a]],r.toCone_M);return tn(r.fromCone_M,s)}hn.add("chromatic-adaptation-start",(function(e){e.options.method&&(e.M=Di(e.W1,e.W2,e.options.method))})),hn.add("chromatic-adaptation-end",(function(e){e.M||(e.M=Di(e.W1,e.W2,e.options.method))})),Li({id:"von Kries",toCone_M:[[.40024,.7076,-.08081],[-.2263,1.16532,.0457],[0,0,.91822]],fromCone_M:[[1.8599364,-1.1293816,.2198974],[.3611914,.6388125,-64e-7],[0,0,1.0890636]]}),Li({id:"Bradford",toCone_M:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],fromCone_M:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]]}),Li({id:"CAT02",toCone_M:[[.7328,.4296,-.1624],[-.7036,1.6975,.0061],[.003,.0136,.9834]],fromCone_M:[[1.0961238,-.278869,.1827452],[.454369,.4735332,.0720978],[-.0096276,-.005698,1.0153256]]}),Li({id:"CAT16",toCone_M:[[.401288,.650173,-.051461],[-.250268,1.204414,.045854],[-.002079,.048952,.953127]],fromCone_M:[[1.862067855087233,-1.011254630531685,.1491867754444518],[.3875265432361372,.6214474419314753,-.008973985167612518],[-.01584149884933386,-.03412293802851557,1.04996443687785]]}),Object.assign(yn,{A:[1.0985,1,.35585],C:[.98074,1,1.18232],D55:[.95682,1,.92149],D75:[.94972,1,1.22638],E:[1,1,1],F2:[.99186,1,.67393],F7:[.95041,1,1.08747],F11:[1.00962,1,.6435]}),yn.ACES=[.32168/.33767,1,.34065/.33767];var Bi=new En({id:"acescg",name:"ACEScg",coords:{r:{range:[0,65504],name:"Red"},g:{range:[0,65504],name:"Green"},b:{range:[0,65504],name:"Blue"}},referred:"scene",white:yn.ACES,toXYZ_M:[[.6624541811085053,.13400420645643313,.1561876870049078],[.27222871678091454,.6740817658111484,.05368951740793705],[-.005574649490394108,.004060733528982826,1.0103391003129971]],fromXYZ_M:[[1.6410233796943257,-.32480329418479,-.23642469523761225],[-.6636628587229829,1.6153315916573379,.016756347685530137],[.011721894328375376,-.008284441996237409,.9883948585390215]],formats:{color:{}}}),Fi=Math.pow(2,-16),Gi=-.35828683,Ui=(Math.log2(65504)+9.72)/17.52,Vi=new En({id:"acescc",name:"ACEScc",coords:{r:{range:[Gi,Ui],name:"Red"},g:{range:[Gi,Ui],name:"Green"},b:{range:[Gi,Ui],name:"Blue"}},referred:"scene",base:Bi,toBase:function(e){return e.map((function(e){return e<=-.3013698630136986?2*(Math.pow(2,17.52*e-9.72)-Fi):e<Ui?Math.pow(2,17.52*e-9.72):65504}))},fromBase:function(e){return e.map((function(e){return e<=0?(Math.log2(Fi)+9.72)/17.52:e<Fi?(Math.log2(Fi+.5*e)+9.72)/17.52:(Math.log2(e)+9.72)/17.52}))},formats:{color:{}}}),Wi=Object.freeze({__proto__:null,A98RGB:gi,A98RGB_Linear:bi,ACEScc:Vi,ACEScg:Bi,HSL:di,HSV:yi,HWB:vi,ICTCP:ei,JzCzHz:zo,Jzazbz:Wo,LCH:Cn,Lab:Mn,Lab_D65:wo,OKLCH:Si,OKLab:ii,P3:no,P3_Linear:Xn,ProPhoto:wi,ProPhoto_Linear:mi,REC_2020:Jn,REC_2020_Linear:Yn,REC_2100_HLG:ji,REC_2100_PQ:Ii,XYZ_ABS_D65:To,XYZ_D50:In,XYZ_D65:Sn,sRGB:ro,sRGB_Linear:Zn}),zi=function(){function e(){for(var t=this,r=function(e){Object.defineProperty(t,e,{get:function(){return f.get(e)},set:function(t){return f.set(e,t)}})},n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var a,u,s,l,c,f=this;Gr(this,e),1===o.length&&(a=xn(o[0])),a?(u=a.space||a.spaceId,s=a.coords,l=a.alpha):(u=(c=Jr(o,3))[0],s=c[1],l=c[2]),Object.defineProperty(this,"space",{value:gn.get(u),writable:!1,enumerable:!0,configurable:!0}),this.coords=s?s.slice():[0,0,0],this.alpha=l<1?l:1;for(var p=0;p<this.coords.length;p++)"NaN"===this.coords[p]&&(this.coords[p]=NaN);for(var h in this.space.coords)r(h)}return Wr(e,[{key:"spaceId",get:function(){return this.space.id}},{key:"clone",value:function(){return new e(this.space,this.coords,this.alpha)}},{key:"toJSON",value:function(){return{spaceId:this.spaceId,coords:this.coords,alpha:this.alpha}}},{key:"display",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=lo.apply(void 0,[this].concat(Xr(r)));return o.color=new e(o.color),o}}],[{key:"get",value:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return $r(t,e)?t:Ur(e,[t].concat(Xr(n)))}},{key:"defineFunction",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=n.instance,i=void 0===o||o,a=n.returns,u=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=r.apply(void 0,Xr(n));if("color"===a)i=e.get(i);else if("function<color>"===a){var u=i;i=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=u.apply(void 0,Xr(r));return e.get(o)},Object.assign(i,u)}else"array<color>"===a&&(i=i.map((function(t){return e.get(t)})));return i};t in e||(e[t]=u),i&&(e.prototype[t]=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u.apply(void 0,[this].concat(Xr(t)))})}},{key:"defineFunctions",value:function(t){for(var r in t)e.defineFunction(r,t[r],t[r])}},{key:"extend",value:function(t){if(t.register)t.register(e);else for(var r in t)e.defineFunction(r,t[r])}}]),e}();zi.defineFunctions({get:An,getAll:kn,set:Pn,setAll:Tn,to:Hn,equals:function(e,t){return e=xn(e),t=xn(t),e.space===t.space&&e.alpha===t.alpha&&e.coords.every((function(e,r){return e===t.coords[r]}))},inGamut:Vn,toGamut:zn,distance:co,toString:$n}),Object.assign(zi,{util:pn,hooks:hn,WHITES:yn,Space:gn,spaces:gn.registry,parse:On,defaults:dn});var Hi=!0,$i=!1,Yi=void 0;try{for(var Ki,qi=Object.keys(Wi)[Symbol.iterator]();!(Hi=(Ki=qi.next()).done);Hi=!0){var Ji=Ki.value;gn.register(Wi[Ji])}}catch(e){$i=!0,Yi=e}finally{try{Hi||null==qi.return||qi.return()}finally{if($i)throw Yi}}for(var Xi in gn.registry)Zi(Xi,gn.registry[Xi]);function Zi(e,t){Object.keys(t.coords),Object.values(t.coords).map((function(e){return e.name}));var r=e.replace(/-/g,"_");Object.defineProperty(zi.prototype,r,{get:function(){var r=this,n=this.getAll(e);return"undefined"==typeof Proxy?n:new Proxy(n,{has:function(e,r){try{return gn.resolveCoord([t,r]),!0}catch(e){}return Reflect.has(e,r)},get:function(e,r,n){if(r&&"symbol"!==(void 0===r?"undefined":Zr(r))&&!(r in e)){var o=gn.resolveCoord([t,r]).index;if(o>=0)return e[o]}return Reflect.get(e,r,n)},set:function(n,o,i,a){if(o&&"symbol"!==(void 0===o?"undefined":Zr(o))&&!(o in n)||o>=0){var u=gn.resolveCoord([t,o]).index;if(u>=0)return n[u]=i,r.setAll(e,n),!0}return Reflect.set(n,o,i,a)}})},set:function(t){this.setAll(e,t)},configurable:!0,enumerable:!0})}function Qi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ea(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ta(e){return+"".concat(Math.round(Number("".concat(e,"e+2"))),"e-2")}function ra(e){var t,r;if(e.startsWith("rgb")){var n=e.replace(/^rgba?\(|\s+|\)$/g,"").split(",").map(parseFloat),o=(0,zt.webRGBToFigmaRGB)(n),i=o.r,a=o.g,u=o.b,s=o.a;t={r:i,g:a,b:u},r=ta(void 0===s?1:s)}else if(e.startsWith("hsl")){var l=function(e){var t,r=e[0],n=e[1],o=e[2],i=null!==(t=null==e?void 0:e[3])&&void 0!==t?t:1;n/=100,o/=100;var a=(1-Math.abs(2*o-1))*n,u=a*(1-Math.abs(r/60%2-1)),s=o-a/2,l=0,c=0,f=0;return r>=0&&r<60?(l=a,c=u,f=0):r>=60&&r<120?(l=u,c=a,f=0):r>=120&&r<180?(l=0,c=a,f=u):r>=180&&r<240?(l=0,c=u,f=a):r>=240&&r<300?(l=u,c=0,f=a):r>=300&&r<360&&(l=a,c=0,f=u),[l=Math.round(255*(l+s)),c=Math.round(255*(c+s)),f=Math.round(255*(f+s)),i]}(e.replace(/^hsla?\(|\s+|%|\)$/g,"").split(",").map(parseFloat)),c=(0,zt.webRGBToFigmaRGB)(l),f=c.r,p=c.g,h=c.b,d=c.a;t={r:f,g:p,b:h},r=ta(void 0===d?1:d)}else if(e.startsWith("oklch"))try{var y,v=new zi(e).to("srgb"),b=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(v.coords,3),g=b[0],m=b[1],w=b[2],S=null!==(y=v.alpha)&&void 0!==y?y:1;t={r:Math.max(0,Math.min(1,g)),g:Math.max(0,Math.min(1,m)),b:Math.max(0,Math.min(1,w))},r=ta(S)}catch(n){try{var E=(0,zt.hexToFigmaRGB)(Br(e)),O=E.r,x=E.g,k=E.b,A=E.a;t={r:O,g:x,b:k},r=ta(void 0===A?1:A)}catch(e){t={r:0,g:0,b:0},r=1}}else{var T=(0,zt.hexToFigmaRGB)(Br(e)),P=T.r,I=T.g,_=T.b,R=T.a;t={r:P,g:I,b:_},r=ta(void 0===R?1:R)}return{color:t,opacity:r}}function na(e,t){return"a"in e?(0,zt.figmaRGBToHex)(e):(0,zt.figmaRGBToHex)((r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ea(e,t,r[t])}))}return e}({},e),n=null!=(n={a:t})?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})),r));var r,n}function oa(e){return na(e.color,e.opacity)}function ia(e){return e.map((function(e,t,r){for(var n=e,o="",i=0,a=-1,u=0;u<e.length;u+=1){var s=e[u];"("===s?i+=1:")"===s?i-=1:" "===s&&0===i&&(a=u)}if(a>-1){var l=e.substring(a+1);(l.includes("%")||/^\d+(\.\d+)?$/.test(l))&&(n=e.substring(0,a),o=l)}var c=ra(n),f=c.color,p=c.opacity,h=f;return h.a=p,{color:h,position:o?parseFloat(o)/100:t/(r.length-1)}}))}function aa(e){var t=e.gradientTransform,r=e.gradientStops,n=e.type,o=r.map((function(e){return"".concat((0,zt.figmaRGBToHex)(e.color)," ").concat(Math.round(100*e.position*100)/100,"%")})).join(", ");switch(n){case"GRADIENT_RADIAL":case"GRADIENT_DIAMOND":return"radial-gradient(".concat(o,")");case"GRADIENT_ANGULAR":return"conic-gradient(".concat(o,")");default:var i=(0,zt.extractLinearGradientParamsFromTransform)(1,1,t),a=i.start,u=i.end,s=Math.atan2(u[1]-a[1],u[0]-a[0]),l=Math.round(180*s/Math.PI);return"linear-gradient(".concat(l+90,"deg, ").concat(o,")")}}hn.add("colorspace-init-end",(function(e){var t;Zi(e.id,e),null===(t=e.aliases)||void 0===t||t.forEach((function(t){Zi(t,e)}))})),zi.extend(ai),zi.extend({deltaE:ui}),Object.assign(zi,{deltaEMethods:ai}),zi.extend(si),zi.extend({contrast:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rn(r)&&(r={algorithm:r});var n=r.algorithm,o=Kr(r,["algorithm"]);if(!n){var i=Object.keys(Eo).map((function(e){return e.replace(/^contrast/,"")})).join(", ");throw new TypeError("contrast() function needs a contrast algorithm. Please specify one of: ".concat(i))}for(var a in e=xn(e),t=xn(t),Eo)if("contrast"+n.toLowerCase()===a.toLowerCase())return Eo[a](e,t,o);throw new TypeError("Unknown contrast algorithm: ".concat(n))}}),zi.extend(ko),zi.extend(ho),zi.extend(hi),zi.extend(Eo);var ua=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=Math.pow(10,t);return Math.round((e+Number.EPSILON)*r)/r};function sa(e){var t=e.substring(0,e.indexOf("(")),r=function(e){for(var t=[],r="",n=0,o=0;o<e.length;){var i=e[o];"("===i?(n+=1,r+=i):")"===i?(n-=1,r+=i):","===i&&0===n?(t.push(r.trim()),r=""):r+=i,o+=1}return r.trim()&&t.push(r.trim()),t}(e.substring(e.indexOf("(")+1,e.lastIndexOf(")")));switch(t){case"linear-gradient":default:return function(e){var t=180;if(e[0].includes("deg"))t=parseFloat(e[0].replace("deg","")),e.shift();else if(e[0].includes("turn"))t=360*parseFloat(e[0].replace("turn","")),e.shift();else if(e[0].startsWith("to ")){var r=e[0].replace("to ","");switch(e.shift(),r){case"top":t=180;break;case"right":t=270;break;case"bottom":t=0;break;case"left":t=90;break;case"top right":t=225;break;case"top left":t=135;break;case"bottom right":t=315;break;case"bottom left":t=45}}var n=-(t-90)*(Math.PI/180),o=Math.abs(n)%(Math.PI/2);o>Math.PI/4&&(o=Math.PI/2-o);var i,a=Math.sin(n),u=Math.cos(n)*(i=Math.cos(o)),s=a*i,l=.5-.5*u+.5*s,c=.5-.5*s-.5*u,f=new Or([[ua(u),ua(-s),ua(l)],[ua(s),ua(u),ua(c)],[0,0,1]]).to2DArray();return{type:"GRADIENT_LINEAR",gradientStops:ia(e),gradientTransform:[f[0],f[1]]}}(r);case"radial-gradient":return function(e){var t=0;return e.length>0&&!e[0].includes("#")&&!e[0].includes("rgb")&&!e[0].includes("hsl")&&(t=1),{type:"GRADIENT_RADIAL",gradientStops:ia(e.slice(t)),gradientTransform:[[1,0,0],[0,1,0]]}}(r);case"conic-gradient":return function(e){var t=0,r=0;if(e.length>0&&(e[0].includes("from")||e[0].includes("at"))){if(e[0].includes("from")&&e[0].includes("deg")){var n=e[0].match(/from\s+(\d+(?:\.\d+)?)deg/);n&&(r=parseFloat(n[1]))}t=1}var o=ia(e.slice(t)),i=r*Math.PI/180,a=Math.cos(i),u=Math.sin(i);return{type:"GRADIENT_ANGULAR",gradientStops:o,gradientTransform:[[a,-u,.5-.5*a+.5*u],[u,a,.5-.5*u-.5*a]]}}(r)}}var la="16";function ca(e,t){return"string"==typeof e&&(e.endsWith("em")||e.endsWith("rem"))?isNaN(parseFloat(t))?parseFloat(e)*parseFloat(la):parseFloat(e)*parseFloat(t):parseFloat(e)}var fa=/^-?\d+(\.\d+)?$/,pa=function(e){return Boolean("%"===e.trim().slice(-1)&&e.trim().slice(0,-1).match(fa))};function ha(e){var t=e.unit,r=e.value;return"PERCENT"===t?"".concat(+r.toFixed(2),"%"):+r.toFixed(2)}function da(e){switch(e){case"UPPER":return"uppercase";case"LOWER":return"lowercase";case"TITLE":return"capitalize";case"SMALL_CAPS":return"small_caps";case"SMALL_CAPS_FORCED":return"small_caps_forced";default:return"none"}}function ya(e){switch(e){case"UNDERLINE":return"underline";case"STRIKETHROUGH":return"line-through";default:return"none"}}function va(e){return"PIXELS"===e.unit?+e.value.toFixed(2):"PERCENT"===e.unit?"".concat(+e.value.toFixed(2),"%"):"AUTO"}function ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ga(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ma(e){return function(e){if(Array.isArray(e))return ba(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ba(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ba(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wa(e,t,r){var n,o,i=[],a=Kt(e,t,r);if(a){var u=a.paints[0],s={};if("SOLID"===u.type){var l=u.color,c=l.r,f=l.g,p=l.b,h=u.opacity;s.value=(0,zt.figmaRGBToHex)({r:c,g:f,b:p,a:h})}else"GRADIENT_LINEAR"===u.type||"GRADIENT_RADIAL"===u.type||"GRADIENT_ANGULAR"===u.type||"GRADIENT_DIAMOND"===u.type?s.value=aa(u):s=null;var d=a.name.split("/").map((function(e){return e.trim()})).join(".");if(s){var y="fills"===r?ae.fill:ae.borderColor;i.push((n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ga(e,t,r[t])}))}return e}({},s),o=null!=(o={name:d,type:y})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})),n))}}return i}function Sa(e){var t,r,n=[];if("effects"in e){var o=Kt(e,"effectStyleId_original","effects");if(o&&o.effects.every((function(e){return"DROP_SHADOW"===e.type||"INNER_SHADOW"===e.type}))){var i=o.effects.map((function(e){var t=e,r={};return r.color=(0,zt.figmaRGBToHex)(t.color),r.type=Zt(t.type),r.x=t.offset.x,r.y=t.offset.y,r.blur=t.radius,r.spread=t.spread||0,r}));if(i.length>0){var a=o.name.split("/").map((function(e){return e.trim()})).join("."),u={value:i.length>1?i:i[0],type:ae.boxShadow,name:a};n.push(u)}}}"fills"in e&&(t=n).push.apply(t,ma(wa(e,"fillStyleId_original","fills")));"strokes"in e&&(r=n).push.apply(r,ma(wa(e,"strokeStyleId_original","strokes")));if("TEXT"===e.type){var s=Kt(e,"textStyleId_original","typography");if(s){var l,c={fontFamily:s.fontName.family,fontWeight:null===(l=s.fontName)||void 0===l?void 0:l.style,lineHeight:va(s.lineHeight).toString(),fontSize:s.fontSize.toString(),letterSpacing:ha(s.letterSpacing).toString(),paragraphSpacing:s.paragraphSpacing.toString(),paragraphIndent:s.paragraphIndent.toString(),textCase:da(s.textCase.toString()),textDecoration:ya(s.textDecoration.toString())},f={name:s.name.split("/").map((function(e){return e.trim()})).join("."),value:c,type:ae.typography};n.push(f)}}return n}function Ea(e){switch(e){case"visible":return"visibility";case"topLeftRadius":return"borderRadiusTopLeft";case"topRightRadius":return"borderRadiusTopRight";case"bottomLeftRadius":return"borderRadiusBottomLeft";case"bottomRightRadius":return"borderRadiusBottomRight";case"strokeWeight":return"borderWidth";case"strokeTopWeight":return"borderWidthTop";case"strokeRightWeight":return"borderWidthRight";case"strokeBottomWeight":return"borderWidthBottom";case"strokeLeftWeight":return"borderWidthLeft";default:return e}}function Oa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ka(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){xa(e,t,r[t])}))}return e}function Aa(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Ta(e){var t=[];return"DOCUMENT"!==e.type&&"PAGE"!==e.type&&e.boundVariables&&Object.entries(e.boundVariables).forEach((function(r){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Oa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,2),o=n[0],i=n[1];if("fills"in e&&"fills"===o&&Array.isArray(i)){var a,u,s=null===(u=e.boundVariables)||void 0===u||null===(a=u.fills)||void 0===a?void 0:a[0].id;if(s){var l=figma.variables.getVariableById(s);if(l){var c=(0,zt.clone)(e.fills),f={};if("SOLID"===c[0].type){var p=c[0].color,h=p.r,d=p.g,y=p.b,v=c[0].opacity;f.value=(0,zt.figmaRGBToHex)({r:h,g:d,b:y,a:v})}else f=null;t.push(Aa(ka({},f),{name:null==l?void 0:l.name.split("/").join("."),type:ae.fill}))}}}if("strokes"===o&&Array.isArray(i)){var b,g,m=null===(g=e.boundVariables)||void 0===g||null===(b=g.strokes)||void 0===b?void 0:b[0].id;if(m){var w=figma.variables.getVariableById(m);if(w&&"strokes"in e&&void 0!==e.strokes){var S=(0,zt.clone)(e.strokes),E={};if("SOLID"===S[0].type){var O=S[0].color,x=O.r,k=O.g,A=O.b,T=S[0].opacity;E.value=(0,zt.figmaRGBToHex)({r:x,g:k,b:A,a:T})}else E=null;t.push(Aa(ka({},E),{name:null==w?void 0:w.name.split("/").join("."),type:ae.borderColor}))}}}if(!Array.isArray(i)&&o in e){var P=i.id;if(P&&"string"==typeof P){var I=figma.variables.getVariableById(P);I&&t.push(ka({name:null==I?void 0:I.name.split("/").join("."),type:Ea(o)},o in e&&{value:String(e[o])}))}}})),t}function Pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ia(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function _a(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ia(i,n,o,a,u,"next",e)}function u(e){Ia(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Ra(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Na(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Ma(e){return ja.apply(this,arguments)}function ja(){return ja=_a((function(t){var r,n,o,i,a;return Na(this,(function(u){return r=t.nodes,n=t.shouldSendSelectionValues,o=[],Array.isArray(r)&&(null==r?void 0:r.length)>0&&(n&&(i=function(e){var t=e.reduce((function(e,t){var r=t.tokens,n=t.id,o=t.node,i=o.name,a=o.type;return Object.entries(r).forEach((function(t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),o=r[0],u=r[1],s=e.find((function(e){return e.type===o&&e.value===u}));if(s)s.nodes.push({id:n,name:i,type:a});else{var l=jt(ae,o);e.push({value:u,type:o,category:l,nodes:[{id:n,name:i,type:a}],appliedType:"token"})}})),Ta(t.node).forEach((function(t){if(!e.find((function(e){return e.type===t.type&&e.nodes.find((function(e){return Lt(e,{id:n,name:i,type:a})}))}))){var r=jt(ae,t.type);e.push({value:t.name,type:t.type,category:r,nodes:[{id:n,name:i,type:a}],resolvedValue:t.value,appliedType:"variable"})}})),Sa(t.node).forEach((function(t){if(!e.find((function(e){return e.type===t.type&&e.nodes.find((function(e){return Lt(e,{id:n,name:i,type:a})}))}))){var r=jt(ae,t.type);e.push({value:t.name,type:t.type,category:r,nodes:[{id:n,name:i,type:a}],resolvedValue:t.value,appliedType:"style"})}})),e}),[]);return t}(r)),o=r.reduce((function(e,t){return Sa(t.node).forEach((function(t){e.push(Ra({},t.type,t.name))})),Ta(t.node).forEach((function(t){e.push(Ra({},t.type,t.name))})),e.push(t.tokens),e}),[])),a=figma.currentPage.selection.length,function(t){var r=t.selectionValues,n=t.mainNodeSelectionValues,o=t.selectedNodes;M({type:e.SELECTION,selectionValues:r,mainNodeSelectionValues:n,selectedNodes:o})}({selectionValues:null!=i?i:[],mainNodeSelectionValues:o,selectedNodes:a}),[2,{selectionValues:i,mainNodeSelectionValues:o,selectedNodes:a}]}))})),ja.apply(this,arguments)}function Ca(e){return La.apply(this,arguments)}function La(){return La=_a((function(e){var t,r,n,o;return Na(this,(function(i){return t=e.nodes,r=e.key,n=e.shouldRemoveValues,o=void 0===n||n,[2,Promise.all(t.map(function(){var e=_a((function(e){return Na(this,(function(t){return r?(ut.set(e,r,""),o&&Vt(e,r)):Object.values(ae).forEach((function(t){ut.set(e,t,""),o&&Vt(e,t)})),[2]}))}));return function(t){return e.apply(this,arguments)}}()))]}))})),La.apply(this,arguments)}function Da(e){return Ba.apply(this,arguments)}function Ba(){return Ba=_a((function(e){var t,r;return Na(this,(function(n){return t=e.nodes,r=e.key,[2,Promise.all(t.map(function(){var e=_a((function(e){return Na(this,(function(t){return ut.set(e,r,"none"),Vt(e,r),[2]}))}));return function(t){return e.apply(this,arguments)}}()))]}))})),Ba.apply(this,arguments)}function Fa(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Ga(){return Ua.apply(this,arguments)}function Ua(){return Ua=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Fa(i,n,o,a,u,"next",e)}function u(e){Fa(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e,t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return Qe.inspectDeep&&Qe.shouldSendSelectionValues?[4,Mt.findBaseNodesWithData({updateMode:At.SELECTION,nodesWithoutPluginData:!0})]:[3,2];case 1:return t=r.sent(),[3,4];case 2:return[4,Mt.findBaseNodesWithData({nodes:figma.currentPage.selection,nodesWithoutPluginData:!1})];case 3:t=r.sent(),r.label=4;case 4:return e=t,figma.currentPage.selection.length?[2,Ma({nodes:e,shouldSendSelectionValues:Qe.shouldSendSelectionValues})]:(C(),[2,null])}}))})),Ua.apply(this,arguments)}function Va(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Wa=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Va(i,n,o,a,u,"next",e)}function u(e){Va(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return t=e.requiresSelectionValues,Qe.shouldSendSelectionValues=t,[4,Ga()];case 1:return r.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function za(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Ha,$a,Ya=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){za(i,n,o,a,u,"next",e)}function u(e){za(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,Ye(e.context)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function Ka(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e.DTCG="dtcg",e.Legacy="legacy"}(Ha||(Ha={})),Ka($a={},"dtcg",{label:"DTCG",value:"dtcg"}),Ka($a,"legacy",{label:"Legacy",value:"legacy"});var qa,Ja,Xa=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ka(this,"tokenValueKey",void 0),Ka(this,"tokenTypeKey",void 0),Ka(this,"tokenDescriptionKey",void 0),Ka(this,"format",void 0),Ka(this,"setFormat",(function(e){t.format=e,t.tokenValueKey="dtcg"===e?"$value":"value",t.tokenTypeKey="dtcg"===e?"$type":"type",t.tokenDescriptionKey="dtcg"===e?"$description":"description"})),Ka(this,"getFormat",(function(){return t.format})),this.tokenValueKey="value",this.tokenTypeKey="type",this.tokenDescriptionKey="description",this.format="legacy"};Xa.setFormat,Xa.getFormat,(Ja=qa||(qa={})).OTHER="other",Ja.COLOR="color",Ja.BORDER_RADIUS="borderRadius",Ja.SIZING="sizing",Ja.SPACING="spacing",Ja.TEXT="text",Ja.TYPOGRAPHY="typography",Ja.OPACITY="opacity",Ja.BORDER_WIDTH="borderWidth",Ja.BOX_SHADOW="boxShadow",Ja.FONT_FAMILIES="fontFamilies",Ja.FONT_WEIGHTS="fontWeights",Ja.LINE_HEIGHTS="lineHeights",Ja.FONT_SIZES="fontSizes",Ja.LETTER_SPACING="letterSpacing",Ja.PARAGRAPH_SPACING="paragraphSpacing",Ja.PARAGRAPH_INDENT="paragraphIndent",Ja.TEXT_DECORATION="textDecoration",Ja.TEXT_CASE="textCase",Ja.COMPOSITION="composition",Ja.DIMENSION="dimension",Ja.BORDER="border",Ja.ASSET="asset",Ja.BOOLEAN="boolean",Ja.NUMBER="number";var Za,Qa=["borderRadius","sizing","spacing","borderWidth","dimension","number","fontSizes","letterSpacing","lineHeights","paragraphIndent","paragraphSpacing","opacity"];function eu(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e}function tu(e){return Boolean(e&&("string"==typeof e||(Array.isArray(e)?e:[e]).every((function(e){return e&&"object"==typeof e&&"type"in e&&"color"in e&&(e.type===Wt.DROP_SHADOW||e.type===Wt.INNER_SHADOW)}))))}function ru(e){return Boolean(e&&("string"==typeof e||(Array.isArray(e)?e:[e]).every((function(e){return e&&"object"==typeof e&&("fontFamily"in e||"fontWeight"in e||"fontSize"in e||"lineHeight"in e||"letterSpacing"in e||"paragraphSpacing"in e||"paragraphIndent"in e||"textCase"in e||"textDecoration"in e)}))))}function nu(e,t){return t.name.split("/").map((function(e){return e.trim()})).join("/")===e}function ou(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function iu(e){return au.apply(this,arguments)}function au(){return au=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ou(i,n,o,a,u,"next",e)}function u(e){ou(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,i,a,u,s,l,c;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(f){switch(f.label){case 0:return[4,figma.clientStorage.keysAsync()];case 1:t=f.sent(),r=t.filter((function(e){return e.includes("/tokens/")})),n=r.filter((function(t){return!t.startsWith(e)})),o=!0,i=!1,a=void 0,f.label=2;case 2:f.trys.push([2,7,8,9]),u=n[Symbol.iterator](),f.label=3;case 3:return(o=(s=u.next()).done)?[3,6]:(l=s.value,[4,figma.clientStorage.deleteAsync(l)]);case 4:f.sent(),f.label=5;case 5:return o=!0,[3,3];case 6:return[3,9];case 7:return c=f.sent(),i=!0,a=c,[3,9];case 8:try{o||null==u.return||u.return()}finally{if(i)throw a}return[7];case 9:return[2]}}))})),au.apply(this,arguments)}function uu(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function su(){return lu.apply(this,arguments)}function lu(){return lu=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){uu(i,n,o,a,u,"next",e)}function u(e){uu(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e,t,r,n,o,i,a,u,s,l,c;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(f){switch(f.label){case 0:return[4,figma.clientStorage.keysAsync()];case 1:e=f.sent(),t=e.filter((function(e){return e.includes("/tokens/")})),r=0,n=!0,o=!1,i=void 0,f.label=2;case 2:f.trys.push([2,7,8,9]),a=t[Symbol.iterator](),f.label=3;case 3:return(n=(u=a.next()).done)?[3,6]:(s=u.value,[4,figma.clientStorage.getAsync(s)]);case 4:(l=f.sent())&&(r+=H(l)),f.label=5;case 5:return n=!0,[3,3];case 6:return[3,9];case 7:return c=f.sent(),o=!0,i=c,[3,9];case 8:try{n||null==a.return||a.return()}finally{if(o)throw i}return[7];case 9:return[2,r]}}))})),lu.apply(this,arguments)}function cu(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function fu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){cu(i,n,o,a,u,"next",e)}function u(e){cu(i,n,o,a,u,"throw",e)}a(void 0)}))}}function pu(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}!function(e){e.LIGHTEN="lighten",e.DARKEN="darken",e.MIX="mix",e.ALPHA="alpha"}(Za||(Za={}));var hu={write:function(e,t,r){return fu((function(){var n,o,i,a;return pu(this,(function(u){switch(u.label){case 0:return n=e.includes(t)?e:"".concat(t,"/tokens/").concat(e),(o=H(r))>5242880?(i=(o/1048576).toFixed(2),console.error("Cannot write to client storage: Data size (".concat(i," MB) exceeds maximum limit in Figma of 5MB")),[2,!1]):[4,su()];case 1:return u.sent()+o>4194304?[4,iu(t)]:[3,3];case 2:u.sent(),u.label=3;case 3:return u.trys.push([3,5,,6]),[4,figma.clientStorage.setAsync(n,r)];case 4:return u.sent(),[2,!0];case 5:return a=u.sent(),console.error("Error writing to client storage:",a),[2,!1];case 6:return[2]}}))}))()},read:function(e){return fu((function(){var t,r,n;return pu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,figma.clientStorage.getAsync(e)];case 1:if(t=o.sent(),e.endsWith("/checkForChanges"))return[2,t];if(!t)return[2,null];if(!(r=(0,fe.decompressFromUTF16)(t)))return[2,null];try{return[2,JSON.parse(r)]}catch(e){return console.error("Error parsing decompressed data:",e),[2,null]}return[3,3];case 2:return n=o.sent(),console.error("Error in ClientStorageProperty.read:",n),[2,null];case 3:return[2]}}))}))()}};function du(e,t){var r=e.match(/(\d+%)/);if(r){var n=Number(r[0].slice(0,-1));return t?n:n/100}var o=Number(e);return t&&o>=0&&o<=1?100*o:o}function yu(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function vu(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){yu(i,n,o,a,u,"next",e)}function u(e){yu(i,n,o,a,u,"throw",e)}a(void 0)}))}}function bu(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function gu(){return mu.apply(this,arguments)}function mu(){return mu=vu((function(){var e,t,r;return bu(this,(function(n){switch(n.label){case 0:e=Be(24),n.label=1;case 1:return n.trys.push([1,6,,8]),[4,ce.read()];case 2:return null!==(t=n.sent())?[3,4]:[4,ce.write(e)];case 3:return n.sent(),[3,5];case 4:e=t,n.label=5;case 5:return[3,8];case 6:return r=n.sent(),console.error("error retrieving userId",r),[4,ce.write(e)];case 7:return n.sent(),[3,8];case 8:return[2,e]}}))})),mu.apply(this,arguments)}function wu(){return Su.apply(this,arguments)}function Su(){return Su=vu((function(){var e,t,r;return bu(this,(function(n){switch(n.label){case 0:e=Be(24),n.label=1;case 1:return n.trys.push([1,6,,8]),[4,Me.read(figma.root)];case 2:return null!==(t=n.sent())?[3,4]:[4,Me.write(e)];case 3:return n.sent(),[3,5];case 4:e=t,n.label=5;case 5:return[3,8];case 6:return r=n.sent(),console.error("error retrieving fileKey",r),[4,Me.write(e)];case 7:return n.sent(),[3,8];case 8:return[2,e]}}))})),Su.apply(this,arguments)}function Eu(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];switch(t){case ae.borderWidth:case ae.borderWidthTop:case ae.borderWidthRight:case ae.borderWidthBottom:case ae.borderWidthLeft:return ca(e,r);case"width":case"height":case"sizing":return function(e){return 0===Number(e)?.001:e}(ca(e,r));case"backgroundBlur":case"borderRadius":case"borderRadiusTopLeft":case"borderRadiusTopRight":case"borderRadiusBottomRight":case"borderRadiusBottomLeft":case"spacing":case"horizontalPadding":case"verticalPadding":case"paddingTop":case"paddingRight":case"paddingBottom":case"paddingLeft":case"itemSpacing":case"paragraphSpacing":case"paragraphIndent":case"fontSizes":case"fontSize":case"dimension":case"number":return ca(e,r);case"fontWeights":case"fontWeight":return function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return[e];switch(e){case"100":return["Thin","Hairline"];case"200":return["ExtraLight","Extra Light","UltraLight","Ultra Light"];case"300":return["Light"];case"400":return["Regular","Normal"];case"500":return["Medium"];case"600":return["SemiBold","Semibold","Semi Bold","DemiBold","Demi Bold"];case"700":return["Bold"];case"800":return["ExtraBold","Extra Bold","UltraBold","Ultra Bold"];case"900":return["Black","Heavy"];default:return[e]}}(e,n);case"letterSpacing":return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null,o=e.toString();if(pa(o))n={unit:"PERCENT",value:Number(o.slice(0,-1))};else if(o.match(fa)||o.endsWith("px")||o.endsWith("em")||o.endsWith("rem")){if(r)return ca(o,t);n={unit:"PIXELS",value:ca(o,t)}}return n}(e,r,n);case"lineHeights":case"lineHeight":return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null,o=e.toString(),i=/^-?\d+(\.\d+)?$/;if(o.match(i)||o.endsWith("px")||o.endsWith("em")||o.endsWith("rem")){if(r)return ca(o,t);n={unit:"PIXELS",value:ca(o,t)}}else n="%"===o.trim().slice(-1)&&o.trim().slice(0,-1).match(i)?{unit:"PERCENT",value:Number(o.slice(0,-1))}:{unit:"AUTO"};return n}(e,r,n);case"opacity":return du(e.toString(),n);case"boxShadowType":return Xt(e);case"textCase":return function(e){switch(e.toLowerCase()){case"uppercase":case"upper":return"UPPER";case"lowercase":case"lower":return"LOWER";case"capitalize":case"title":return"TITLE";case"small-caps":case"small_caps":return"SMALL_CAPS";case"all-small-caps":case"small_caps_forced":return"SMALL_CAPS_FORCED";default:return"ORIGINAL"}}(e.toString());case"textDecoration":return function(e){switch(e.toLowerCase()){case"underline":return"UNDERLINE";case"line-through":case"strikethrough":return"STRIKETHROUGH";default:return"NONE"}}(e.toString());case"fontFamily":case"fontFamilies":return function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e.toString();try{return t?r.split(",")[0].trim().replace(/['"]/g,""):r}catch(e){return console.error("font family err",r,e),r}}(e,n);default:return e}}function Ou(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xu(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function ku(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){xu(i,n,o,a,u,"next",e)}function u(e){xu(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Au(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Au(e,t,r[t])}))}return e}function Pu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ou(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ou(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Iu(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function _u(e){switch(e){case"tokenName":return"name";case"description":return"description";case"tokenValue":return"rawValue";default:return"value"}}var Ru=new Map([[ae.border,"border"],[ae.borderTop,"borderTop"],[ae.borderRight,"borderRight"],[ae.borderBottom,"borderBottom"],[ae.borderLeft,"borderLeft"]]);function Nu(e,t){var r=Object.entries(t).reduce((function(t,r){var n,o,i,a=Pu(r,2),u=a[0],s=a[1],l=e.get(s);if(!l)return t;if((i=l)&&"object"==typeof i&&"value"in i&&"name"in i)if("rawValue"===_u(u)&&(null===(o=l.$extensions)||void 0===o||null===(n=o["studio.tokens"])||void 0===n?void 0:n.modify)){var c,f,p=null===(f=l.$extensions)||void 0===f||null===(c=f["studio.tokens"])||void 0===c?void 0:c.modify;p&&(t[u]=p.type===Za.MIX?"".concat(l.rawValue," / mix(").concat(p.color,", ").concat(p.value,") / ").concat(p.space):"".concat(l.rawValue," / ").concat(p.type,"(").concat(p.value,") / ").concat(p.space))}else u===qa.COMPOSITION?Object.entries(l.value).forEach((function(e){var r=Pu(e,2),n=r[0],o=r[1];t[n]=o,"object"==typeof o&&Ru.get(n)&&"color"in o&&"string"==typeof o.color&&(t.borderColor=o.color)})):"description"===_u(u)?t[u]=l.description?l.description:"No description":Ru.get(u)&&l.type===qa.BORDER&&"object"==typeof l.value&&"color"in l.value&&l.value.color&&!("borderColor"in t)?(t.borderColor=l.value.color,t[u]=l.value):t[u]=l[_u(u)]||l.value;else t[u]=l;return t}),{});return r}function Mu(){return ju.apply(this,arguments)}function ju(){return(ju=ku((function(){var e;return Iu(this,(function(t){switch(t.label){case 0:return[4,we.read(figma.root)];case 1:return(e=t.sent())?[2,e]:[2,{provider:I.LOCAL}]}}))}))).apply(this,arguments)}function Cu(){return Lu.apply(this,arguments)}function Lu(){return Lu=ku((function(){var e,t,r,n,o,i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O,x;return Iu(this,(function(k){switch(k.label){case 0:return k.trys.push([0,22,,23]),[4,Ce.read(figma.root)];case 1:return t=null!==(e=k.sent())&&void 0!==e&&e,[4,Mu()];case 2:return r=k.sent(),n={},o=[],[4,wu()];case 3:return i=k.sent(),a="".concat(i,"/tokens"),r.provider!==I.LOCAL?[3,6]:[4,ye.read(figma.root,t)];case 4:return n=null!==(u=k.sent())&&void 0!==u?u:{},[4,ve.read(figma.root,t)];case 5:return o=null!==(s=k.sent())&&void 0!==s?s:[],[3,12];case 6:return[4,hu.read("".concat(a,"/values"))];case 7:return n=null!==(l=k.sent())&&void 0!==l?l:{},[4,hu.read("".concat(a,"/themes"))];case 8:return o=null!==(c=k.sent())&&void 0!==c?c:[],0!==Object.keys(n).length?[3,10]:[4,ye.read(figma.root,t)];case 9:n=null!==(f=k.sent())&&void 0!==f?f:{},k.label=10;case 10:return 0!==o.length?[3,12]:[4,ve.read(figma.root,t)];case 11:o=null!==(p=k.sent())&&void 0!==p?p:[],k.label=12;case 12:return[4,be.read(figma.root)];case 13:return d=null!==(h=k.sent())&&void 0!==h?h:{},[4,ge.read(figma.root)];case 14:return y=k.sent(),[4,me.read(figma.root)];case 15:return v=k.sent(),[4,hu.read("".concat(a,"/checkForChanges"))];case 16:return null===(b=k.sent())||void 0===b?[3,17]:(w=b,[3,19]);case 17:return[4,je.read(figma.root)];case 18:w=k.sent(),k.label=19;case 19:return m=null!==(g=w)&&void 0!==g&&g,[4,_e.read(figma.root)];case 20:return S=k.sent(),[4,Ne.read(figma.root)];case 21:return E=k.sent(),Object.keys(n).length>0?(O=Object.entries(n).reduce((function(e,t){var r=Pu(t,2),n=r[0],o=r[1];return e[n]="string"==typeof o?JSON.parse(o):o,e}),{}),[2,{values:O,themes:o,activeTheme:d,updatedAt:v||"",version:y||"",checkForChanges:m,collapsedTokenSets:S,tokenFormat:E}]):[3,23];case 22:return x=k.sent(),console.log("Error reading tokens",x),[3,23];case 23:return[2,null]}}))})),Lu.apply(this,arguments)}function Du(e){return Bu.apply(this,arguments)}function Bu(){return(Bu=ku((function(e){return Iu(this,(function(t){switch(t.label){case 0:return[4,we.write(e)];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function Fu(e){return Gu.apply(this,arguments)}function Gu(){return(Gu=ku((function(e){return Iu(this,(function(t){switch(t.label){case 0:return[4,Oe.write(e)];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function Uu(e){return Vu.apply(this,arguments)}function Vu(){return(Vu=ku((function(e){return Iu(this,(function(t){switch(t.label){case 0:return[4,xe.write(e)];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function Wu(e){return zu.apply(this,arguments)}function zu(){return(zu=ku((function(e){return Iu(this,(function(t){switch(t.label){case 0:return[4,ke.write(e)];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function Hu(e){return $u.apply(this,arguments)}function $u(){return($u=ku((function(e){return Iu(this,(function(t){switch(t.label){case 0:return[4,Ae.write(e)];case 1:return t.sent(),[2]}}))}))).apply(this,arguments)}function Yu(e,t){if(t&&t.composition){var r=e.get(t.composition),n={};if(null==r?void 0:r.rawValue){Object.entries(null==r?void 0:r.rawValue).forEach((function(e){var t=Pu(e,2),o=t[0],i=t[1],a=r.name;String(i).startsWith("$")&&(a=String(i).slice(1,String(i).length)),String(i).startsWith("{")&&(a=String(i).slice(1,String(i).length-1)),n[o]=a})),t.composition;var o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,["composition"]);t=Tu({},n,o)}}if(t&&t.border&&!t.borderColor&&!t.borderWidth){var i=e.get(t.border);if(i&&i.resolvedValueWithReferences&&"object"==typeof i.resolvedValueWithReferences){if("color"in i.resolvedValueWithReferences){var a=i.resolvedValueWithReferences.color.replace("{","").replace("}","");t.borderColor=a}if("width"in i.resolvedValueWithReferences){var u=i.resolvedValueWithReferences.width.replace("{","").replace("}","");t.borderWidth=u}}t=Tu({},t,t.borderColor?{}:{borderColor:t.border})}return t&&t.borderTop&&(t=Tu({},t,t.borderColor?{}:{borderColor:t.borderTop})),t&&t.borderRight&&(t=Tu({},t,t.borderColor?{}:{borderColor:t.borderRight})),t&&t.borderLeft&&(t=Tu({},t,t.borderColor?{}:{borderColor:t.borderLeft})),t&&t.borderBottom&&(t=Tu({},t,t.borderColor?{}:{borderColor:t.borderBottom})),t}function Ku(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var qu=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ku(i,n,o,a,u,"next",e)}function u(e){Ku(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,Du(e.storageType)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function Ju(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Xu=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ju(i,n,o,a,u,"next",e)}function u(e){Ju(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,Fu(e.onboardingExplainerSets)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function Zu(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Qu=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Zu(i,n,o,a,u,"next",e)}function u(e){Zu(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,Uu(e.onboardingExplainerExportSets)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function es(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var ts=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){es(i,n,o,a,u,"next",e)}function u(e){es(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,Wu(e.onboardingExplainerSyncProviders)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function rs(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var ns,os=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){rs(i,n,o,a,u,"next",e)}function u(e){rs(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,Hu(e.onboardingExplainerInspect)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function is(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function as(e,t){return us.apply(this,arguments)}function us(){return us=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){is(i,n,o,a,u,"next",e)}function u(e){is(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t){var r,n,o,i,a,u;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),r=t.description,n=t.value,"fills"in e&&e.fills!==figma.mixed?[4,fetch(n).then((function(e){return e.arrayBuffer()})).catch((function(){return N("Failed to load image",{error:!0}),null}))]:[3,2];case 1:(o=s.sent())&&(i=figma.createImage(new Uint8Array(o)),a={type:"IMAGE",scaleMode:"FILL",imageHash:i.hash},e.fills=[a]),s.label=2;case 2:return r&&"description"in e&&(e.description=r),[3,4];case 3:return u=s.sent(),console.error("Error setting image",u),[3,4];case 4:return[2]}}))})),us.apply(this,arguments)}function ss(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function ls(e,t,r){return cs.apply(this,arguments)}function cs(){return cs=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ss(i,n,o,a,u,"next",e)}function u(e){ss(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return r.asset&&"string"==typeof r.asset&&"fills"in e?[4,as(e,{value:r.asset})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))})),cs.apply(this,arguments)}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ps(e,t,r){try{if("effects"in e){var n=e.effects.findIndex((function(e){return"BACKGROUND_BLUR"===e.type})),o=function(e){if(Array.isArray(e))return fs(e)}(a=e.effects)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return fs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fs(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i={type:"BACKGROUND_BLUR",visible:!0,radius:Eu(String(t.value),"backgroundBlur",r)};n>-1?o=Object.assign([],e.effects,function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},n,i)):o.push(i),e.effects=o}}catch(e){console.error("Error setting color",e)}var a}function hs(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function ds(e,t,r,n){return ys.apply(this,arguments)}function ys(){return ys=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){hs(i,n,o,a,u,"next",e)}function u(e){hs(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return"effects"in e&&void 0!==r.backgroundBlur&&eu(r.backgroundBlur)&&ps(e,{value:String(r.backgroundBlur)},n),[2]}))})),ys.apply(this,arguments)}function vs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bs(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function gs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ms(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ws(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ms(e,t,r[t])}))}return e}!function(e){e.VARIABLES_STYLES="variables_styles",e.RAW_VALUES="raw_values"}(ns||(ns={}));var Ss,Es=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ms(this,"tokens",void 0),ms(this,"variableReferences",void 0),ms(this,"cachedVariableReferences",void 0),ms(this,"styleReferences",void 0),ms(this,"stylePathPrefix",void 0),ms(this,"ignoreFirstPartForStyles",void 0),ms(this,"applyVariablesStylesOrRawValue",void 0),ms(this,"createStylesWithVariableReferences",void 0)}var t,r;return t=e,r=[{key:"getAdjustedTokenName",value:function(e){var t=this.ignoreFirstPartForStyles&&e.split(".").length>1?e.split(".").slice(1).join("."):e,r=[this.stylePathPrefix,e].filter((function(e){return e})).join("."),n=[this.stylePathPrefix,t].filter((function(e){return e})).join(".");return[r,n]}},{key:"initiate",value:function(e){var t=e.tokens,r=e.variableReferences,n=e.styleReferences,o=e.stylePathPrefix,i=e.ignoreFirstPartForStyles,a=void 0!==i&&i,u=e.createStylesWithVariableReferences,s=void 0!==u&&u,l=e.applyVariablesStylesOrRawValue,c=void 0===l?ns.VARIABLES_STYLES:l,f=this;this.stylePathPrefix=void 0!==o?o:null,this.ignoreFirstPartForStyles=a,this.createStylesWithVariableReferences=s,this.styleReferences=n||new Map,this.variableReferences=r||new Map,this.cachedVariableReferences=new Map,this.applyVariablesStylesOrRawValue=c,this.tokens=new Map(t.map((function(e){var t,o,i=null==r?void 0:r.get(e.name),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(f.getAdjustedTokenName(e.name),2),u=a[0],s=a[1],l=(null==n?void 0:n.get(u))||(null==n?void 0:n.get(s))||(null==n?void 0:n.get(e.name)),c=(null==n?void 0:n.has(u))?u:s;return[e.name,(t=ws({},e),o={variableId:i,styleId:l,adjustedTokenName:l?c:u},o=null!=o?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})),t)]})))}},{key:"get",value:function(e){return this.tokens.get(e)}},{key:"getVariableReference",value:function(e){var t=this;return function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){bs(i,n,o,a,u,"next",e)}function u(e){bs(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var r,n,o,i,a,u,s,l,c,f;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(p){switch(p.label){case 0:if(a=t.tokens.get(e),u=(null==a||null===(n=a.rawValue)||void 0===n||null===(r=n.startsWith)||void 0===r?void 0:r.call(n,"{"))&&(null==a||null===(i=a.rawValue)||void 0===i||null===(o=i.endsWith)||void 0===o?void 0:o.call(i,"}")),s=t.cachedVariableReferences.has(e))return[2,t.cachedVariableReferences.get(e)];if(!(l=t.variableReferences.get(e)||(u?t.variableReferences.get(a.rawValue.slice(1,-1)):null)))return[2,!1];if(s||"string"!=typeof l)return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,figma.variables.importVariableByKeyAsync(l)];case 2:return(c=p.sent())?(t.cachedVariableReferences.set(e,c),[2,c]):[3,4];case 3:return f=p.sent(),console.log("error importing variable",f),Promise.reject(f),[3,4];case 4:return[2,null]}}))}))()}},{key:"getTokens",value:function(){return this.tokens}},{key:"clearCache",value:function(){this.cachedVariableReferences&&this.cachedVariableReferences.clear(),this.tokens&&this.tokens.clear(),this.variableReferences&&this.variableReferences.clear(),this.styleReferences&&this.styleReferences.clear(),this.stylePathPrefix&&(this.stylePathPrefix=void 0),this.ignoreFirstPartForStyles&&(this.ignoreFirstPartForStyles=void 0),this.createStylesWithVariableReferences&&(this.createStylesWithVariableReferences=void 0)}}],r&&gs(t.prototype,r),e}(),Os=new Es;function xs(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function ks(e,t,r){return As.apply(this,arguments)}function As(){return As=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){xs(i,n,o,a,u,"next",e)}function u(e){xs(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r){var n,o,i,a,u;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){switch(s.label){case 0:return Os.applyVariablesStylesOrRawValue!==ns.VARIABLES_STYLES?[2,!1]:[4,Os.getVariableReference(r)];case 1:if((n=s.sent())&&t in e)try{if(e.setBoundVariable(t,n),void 0!==(null===(o=e.boundVariables)||void 0===o?void 0:o[t]))return i=n.resolveForConsumer(e).value,"number"==typeof(a=e[t])&&"number"==typeof i&&"opacity"===t?(u=i/100,[2,Math.abs(u-a)<1e-4]):[2,i===a]}catch(e){console.log("error",e)}return[2,!1]}}))})),As.apply(this,arguments)}function Ts(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Ps(e,t,r){return Is.apply(this,arguments)}function Is(){return Is=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ts(i,n,o,a,u,"next",e)}function u(e){Ts(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r){var n,o,i;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return(n="visible"in e&&"string"==typeof r.visibility&&void 0!==t.visibility)?[4,ks(e,"visible",t.visibility)]:[3,2];case 1:n=!a.sent(),a.label=2;case 2:return n&&("true"===r.visibility?e.visible=!0:"false"===r.visibility&&(e.visible=!1)),(o="TEXT"===e.type&&"string"==typeof r.verticalTrim&&void 0!==t.verticalTrim)?[4,ks(e,"leadingTrim",t.verticalTrim)]:[3,4];case 3:o=!a.sent(),a.label=4;case 4:if(!o)return[3,9];a.label=5;case 5:return a.trys.push([5,8,,9]),e.fontName===figma.mixed?[3,7]:[4,figma.loadFontAsync(e.fontName)];case 6:a.sent(),a.label=7;case 7:return"true"===r.verticalTrim?e.leadingTrim="CAP_HEIGHT":"false"===r.verticalTrim&&(e.leadingTrim="NONE"),[3,9];case 8:return i=a.sent(),console.error("Error applying vertical trim:",i),[3,9];case 9:return[2]}}))})),Is.apply(this,arguments)}function _s(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Rs(e,t,r,n){return Ns.apply(this,arguments)}function Ns(){return Ns=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_s(i,n,o,a,u,"next",e)}function u(e){_s(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i,a,u;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){switch(s.label){case 0:if("CONNECTOR"===e.type||"SHAPE_WITH_TEXT"===e.type)return[3,22];if(void 0===r.borderRadius||void 0===t.borderRadius||!eu(r.borderRadius))return[3,14];switch((o=String(r.borderRadius).split(" ")).length){case 1:return[3,1];case 2:return[3,10];case 3:return[3,11];case 4:return[3,12]}return[3,13];case 1:return"cornerRadius"in e?[4,ks(e,"topLeftRadius",t.borderRadius)]:[3,9];case 2:return(u=s.sent())?[4,ks(e,"topRightRadius",t.borderRadius)]:[3,4];case 3:u=s.sent(),s.label=4;case 4:return(a=u)?[4,ks(e,"bottomRightRadius",t.borderRadius)]:[3,6];case 5:a=s.sent(),s.label=6;case 6:return(i=a)?[4,ks(e,"bottomLeftRadius",t.borderRadius)]:[3,8];case 7:i=s.sent(),s.label=8;case 8:i||(e.cornerRadius=Eu(String(r.borderRadius),"borderRadius",n)),s.label=9;case 9:return[3,14];case 10:return"topLeftRadius"in e&&(e.topLeftRadius=Eu(String(o[0]),"borderRadius",n),e.topRightRadius=Eu(String(o[1]),"borderRadius",n),e.bottomRightRadius=Eu(String(o[0]),"borderRadius",n),e.bottomLeftRadius=Eu(String(o[1]),"borderRadius",n)),[3,14];case 11:return"topLeftRadius"in e&&(e.topLeftRadius=Eu(String(o[0]),"borderRadius",n),e.topRightRadius=Eu(String(o[1]),"borderRadius",n),e.bottomRightRadius=Eu(String(o[2]),"borderRadius",n),e.bottomLeftRadius=Eu(String(o[1]),"borderRadius",n)),[3,14];case 12:return"topLeftRadius"in e&&(e.topLeftRadius=Eu(String(o[0]),"borderRadius",n),e.topRightRadius=Eu(String(o[1]),"borderRadius",n),e.bottomRightRadius=Eu(String(o[2]),"borderRadius",n),e.bottomLeftRadius=Eu(String(o[3]),"borderRadius",n)),[3,14];case 13:return[3,14];case 14:return"topLeftRadius"in e&&void 0!==r.borderRadiusTopLeft&&void 0!==t.borderRadiusTopLeft&&eu(r.borderRadiusTopLeft)?[4,ks(e,"topLeftRadius",t.borderRadiusTopLeft)]:[3,16];case 15:s.sent()||(e.topLeftRadius=Eu(String(r.borderRadiusTopLeft),"borderRadius",n)),s.label=16;case 16:return"topRightRadius"in e&&void 0!==r.borderRadiusTopRight&&void 0!==t.borderRadiusTopRight&&eu(r.borderRadiusTopRight)?[4,ks(e,"topRightRadius",t.borderRadiusTopRight)]:[3,18];case 17:s.sent()||(e.topRightRadius=Eu(String(r.borderRadiusTopRight),"borderRadius",n)),s.label=18;case 18:return"bottomRightRadius"in e&&void 0!==r.borderRadiusBottomRight&&void 0!==t.borderRadiusBottomRight&&eu(r.borderRadiusBottomRight)?[4,ks(e,"bottomRightRadius",t.borderRadiusBottomRight)]:[3,20];case 19:s.sent()||(e.bottomRightRadius=Eu(String(r.borderRadiusBottomRight),"borderRadius",n)),s.label=20;case 20:return"bottomLeftRadius"in e&&void 0!==r.borderRadiusBottomLeft&&void 0!==t.borderRadiusBottomLeft&&eu(r.borderRadiusBottomLeft)?[4,ks(e,"bottomLeftRadius",t.borderRadiusBottomLeft)]:[3,22];case 21:s.sent()||(e.bottomLeftRadius=Eu(String(r.borderRadiusBottomLeft),"borderRadius",n)),s.label=22;case 22:return[2]}}))})),Ns.apply(this,arguments)}function Ms(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function js(e,t,r,n){return Cs.apply(this,arguments)}function Cs(){return Cs=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ms(i,n,o,a,u,"next",e)}function u(e){Ms(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i,a,u,s,l,c,f,p,h;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(d){switch(d.label){case 0:o=t.value,i=o.width,a=o.style,d.label=1;case 1:return d.trys.push([1,12,,13]),(u="strokeWeight"in e&&void 0!==i&&eu(i)&&!n)?[4,ks(e,"strokeWeight",i)]:[3,3];case 2:u=!d.sent(),d.label=3;case 3:return u&&(e.strokeWeight=Eu(String(i),"borderWidth",r)),(s="strokeTopWeight"in e&&void 0!==i&&eu(i)&&"top"===n)?[4,ks(e,"strokeTopWeight",i)]:[3,5];case 4:s=!d.sent(),d.label=5;case 5:return s&&(e.strokeTopWeight=Eu(String(i),"borderWidth",r)),(l="strokeRightWeight"in e&&void 0!==i&&eu(i)&&"right"===n)?[4,ks(e,"strokeRightWeight",i)]:[3,7];case 6:l=!d.sent(),d.label=7;case 7:return l&&(e.strokeRightWeight=Eu(String(i),"borderWidth",r)),(c="strokeBottomWeight"in e&&void 0!==i&&eu(i)&&"bottom"===n)?[4,ks(e,"strokeBottomWeight",i)]:[3,9];case 8:c=!d.sent(),d.label=9;case 9:return c&&(e.strokeBottomWeight=Eu(String(i),"borderWidth",r)),(f="strokeLeftWeight"in e&&void 0!==i&&eu(i)&&"left"===n)?[4,ks(e,"strokeLeftWeight",i)]:[3,11];case 10:f=!d.sent(),d.label=11;case 11:if(f&&(e.strokeLeftWeight=Eu(String(i),"borderWidth",r)),void 0!==a&&"string"==typeof a&&"dashPattern"in e){switch(p=[0,0],a){case"solid":p=[0,0];break;case"dashed":p=function(e){switch(e){case 1:return[3,2];case 2:case 3:return[6,3];case 4:return[8,4];case 5:return[10,5];default:return[10,10]}}(Eu(String(i),"borderWidth",r))}e.dashPattern=p}return[3,13];case 12:return h=d.sent(),console.log("error setting border token",h),[3,13];case 13:return[2]}}))})),Cs.apply(this,arguments)}function Ls(e){return Boolean(e&&(Array.isArray(e)?e:[e]).every((function(e){return e&&"object"==typeof e&&("color"in e||"width"in e||"style"in e)})))}function Ds(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Bs(e,t,r){return Fs.apply(this,arguments)}function Fs(){return Fs=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ds(i,n,o,a,u,"next",e)}function u(e){Ds(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r){var n,o,i;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:if(Os.applyVariablesStylesOrRawValue!==ns.VARIABLES_STYLES)return[2,!1];a.label=1;case 1:return a.trys.push([1,3,,4]),n=r.match(/^S:([a-zA-Z0-9_-]+),/),[4,new Promise((function(e,t){var o=figma.getStyleById(r);o?e(o.id):n&&figma.importStyleByKeyAsync(n[1]).then((function(t){return e(t.id)})).catch((function(){t(r)}))}))];case 2:return(o=a.sent())?"fill"===t&&"fillStyleId"in e?(e.fillStyleId=o,[2,e.fillStyleId===o||n&&n[0]===e.fillStyleId]):"stroke"===t&&"strokeStyleId"in e?(e.strokeStyleId=o,[2,e.strokeStyleId===o||n&&n[0]===e.strokeStyleId]):"text"===t&&"textStyleId"in e?(e.textStyleId=o,[2,e.textStyleId===o||n&&n[0]===e.textStyleId]):"effect"===t&&"effectStyleId"in e?(e.effectStyleId=o,[2,e.effectStyleId===o||n&&n[0]===e.effectStyleId]):[3,4]:[2,!1];case 3:return i=a.sent(),console.log("Unable to apply style for id",i),[3,4];case 4:return[2,!1]}}))})),Fs.apply(this,arguments)}function Gs(e,t){return{x:e,y:t}}function Us(e,t,r){if(e&&"string"!=typeof t){var n=Array.isArray(t)?t:[t],o=e.effects;if(o.length===n.length)return o.every((function(e,t){var o=function(e,t){var r=ra(e.color),n=r.color,o=r.opacity;return{color:{r:n.r,g:n.g,b:n.b,a:o},type:Xt(e.type),spread:ca(e.spread.toString(),t),radius:ca(e.blur.toString(),t),offset:Gs(ca(e.x.toString(),t),ca(e.y.toString(),t)),blendMode:e.blendMode||"NORMAL",visible:!0}}(n[t],r);return function(e,t){if(e&&t&&e.type===t.type){if("DROP_SHADOW"===e.type&&"DROP_SHADOW"===t.type||"INNER_SHADOW"===e.type&&"INNER_SHADOW"===t.type)return r=e.color,n=t.color,na(r)===na(n)&&e.offset.x===t.offset.x&&e.offset.y===t.offset.y&&e.radius===t.radius&&e.spread===t.spread&&e.blendMode===t.blendMode;if("BACKGROUND_BLUR"===e.type&&"BACKGROUND_BLUR"===t.type||"LAYER_BLUR"===e.type&&"LAYER_BLUR"===t.type)return e.radius===t.radius}var r,n;return!1}(e,o)}))}return!1}function Vs(e,t){if(e&&t){if(e.type===t.type){if("SOLID"===e.type&&"SOLID"===t.type)return e.opacity===t.opacity&&oa(e)===oa(t);if(!("GRADIENT_LINEAR"!==e.type&&"GRADIENT_RADIAL"!==e.type&&"GRADIENT_ANGULAR"!==e.type&&"GRADIENT_DIAMOND"!==e.type||"GRADIENT_LINEAR"!==t.type&&"GRADIENT_RADIAL"!==t.type&&"GRADIENT_ANGULAR"!==t.type&&"GRADIENT_DIAMOND"!==t.type))return e.gradientStops.length===t.gradientStops.length&&e.gradientStops.every((function(e,r){return e.position===t.gradientStops[r].position&&na(e.color)===na(t.gradientStops[r].color)}))&&e.gradientTransform[0].every((function(e,r){return e===t.gradientTransform[0][r]}))&&e.gradientTransform[1].every((function(e,r){return e===t.gradientTransform[1][r]}))}return!1}return e===t}function Ws(e,t){var r,n=null!==(r=null==e?void 0:e.paints[0])&&void 0!==r?r:null;if("SOLID"===(null==n?void 0:n.type)){var o=ra(t);return Vs(n,{color:o.color,opacity:o.opacity,type:"SOLID"})}if("GRADIENT_LINEAR"===(null==n?void 0:n.type)){var i=sa(t),a=i.gradientStops;return Vs(n,{type:"GRADIENT_LINEAR",gradientTransform:i.gradientTransform,gradientStops:a})}return!1}function zs(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Hs(e,t,r){return $s.apply(this,arguments)}function $s(){return $s=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){zs(i,n,o,a,u,"next",e)}function u(e){zs(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r){var n,o,i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(E){switch(E.label){case 0:return n=Os.applyVariablesStylesOrRawValue,o=n===ns.VARIABLES_STYLES,"consumers"in e||o?[4,Os.getVariableReference(t)]:[2,!1];case 1:if(!(i=E.sent()))return[2,!1];try{if(a={type:"SOLID",color:{r:0,g:0,b:0}},"fills"===r&&"fills"in e)return(c=(0,zt.clone)(e.fills))[0]=figma.variables.setBoundVariableForPaint(null!==(f=c[0])&&void 0!==f?f:a,"color",i),e.fills=c,[2,(null===(l=e.boundVariables)||void 0===l||null===(s=l.fills)||void 0===s||null===(u=s[0])||void 0===u?void 0:u.id)===i.id];if("strokes"===r&&"strokes"in e)return(y=(0,zt.clone)(e.strokes))[0]=figma.variables.setBoundVariableForPaint(null!==(v=y[0])&&void 0!==v?v:a,"color",i),e.strokes=y,[2,(null===(d=e.boundVariables)||void 0===d||null===(h=d.strokes)||void 0===h||null===(p=h[0])||void 0===p?void 0:p.id)===i.id];if("paints"===r&&"paints"in e)return(w=(0,zt.clone)(e.paints))[0]=figma.variables.setBoundVariableForPaint(null!==(S=w[0])&&void 0!==S?S:a,"color",i),e.paints=w,[2,(null===(m=e.boundVariables)||void 0===m||null===(g=m.paints)||void 0===g||null===(b=g[0])||void 0===b?void 0:b.id)===i.id]}catch(e){console.log("error",e)}return[2,!1]}}))})),$s.apply(this,arguments)}function Ys(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Ks(e,t,r){return qs.apply(this,arguments)}function qs(){return qs=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ys(i,n,o,a,u,"next",e)}function u(e){Ys(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r){var n,o;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){return t in e?((n=(0,zt.clone)(e[t]))[0]=figma.variables.setBoundVariableForPaint(null!==(o=n[0])&&void 0!==o?o:r,"color",null),e[t]=n,[2,e[t]]):[2,e[t]]}))})),qs.apply(this,arguments)}function Js(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Xs(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Js(i,n,o,a,u,"next",e)}function u(e){Js(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Zs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Zs(e,t,r[t])}))}return e}function el(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}!function(e){e.FILLS="fills",e.STROKES="strokes",e.PAINTS="paints"}(Ss||(Ss={}));var tl=function(e,t,r,n){t&&Vs(r,t)||("paints"===e&&"paints"in n&&(n.paints=[r]),"fills"===e&&"fills"in n&&(n.fills=[r]),"strokes"===e&&"strokes"in n&&(n.strokes=[r]))},rl=function(e){var t,r,n;return(null==e||null===(t=e.startsWith)||void 0===t?void 0:t.call(e,"linear-gradient"))||(null==e||null===(r=e.startsWith)||void 0===r?void 0:r.call(e,"radial-gradient"))||(null==e||null===(n=e.startsWith)||void 0===n?void 0:n.call(e,"conic-gradient"))},nl=function(){var e=Xs((function(e,t){var r,n,o,i,a,u,s,l,c;return el(this,(function(f){switch(f.label){case 0:return n="object"==typeof e&&e.fill?e.fill:e,o=sa(n),i=o.gradientStops,a=o.gradientTransform,u=o.type,s=null===(r=Os.get(t))||void 0===r?void 0:r.rawValue,l=i,Os.createStylesWithVariableReferences?(c=function(e){var t=e.indexOf("("),r=e.lastIndexOf(")");return-1===t||-1===r?[]:e.substring(t+1,r).split(",").reduce((function(e,t){if(t.includes("#")||t.includes("{")){var r=t.match(/{(.*?)}/g);e.push(r?r[0].replace(/[{}]/g,""):"")}return e}),[])}(s),i&&c.length>0?[4,Promise.all(i.map(function(){var e=Xs((function(e,t){var r;return el(this,(function(n){switch(n.label){case 0:return[4,Os.getVariableReference(c[t])];case 1:return(r=n.sent())?[2,(o=Qs({},e),i={boundVariables:{color:{type:"VARIABLE_ALIAS",id:r.id}}},i=null!=i?i:{},Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(i)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(i)).forEach((function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(i,e))})),o)]:[2,e]}var o,i}))}));return function(t,r){return e.apply(this,arguments)}}()))]:[3,2]):[3,2];case 1:l=f.sent(),f.label=2;case 2:return[2,{type:u||"GRADIENT_LINEAR",gradientTransform:a,gradientStops:l}]}}))}));return function(t,r){return e.apply(this,arguments)}}();function ol(e){return il.apply(this,arguments)}function il(){return il=Xs((function(e){var t,r,n,o,i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O,x,k,A,T,P;return el(this,(function(I){switch(I.label){case 0:t=e.target,r=e.token,n=e.key,o=e.givenValue,i=Os.createStylesWithVariableReferences||!("consumers"in t),I.label=1;case 1:return I.trys.push([1,14,,15]),void 0!==(u=Os.get(r))||o?(s=(u||{}).description,void 0===(l=o||(null===(a=Os.get(r))||void 0===a?void 0:a.rawValue))?[2]:(c=null,"paints"===n&&"paints"in t?c=null!==(f=t.paints[0])&&void 0!==f?f:null:"fills"===n&&"fills"in t&&t.fills!==figma.mixed?c=null!==(p=t.fills[0])&&void 0!==p?p:null:"strokes"===n&&"strokes"in t&&(c=null!==(h=t.strokes[0])&&void 0!==h?h:null),rl(l)?(y=null===(d=Os.get(r))||void 0===d?void 0:d.value,[4,nl(y,r)]):[3,3])):[2];case 2:return v=I.sent(),tl(n,c,v,t),[3,13];case 3:return g=!1,m=l.toString().startsWith("{")&&l.toString().endsWith("}"),[4,Os.getVariableReference(l.slice(1,-1))];case 4:if(w=I.sent(),!(m&&w&&i)||function(e){var t,r;return null===(r=e.$extensions)||void 0===r||null===(t=r["studio.tokens"])||void 0===t?void 0:t.modify}(u))return[3,8];I.label=5;case 5:return I.trys.push([5,7,,8]),[4,Hs(t,l.slice(1,-1),Ss.PAINTS)];case 6:return g=I.sent(),[3,8];case 7:return S=I.sent(),console.error("Error setting bound variable for paint",S),[3,8];case 8:return E=null===(b=Os.get(r))||void 0===b?void 0:b.value,O=null!=E?E:o,g?[3,13]:rl(O)?[4,nl(E,r)]:[3,10];case 9:return x=I.sent(),[3,11];case 10:k=ra("string"==typeof O?O:(null==O?void 0:O.color)||o||""),A=k.color,T=k.opacity,x={color:A,opacity:T,type:"SOLID"},I.label=11;case 11:return[4,Ks(t,n,x)];case 12:I.sent(),tl(n,c,x,t),I.label=13;case 13:return s&&"description"in t&&(t.description=s),Promise.resolve(),[3,15];case 14:return P=I.sent(),console.error("Error setting color",P),[3,15];case 15:return[2]}}))})),il.apply(this,arguments)}function al(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function ul(e){return sl.apply(this,arguments)}function sl(){return sl=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){al(i,n,o,a,u,"next",e)}function u(e){al(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,i,a,u,s,l;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(c){switch(c.label){case 0:return t=e.data,r=e.value,"strokes"in(n=e.node)?[4,Hs(n,t,Ss.STROKES)]:[3,5];case 1:return c.sent()?[3,5]:(o=Os.get(t),i=null==o?void 0:o.styleId,o&&!i&&(u=Yt(n,a="strokeStyleId_original","strokes"))&&(Ws(u,r)?(i=u.id,Jt(n,a)):(null==o?void 0:o.adjustedTokenName)===u.name&&qt(n,a,u.id)),(s=!i)?[3,4]:(l=i)?[4,Bs(n,"stroke",i)]:[3,3]);case 2:l=!c.sent(),c.label=3;case 3:s=l,c.label=4;case 4:s&&ol({target:n,token:t,key:"strokes",givenValue:r}),c.label=5;case 5:return[2]}}))})),sl.apply(this,arguments)}function ll(e,t,r,n){r.border&&Ls(r.border)&&js(e,{value:r.border},n),r.borderTop&&Ls(r.borderTop)&&js(e,{value:r.borderTop},n,"top"),r.borderRight&&Ls(r.borderRight)&&js(e,{value:r.borderRight},n,"right"),r.borderBottom&&Ls(r.borderBottom)&&js(e,{value:r.borderBottom},n,"bottom"),r.borderLeft&&Ls(r.borderLeft)&&js(e,{value:r.borderLeft},n,"left"),r.border&&"string"==typeof r.border&&void 0!==t.border&&ul({node:e,data:t.border,value:r.border}),void 0!==r.borderColor&&"string"==typeof r.borderColor&&"strokes"in e&&t.borderColor&&ul({node:e,data:t.borderColor,value:r.borderColor})}function cl(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function fl(e,t,r,n){return pl.apply(this,arguments)}function pl(){return pl=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){cl(i,n,o,a,u,"next",e)}function u(e){cl(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i,a,u,s,l,c,f;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(p){switch(p.label){case 0:return"strokeWeight"in e&&void 0!==r.borderWidth&&void 0!==t.borderWidth&&eu(r.borderWidth)?(o=!1,"strokeTopWeight"in e&&"strokeRightWeight"in e&&"strokeBottomWeight"in e&&"strokeLeftWeight"in e?[4,ks(e,"strokeTopWeight",t.borderWidth)]:[3,8]):[3,11];case 1:return(u=p.sent())?[4,ks(e,"strokeRightWeight",t.borderWidth)]:[3,3];case 2:u=p.sent(),p.label=3;case 3:return(a=u)?[4,ks(e,"strokeBottomWeight",t.borderWidth)]:[3,5];case 4:a=p.sent(),p.label=5;case 5:return(i=a)?[4,ks(e,"strokeLeftWeight",t.borderWidth)]:[3,7];case 6:i=p.sent(),p.label=7;case 7:return o=i,[3,10];case 8:return[4,ks(e,"strokeWeight",t.borderWidth)];case 9:o=p.sent(),p.label=10;case 10:o||(e.strokeWeight=Eu(String(r.borderWidth),"borderWidth",n)),p.label=11;case 11:return(s="strokeTopWeight"in e&&void 0!==r.borderWidthTop&&void 0!==t.borderWidthTop)?[4,ks(e,"strokeTopWeight",t.borderWidthTop)]:[3,13];case 12:s=!p.sent(),p.label=13;case 13:return s&&(e.strokeTopWeight=Eu(String(r.borderWidthTop),"borderWidthTop",n)),(l="strokeRightWeight"in e&&void 0!==r.borderWidthRight&&void 0!==t.borderWidthRight)?[4,ks(e,"strokeRightWeight",t.borderWidthRight)]:[3,15];case 14:l=!p.sent(),p.label=15;case 15:return l&&(e.strokeRightWeight=Eu(String(r.borderWidthRight),"borderWidthRight",n)),(c="strokeBottomWeight"in e&&void 0!==r.borderWidthBottom&&void 0!==t.borderWidthBottom)?[4,ks(e,"strokeBottomWeight",t.borderWidthBottom)]:[3,17];case 16:c=!p.sent(),p.label=17;case 17:return c&&(e.strokeBottomWeight=Eu(String(r.borderWidthBottom),"borderWidthBottom",n)),(f="strokeLeftWeight"in e&&void 0!==r.borderWidthLeft&&void 0!==t.borderWidthLeft)?[4,ks(e,"strokeLeftWeight",t.borderWidthLeft)]:[3,19];case 18:f=!p.sent(),p.label=19;case 19:return f&&(e.strokeLeftWeight=Eu(String(r.borderWidthLeft),"borderWidthLeft",n)),[2]}}))})),pl.apply(this,arguments)}function hl(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function dl(e,t,r){return yl.apply(this,arguments)}function yl(){return yl=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){hl(i,n,o,a,u,"next",e)}function u(e){hl(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r){var n,o,i,a,u,s,l,c,f;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(p){switch(p.label){case 0:return n=t.fill,o=r.fill,(i=o&&"string"==typeof o&&"fills"in e&&n)?[4,Hs(e,n,Ss.FILLS)]:[3,2];case 1:i=!p.sent(),p.label=2;case 2:return i?(a=Os.get(n),(u=null==a?void 0:a.styleId)||(l=Yt(e,s="fillStyleId_original","fills"))&&(Ws(l,null==a?void 0:a.value)?(u=l.id,Jt(e,s)):(null==a?void 0:a.adjustedTokenName)===l.name&&qt(e,s,l.id)),(c=!u)?[3,5]:(f=u)?[4,Bs(e,"fill",u)]:[3,4]):[3,6];case 3:f=!p.sent(),p.label=4;case 4:c=f,p.label=5;case 5:c&&ol({target:e,token:n,key:"fills",givenValue:o}),p.label=6;case 6:return[2]}}))})),yl.apply(this,arguments)}function vl(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function bl(e,t,r,n){return gl.apply(this,arguments)}function gl(){return gl=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){vl(i,n,o,a,u,"next",e)}function u(e){vl(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return void 0!==r.dimension&&void 0!==t.dimension&&eu(r.dimension)?"itemSpacing"in e?("SPACE_BETWEEN"===e.primaryAxisAlignItems&&(e.primaryAxisAlignItems="MIN"),[4,ks(e,"itemSpacing",t.dimension)]):[3,2]:[3,6];case 1:return a.sent()||(e.itemSpacing=Eu(String(r.dimension),"spacing",n)),[3,6];case 2:return"resize"in e?[4,ks(e,"width",t.dimension)]:[3,6];case 3:return(o=a.sent())?[4,ks(e,"height",t.dimension)]:[3,5];case 4:o=a.sent(),a.label=5;case 5:o||(i=Eu(String(r.dimension),"sizing",n),e.resize(i,i)),a.label=6;case 6:return[2]}}))})),gl.apply(this,arguments)}function ml(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function wl(e,t,r,n){return Sl.apply(this,arguments)}function Sl(){return Sl=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ml(i,n,o,a,u,"next",e)}function u(e){ml(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return void 0!==r.number&&void 0!==t.number&&eu(r.number)?"itemSpacing"in e?("SPACE_BETWEEN"===e.primaryAxisAlignItems&&(e.primaryAxisAlignItems="MIN"),[4,ks(e,"itemSpacing",t.number)]):[3,2]:[3,6];case 1:return a.sent()||(e.itemSpacing=Eu(String(r.number),"spacing",n)),[3,6];case 2:return"resize"in e?[4,ks(e,"width",t.number)]:[3,6];case 3:return(o=a.sent())?[4,ks(e,"height",t.number)]:[3,5];case 4:o=a.sent(),a.label=5;case 5:o||(i=Eu(String(r.number),"sizing",n),e.resize(i,i)),a.label=6;case 6:return[2]}}))})),Sl.apply(this,arguments)}function El(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Ol(e,t,r,n){return xl.apply(this,arguments)}function xl(){return xl=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){El(i,n,o,a,u,"next",e)}function u(e){El(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){switch(i.label){case 0:return(o="opacity"in e&&void 0!==r.opacity&&void 0!==t.opacity&&eu(r.opacity))?[4,ks(e,"opacity",t.opacity)]:[3,2];case 1:o=!i.sent(),i.label=2;case 2:return o&&(e.opacity=Eu(String(r.opacity),"opacity",n)),[2]}}))})),xl.apply(this,arguments)}function kl(e){return e.startsWith("I")}function Al(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Tl(e,t,r,n){return Pl.apply(this,arguments)}function Pl(){return Pl=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Al(i,n,o,a,u,"next",e)}function u(e){Al(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return"DOCUMENT"===e.type||"PAGE"===e.type||kl(e.id)||(void 0!==r.x&&eu(r.x)&&(o=Eu(String(r.x),"dimension",n),e.x=o),void 0!==r.y&&eu(r.y)&&(i=Eu(String(r.y),"dimension",n),e.y=i)),[2]}))})),Pl.apply(this,arguments)}function Il(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function _l(e,t,r,n){return Rl.apply(this,arguments)}function Rl(){return Rl=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Il(i,n,o,a,u,"next",e)}function u(e){Il(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return"DOCUMENT"!==e.type&&"PAGE"!==e.type&&void 0!==r.rotation&&!kl(e.id)&&eu(r.rotation)&&(o=Eu(String(r.rotation),"rotation",n),Gt(e,o)),[2]}))})),Rl.apply(this,arguments)}var Nl=function(e){return"layoutMode"in e&&void 0!==e.layoutMode};function Ml(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function jl(e){return"DOCUMENT"!==e.type&&"PAGE"!==e.type}function Cl(e,t,r,n){if("100%"!==String(r).trim())return!1;if("layoutAlign"in e&&e.parent&&jl(e.parent)&&Nl(e.parent))return e.layoutAlign="STRETCH",!0;if(e.parent&&"resize"in e){var o=e.parent;if("both"===t&&"width"in o&&"height"in o)return e.resize(o.width,o.height),!0;if("width"===t&&"width"in o)return e.resize(o.width,e.height),!0;if("height"===t&&"height"in o)return e.resize(e.width,o.height),!0}if("resize"in e){var i=Eu(r,"sizing",n);return"both"===t?e.resize(i,i):"width"===t?e.resize(i,e.height):"height"===t&&e.resize(e.width,i),!0}return!1}function Ll(e,t,r,n){return Dl.apply(this,arguments)}function Dl(){return Dl=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ml(i,n,o,a,u,"next",e)}function u(e){Ml(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i,a,u,s,l,c,f,p,h,d,y,v,b;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(g){switch(g.label){case 0:return(o="resize"in e&&void 0!==r.sizing&&void 0!==t.sizing&&eu(r.sizing))?[4,ks(e,"width",t.sizing)]:[3,4];case 1:return(i=g.sent())?[4,ks(e,"height",t.sizing)]:[3,3];case 2:i=g.sent(),g.label=3;case 3:o=!i,g.label=4;case 4:return o&&(a=String(r.sizing),Cl(e,"both",a,n)||(u=Eu(a,"sizing",n),e.resize(u,u))),(s="resize"in e&&void 0!==r.width&&void 0!==t.width&&eu(r.width))?[4,ks(e,"width",t.width)]:[3,6];case 5:s=!g.sent(),g.label=6;case 6:return s&&(l=String(r.width),Cl(e,"width",l,n)||(c=Eu(l,"sizing",n),e.resize(c,e.height))),(f="resize"in e&&void 0!==r.height&&void 0!==t.height&&eu(r.height))?[4,ks(e,"height",t.height)]:[3,8];case 7:f=!g.sent(),g.label=8;case 8:return f&&(p=String(r.height),Cl(e,"height",p,n)||(h=Eu(p,"sizing",n),e.resize(e.width,h))),"DOCUMENT"===e.type||"PAGE"===e.type||kl(e.id)||!(jl(e)&&Nl(e)||e.parent&&jl(e.parent)&&Nl(e.parent))?[3,17]:(d="minWidth"in e&&void 0!==r.minWidth&&void 0!==t.minWidth&&eu(r.minWidth))?[4,ks(e,"minWidth",t.minWidth)]:[3,10];case 9:d=!g.sent(),g.label=10;case 10:return d&&(e.minWidth=Eu(String(r.minWidth),"sizing",n)),(y="maxWidth"in e&&void 0!==r.maxWidth&&void 0!==t.maxWidth&&eu(r.maxWidth))?[4,ks(e,"maxWidth",t.maxWidth)]:[3,12];case 11:y=!g.sent(),g.label=12;case 12:return y&&(e.maxWidth=Eu(String(r.maxWidth),"sizing",n)),(v="minHeight"in e&&void 0!==r.minHeight&&void 0!==t.minHeight&&eu(r.minHeight))?[4,ks(e,"minHeight",t.minHeight)]:[3,14];case 13:v=!g.sent(),g.label=14;case 14:return v&&(e.minHeight=Eu(String(r.minHeight),"sizing",n)),(b="maxHeight"in e&&void 0!==r.maxHeight&&void 0!==t.maxHeight&&eu(r.maxHeight))?[4,ks(e,"maxHeight",t.maxHeight)]:[3,16];case 15:b=!g.sent(),g.label=16;case 16:b&&(e.maxHeight=Eu(String(r.maxHeight),"sizing",n)),g.label=17;case 17:return[2]}}))})),Dl.apply(this,arguments)}function Bl(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Fl(e,t,r,n){return Gl.apply(this,arguments)}function Gl(){return Gl=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Bl(i,n,o,a,u,"next",e)}function u(e){Bl(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i,a,u,s,l,c,f,p,h;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(d){switch(d.label){case 0:if(!("paddingLeft"in e)||void 0===r.spacing||void 0===t.spacing||!eu(r.spacing))return[3,13];switch(o=String(r.spacing).split(" "),i=Eu(String(r.spacing),"spacing",n),o.length){case 1:return[3,1];case 2:return[3,9];case 3:return[3,10];case 4:return[3,11]}return[3,12];case 1:return[4,ks(e,"paddingLeft",t.spacing)];case 2:return(s=d.sent())?[4,ks(e,"paddingRight",t.spacing)]:[3,4];case 3:s=d.sent(),d.label=4;case 4:return(u=s)?[4,ks(e,"paddingTop",t.spacing)]:[3,6];case 5:u=d.sent(),d.label=6;case 6:return(a=u)?[4,ks(e,"paddingBottom",t.spacing)]:[3,8];case 7:a=d.sent(),d.label=8;case 8:return a||(e.paddingLeft=i,e.paddingRight=i,e.paddingTop=i,e.paddingBottom=i),[3,13];case 9:return e.paddingTop=Eu(String(o[0]),"spacing",n),e.paddingRight=Eu(String(o[1]),"spacing",n),e.paddingBottom=Eu(String(o[0]),"spacing",n),e.paddingLeft=Eu(String(o[1]),"spacing",n),[3,13];case 10:return e.paddingTop=Eu(String(o[0]),"spacing",n),e.paddingRight=Eu(String(o[1]),"spacing",n),e.paddingBottom=Eu(String(o[2]),"spacing",n),e.paddingLeft=Eu(String(o[1]),"spacing",n),[3,13];case 11:return e.paddingTop=Eu(String(o[0]),"spacing",n),e.paddingRight=Eu(String(o[1]),"spacing",n),e.paddingBottom=Eu(String(o[2]),"spacing",n),e.paddingLeft=Eu(String(o[3]),"spacing",n),[3,13];case 12:return[3,13];case 13:return"paddingLeft"in e&&void 0!==r.horizontalPadding&&void 0!==t.horizontalPadding&&eu(r.horizontalPadding)?[4,ks(e,"paddingLeft",t.horizontalPadding)]:[3,17];case 14:return(l=d.sent())?[4,ks(e,"paddingRight",t.horizontalPadding)]:[3,16];case 15:l=d.sent(),d.label=16;case 16:l||(c=Eu(String(r.horizontalPadding),"spacing",n),e.paddingLeft=c,e.paddingRight=c),d.label=17;case 17:return"paddingTop"in e&&void 0!==r.verticalPadding&&void 0!==t.verticalPadding&&eu(r.verticalPadding)?[4,ks(e,"paddingTop",t.verticalPadding)]:[3,21];case 18:return(f=d.sent())?[4,ks(e,"paddingBottom",t.verticalPadding)]:[3,20];case 19:f=d.sent(),d.label=20;case 20:f||(p=Eu(String(r.verticalPadding),"spacing",n),e.paddingTop=p,e.paddingBottom=p),d.label=21;case 21:return"itemSpacing"in e&&void 0!==r.itemSpacing&&void 0!==t.itemSpacing&&eu(r.itemSpacing)?"AUTO"!==(h=String(r.itemSpacing))?[3,22]:(e.primaryAxisAlignItems="SPACE_BETWEEN",[3,24]):[3,24];case 22:return"SPACE_BETWEEN"===e.primaryAxisAlignItems&&(e.primaryAxisAlignItems="MIN"),[4,ks(e,"itemSpacing",t.itemSpacing)];case 23:d.sent()||(e.itemSpacing=Eu(h,"spacing",n)),d.label=24;case 24:return"counterAxisSpacing"in e&&void 0!==r.counterAxisSpacing&&void 0!==t.counterAxisSpacing&&eu(r.counterAxisSpacing)?[4,ks(e,"counterAxisSpacing",t.counterAxisSpacing)]:[3,26];case 25:d.sent()||(e.counterAxisSpacing=Eu(String(r.counterAxisSpacing),"spacing",n)),d.label=26;case 26:return"paddingTop"in e&&void 0!==r.paddingTop&&void 0!==t.paddingTop&&eu(r.paddingTop)?[4,ks(e,"paddingTop",t.paddingTop)]:[3,28];case 27:d.sent()||(e.paddingTop=Eu(String(r.paddingTop),"spacing",n)),d.label=28;case 28:return"paddingRight"in e&&void 0!==r.paddingRight&&void 0!==t.paddingRight&&eu(r.paddingRight)?[4,ks(e,"paddingRight",t.paddingRight)]:[3,30];case 29:d.sent()||(e.paddingRight=Eu(String(r.paddingRight),"spacing",n)),d.label=30;case 30:return"paddingBottom"in e&&void 0!==r.paddingBottom&&void 0!==t.paddingBottom&&eu(r.paddingBottom)?[4,ks(e,"paddingBottom",t.paddingBottom)]:[3,32];case 31:d.sent()||(e.paddingBottom=Eu(String(r.paddingBottom),"spacing",n)),d.label=32;case 32:return"paddingLeft"in e&&void 0!==r.paddingLeft&&void 0!==t.paddingLeft&&eu(r.paddingLeft)?[4,ks(e,"paddingLeft",t.paddingLeft)]:[3,34];case 33:d.sent()||(e.paddingLeft=Eu(String(r.paddingLeft),"spacing",n)),d.label=34;case 34:return[2]}}))})),Gl.apply(this,arguments)}function Ul(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vl(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Wl(e){try{if(null===e)return"null";if(void 0===e)return"undefined";if(Array.isArray(e))return 0===e.length?"":e.map((function(e){return"object"==typeof e&&null!==e?Wl(e):"".concat(e)})).join("\n\n");if("object"==typeof e&&null!==e){var t=Object.entries(e);if(0===t.length)return"";var r=t.map((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ul(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ul(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],n=t[1];if("object"==typeof n&&null!==n){var o=Wl(n);return"".concat(r,": ").concat(o)}return"".concat(r,": ").concat(n)}));return r.join("\n")}return String(e)}catch(t){return JSON.stringify(e)}}function zl(e,t,r){return Hl.apply(this,arguments)}function Hl(){return Hl=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Vl(i,n,o,a,u,"next",e)}function u(e){Vl(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r){var n,o;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){switch(i.label){case 0:return"tokenValue"in r&&"characters"in e&&e.fontName!==figma.mixed?[4,figma.loadFontAsync(e.fontName)]:[3,2];case 1:i.sent(),n="object"==typeof r.tokenValue?Wl(r.tokenValue):r.tokenValue,e.characters=String(n),i.label=2;case 2:return"characters"in e&&e.fontName!==figma.mixed&&"string"==typeof r.text&&void 0!==t.text?[4,ks(e,"characters",t.text)]:[3,5];case 3:return i.sent()?[3,5]:[4,figma.loadFontAsync(e.fontName)];case 4:i.sent(),e.characters=r.text,i.label=5;case 5:return"value"in r&&"characters"in e&&e.fontName!==figma.mixed?[4,figma.loadFontAsync(e.fontName)]:[3,7];case 6:i.sent(),o="object"==typeof r.value?Wl(r.value):r.value,e.characters=String(o),i.label=7;case 7:return r.tokenName&&"characters"in e&&e.fontName!==figma.mixed?[4,figma.loadFontAsync(e.fontName)]:[3,9];case 8:i.sent(),e.characters=String(r.tokenName),i.label=9;case 9:return r.description&&"characters"in e&&e.fontName!==figma.mixed?[4,figma.loadFontAsync(e.fontName)]:[3,11];case 10:i.sent(),e.characters=String(r.description),i.label=11;case 11:return[2]}}))})),Hl.apply(this,arguments)}function $l(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Yl(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Kl(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ql(){return ql=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){$l(i,n,o,a,u,"next",e)}function u(e){$l(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,i,a,u,s,l,c,f,p,h;return Yl(this,(function(d){switch(d.label){case 0:if(t=e.target,r=e.value,n=e.baseFontSize,!("fontName"in t))return[2];o=r.fontFamily,i=r.fontWeight,a=(null==o?void 0:o.toString())||(t.fontName!==figma.mixed?t.fontName.family:""),u=(null==i?void 0:i.toString())||(t.fontName!==figma.mixed?t.fontName.style:""),d.label=1;case 1:return d.trys.push([1,3,,8]),[4,figma.loadFontAsync({family:a,style:u})];case 2:return d.sent(),(o||i)&&(t.fontName={family:a,style:u}),[3,8];case 3:d.sent(),s=function(e){var r;return Yl(this,(function(n){switch(n.label){case 0:return r=!1,[4,figma.loadFontAsync({family:f[e].family,style:f[e].style}).then((function(){f[e]&&(t.fontName={family:f[e].family,style:f[e].style},r=!0)})).catch((function(){p=!0}))];case 1:return n.sent(),r?(p=!1,[2,"break"]):[2]}}))},l=a.split(","),c=Eu(u,"fontWeights",n),f=[],null==l||l.forEach((function(e){var t=null==e?void 0:e.replace(/['"]/g,"").trim();c.length>0?c.forEach((function(e){f.push({family:t,style:e})})):f.push({family:t,style:u})})),p=!1,h=0,d.label=4;case 4:return h<f.length?[5,Kl(s(h))]:[3,7];case 5:if("break"===d.sent())return[3,7];d.label=6;case 6:return h+=1,[3,4];case 7:return p&&N("Error setting font family/weight combination for ".concat(a,"/").concat(u)),[3,8];case 8:return[2]}}))})),ql.apply(this,arguments)}function Jl(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xl(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Zl(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Xl(i,n,o,a,u,"next",e)}function u(e){Xl(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Ql(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Jl(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jl(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ec(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function tc(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var rc,nc,oc=new Map;function ic(e){return ac.apply(this,arguments)}function ac(){return ac=Zl((function(e){var t,r,n,o,i,a,u,s,l,c,f,p,h,d,y,v,b;return ec(this,(function(g){switch(g.label){case 0:if(t=e.target,r=e.value,n=e.baseFontSize,o=e.resolvedValue,i=Os.applyVariablesStylesOrRawValue,a=i!==ns.RAW_VALUES,s=(u="consumers"in t)&&Os.createStylesWithVariableReferences||!u&&a,"string"==typeof r)return[2];g.label=1;case 1:g.trys.push([1,10,,11]),l=!0,c=!1,f=void 0,g.label=2;case 2:g.trys.push([2,7,8,9]),p=function(){var e,i,a,u,l,c,f,p,h,y;return ec(this,(function(v){switch(v.label){case 0:return e=Ql(d.value,2),i=e[0],void 0===e[1]?[2,{v:void 0}]:(u=!1,(null===(a=o[i])||void 0===a?void 0:a.toString().startsWith("{"))&&o[i].toString().endsWith("}")&&s?[4,Os.getVariableReference(o[i].toString().slice(1,-1))]:[3,9]);case 1:return l=v.sent(),c=function(e,t){return"fontWeight"===e&&t?"FLOAT"===t.resolvedType?"fontWeight":"fontStyle":e}(i,l),"fontFamily"===c&&l&&(f=Object.values(l.valuesByMode)[0])&&"string"==typeof f?((p=oc.get(f))||(p=Zl((function(){var e,t,r,n,o,i,a,u;return ec(this,(function(s){switch(s.label){case 0:return[4,figma.listAvailableFontsAsync()];case 1:e=(s.sent()||[]).filter((function(e){return e.fontName.family===f})),t=!0,r=!1,n=void 0,s.label=2;case 2:s.trys.push([2,7,8,9]),o=e[Symbol.iterator](),s.label=3;case 3:return(t=(i=o.next()).done)?[3,6]:(a=i.value,[4,figma.loadFontAsync(a.fontName)]);case 4:s.sent(),s.label=5;case 5:return t=!0,[3,3];case 6:return[3,9];case 7:return u=s.sent(),r=!0,n=u,[3,9];case 8:try{t||null==o.return||o.return()}finally{if(r)throw n}return[7];case 9:return[2]}}))}))(),oc.set(f,p)),[4,p]):[3,3];case 2:v.sent(),v.label=3;case 3:if(!l)return[3,9];v.label=4;case 4:return v.trys.push([4,7,,8]),t.fontName===figma.mixed?[3,6]:[4,figma.loadFontAsync(t.fontName)];case 5:v.sent(),v.label=6;case 6:return[3,8];case 7:return h=v.sent(),console.error("error loading font",h),[3,8];case 8:try{t.setBoundVariable(c,l),u=!0}catch(e){console.error("unable to apply variable",c,l,e)}v.label=9;case 9:return u?[3,13]:"fontFamily"!==i&&"fontWeight"!==i?[3,10]:("fontName"in t&&("fontWeight"in r||"fontFamily"in r)&&function(e){ql.apply(this,arguments)}({target:t,value:{fontFamily:r.fontFamily,fontWeight:r.fontWeight},baseFontSize:n}),[3,13]);case 10:return t.fontName===figma.mixed?[3,12]:[4,figma.loadFontAsync(t.fontName)];case 11:v.sent(),v.label=12;case 12:null!==(y=Eu(r[i],i,n))&&(t[i]=y),v.label=13;case 13:return[2]}}))},h=Object.entries(r).filter((function(e){var t=Ql(e,2);return t[0],void 0!==t[1]}))[Symbol.iterator](),g.label=3;case 3:return(l=(d=h.next()).done)?[3,6]:[5,tc(p())];case 4:if("object"==((m=y=g.sent())&&"undefined"!=typeof Symbol&&m.constructor===Symbol?"symbol":typeof m))return[2,y.v];g.label=5;case 5:return l=!0,[3,3];case 6:return[3,9];case 7:return v=g.sent(),c=!0,f=v,[3,9];case 8:try{l||null==h.return||h.return()}finally{if(c)throw f}return[7];case 9:return[3,11];case 10:return b=g.sent(),console.error(b),[3,11];case 11:return[2]}var m}))})),ac.apply(this,arguments)}function uc(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function sc(e,t){return lc.apply(this,arguments)}function lc(){return lc=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){uc(i,n,o,a,u,"next",e)}function u(e){uc(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t){var r,n,o,i,a,u,s,l=arguments;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(c){switch(c.label){case 0:r=l.length>2&&void 0!==l[2]?l[2]:"16",c.label=1;case 1:return c.trys.push([1,4,,5]),void 0===(o=Os.get(t))?[2]:(i=o.value,a=o.description,void 0===(u=null===(n=Os.get(t))||void 0===n?void 0:n.resolvedValueWithReferences)?[2]:"string"==typeof u?[3,3]:[4,ic({target:e,baseFontSize:r,value:i,resolvedValue:u})]);case 2:c.sent(),"description"in e&&a&&(e.description=a),c.label=3;case 3:return[3,5];case 4:return s=c.sent(),console.log("Error setting font on target",e,t,s),[3,5];case 5:return[2]}}))})),lc.apply(this,arguments)}function cc(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function fc(e){if(eu(e))return String(e.startsWith("{")?e:"{".concat(e,"}"))}function pc(e,t,r,n){return hc.apply(this,arguments)}function hc(){return hc=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){cc(i,n,o,a,u,"next",e)}function u(e){cc(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i,a,u,s,l,c;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(f){switch(f.label){case 0:return"TEXT"!==e.type?[2]:(o=t.typography?Os.get(t.typography):null,!(i=null==o?void 0:o.styleId)&&o&&ru(o.value)&&((u=Yt(e,a="textStyleId_original","typography"))&&function(e,t,r){if(!e||"string"==typeof t)return!1;var n=t.fontFamily,o=t.fontWeight,i=t.fontSize,a=t.lineHeight,u=t.letterSpacing,s=t.paragraphSpacing,l=t.paragraphIndent,c=t.textCase,f=t.textDecoration;if(e.fontName.family!==n)return!1;if(e.fontName.style!==o)return!1;if(void 0===i||e.fontSize!==Eu(i,"fontSizes",r))return!1;var p=Eu(String(a),"lineHeights",r);if((null==p?void 0:p.unit)!==e.lineHeight.unit){var h=!0;if(p&&"AUTO"!==p.unit&&"AUTO"!==e.lineHeight.unit&&(h=p.value>0||e.lineHeight.value>0),h)return!1}else if("AUTO"!==p.unit&&"AUTO"!==e.lineHeight.unit&&(p.unit!==e.lineHeight.unit||p.value!==e.lineHeight.value))return!1;var d=Eu(String(u),"letterSpacing",r);return((null==d?void 0:d.unit)===e.letterSpacing.unit&&(null==d?void 0:d.value)===e.letterSpacing.value||!((null==d?void 0:d.value)&&d.value>0||e.letterSpacing.value>0))&&void 0!==s&&e.paragraphSpacing===Eu(s,"paragraphSpacing",r)&&void 0!==l&&e.paragraphIndent===Eu(l,"paragraphIndent",r)&&Eu(String(c),"textCase",r)===e.textCase&&Eu(String(f),"textDecoration",r)===e.textDecoration}(u,o.value,n)?(i=u.id,Jt(e,a)):u&&o.adjustedTokenName===(null==u?void 0:u.name)&&qt(e,a,u.id)),(s=i)?[4,Bs(e,"text",i)]:[3,2]);case 1:s=f.sent(),f.label=2;case 2:return s?[2]:t.typography&&o&&ru(o.value)&&!Object.keys(r).length?(sc(e,t.typography,n),[2]):(l=function(e,t){var r,n,o,i,a,u,s,l,c,f,p,h,d;return{fontFamily:fc(t.fontFamilies||(null==e||null===(r=e.rawValue)||void 0===r?void 0:r.fontFamilies)||(null==e||null===(n=e.rawValue)||void 0===n?void 0:n.fontFamily)),fontWeight:fc(t.fontWeights||(null==e||null===(o=e.rawValue)||void 0===o?void 0:o.fontWeights)||(null==e||null===(i=e.rawValue)||void 0===i?void 0:i.fontWeight)),lineHeight:fc(t.lineHeights||(null==e||null===(a=e.rawValue)||void 0===a?void 0:a.lineHeights)||(null==e||null===(u=e.rawValue)||void 0===u?void 0:u.lineHeight)),fontSize:fc(t.fontSizes||(null==e||null===(s=e.rawValue)||void 0===s?void 0:s.fontSizes)||(null==e||null===(l=e.rawValue)||void 0===l?void 0:l.fontSize)),letterSpacing:fc(t.letterSpacing||(null==e||null===(c=e.rawValue)||void 0===c?void 0:c.letterSpacing)),paragraphSpacing:fc(t.paragraphSpacing||(null==e||null===(f=e.rawValue)||void 0===f?void 0:f.paragraphSpacing)),paragraphIndent:fc(t.paragraphIndent||(null==e||null===(p=e.rawValue)||void 0===p?void 0:p.paragraphIndent)),textCase:fc(t.textCase||(null==e||null===(h=e.rawValue)||void 0===h?void 0:h.textCase)),textDecoration:fc(t.textDecoration||(null==e||null===(d=e.rawValue)||void 0===d?void 0:d.textDecoration))}}(o,t),c=function(e,t){var r=(null==t?void 0:t.value)||{};return{fontFamily:eu(e.fontFamilies)?String(e.fontFamilies):r.fontFamily,fontWeight:eu(e.fontWeights)?String(e.fontWeights):r.fontWeight,lineHeight:eu(e.lineHeights)?String(e.lineHeights):r.lineHeight,fontSize:eu(e.fontSizes)?String(e.fontSizes):r.fontSize,letterSpacing:eu(e.letterSpacing)?String(e.letterSpacing):r.letterSpacing,paragraphSpacing:eu(e.paragraphSpacing)?String(e.paragraphSpacing):r.paragraphSpacing,paragraphIndent:eu(e.paragraphIndent)?String(e.paragraphIndent):r.paragraphIndent,textCase:eu(e.textCase)?String(e.textCase):r.textCase,textDecoration:eu(e.textDecoration)?String(e.textDecoration):r.textDecoration}}(r,o),[4,ic({target:e,value:c,resolvedValue:l,baseFontSize:n})]);case 3:return f.sent(),[2]}}))})),hc.apply(this,arguments)}function dc(e){return!!e&&"DROP_SHADOW"===e.type&&e.showShadowBehindNode}function yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vc(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function bc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){vc(i,n,o,a,u,"next",e)}function u(e){vc(i,n,o,a,u,"throw",e)}a(void 0)}))}}function gc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){gc(e,t,r[t])}))}return e}function wc(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Sc(e){return Ec.apply(this,arguments)}function Ec(){return Ec=bc((function(e){var t,r,n,o,i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O,x;return wc(this,(function(k){switch(k.label){case 0:t=e.target,r=e.value,n=e.baseFontSize,o=e.resolvedValue,i=Os.createStylesWithVariableReferences||!("consumers"in t),a=ra(r.color),u=a.color,s=a.opacity,l=u.r,c=u.g,f=u.b,p=mc({color:{r:l,g:c,b:f,a:s},type:Xt(r.type),spread:ca(r.spread.toString(),n),radius:ca(r.blur.toString(),n),offset:Gs(ca(r.x.toString(),n),ca(r.y.toString(),n)),blendMode:r.blendMode||"NORMAL",visible:!0},"dropShadow"===r.type&&"effects"in t?{showShadowBehindNode:dc(t.effects[0])}:{}),k.label=1;case 1:k.trys.push([1,10,,11]),h=!0,d=!1,y=void 0,k.label=2;case 2:k.trys.push([2,7,8,9]),v=Object.entries(o)[Symbol.iterator](),k.label=3;case 3:return(h=(b=v.next()).done)?[3,6]:(g=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(b.value,2),m=g[0],(w=g[1]).toString().startsWith("{")&&w.toString().endsWith("}")&&i?[4,Os.getVariableReference(w.slice(1,-1))]:[3,5]);case 4:(S=k.sent())&&(E=figma.variables.setBoundVariableForEffect(p,function(e){switch(e){case"x":return"offsetX";case"y":return"offsetY";case"blur":return"radius";default:return e}}(m),S),p=function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}(mc({},p),{boundVariables:E.boundVariables})),k.label=5;case 5:return h=!0,[3,3];case 6:return[3,9];case 7:return O=k.sent(),d=!0,y=O,[3,9];case 8:try{h||null==v.return||v.return()}finally{if(d)throw y}return[7];case 9:return[3,11];case 10:return x=k.sent(),console.error(x),[3,11];case 11:return[2,p]}}))})),Ec.apply(this,arguments)}function Oc(e,t,r){return xc.apply(this,arguments)}function xc(){return xc=bc((function(e,t,r){var n,o,i,a,u,s,l,c,f,p=arguments;return wc(this,(function(h){switch(h.label){case 0:n=p.length>3&&void 0!==p[3]?p[3]:"effects",h.label=1;case 1:return h.trys.push([1,6,,7]),void 0===(i=Os.get(t))?[2]:(a=i.description,u=i.value,void 0===(s=null===(o=Os.get(t))||void 0===o?void 0:o.resolvedValueWithReferences)?[2]:Array.isArray(u)?[4,Promise.all(u.map(function(){var t=bc((function(t,n){return wc(this,(function(o){switch(o.label){case 0:return[4,Sc({target:e,value:t,baseFontSize:r,resolvedValue:s[n]})];case 1:return[2,o.sent()]}}))}));return function(e,r){return t.apply(this,arguments)}}()))]:[3,3]);case 2:return l=h.sent(),"effects"in e&&"effects"===n&&(e.effects=l.reverse()),[3,5];case 3:return"string"==typeof u?[3,5]:"effects"in e&&"effects"===n?[4,Sc({target:e,value:u,baseFontSize:r,resolvedValue:s})]:[3,5];case 4:c=h.sent(),e.effects=[c],Promise.resolve(),h.label=5;case 5:return a&&"description"in e&&(e.description=a),[3,7];case 6:return f=h.sent(),console.error("Error setting shadow",f),Promise.reject(),[3,7];case 7:return[2]}}))})),xc.apply(this,arguments)}function kc(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Ac(e,t,r,n){return Tc.apply(this,arguments)}function Tc(){return Tc=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){kc(i,n,o,a,u,"next",e)}function u(e){kc(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i,a,u,s,l;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(c){switch(c.label){case 0:return"effects"in e&&void 0!==r.boxShadow&&t.boxShadow?(o=Os.get(t.boxShadow))?((i=null==o?void 0:o.styleId)||tu(r.boxShadow)&&(u=Yt(e,a="effectStyleId_original","effects"))&&(Us(u,r.boxShadow,n)?(i=u.id,Jt(e,a)):o.adjustedTokenName===u.name&&qt(e,a,u.id)),(s=!i)?[3,3]:(l=i)?[4,Bs(e,"effect",i)]:[3,2]):[2]:[3,4];case 1:l=!c.sent(),c.label=2;case 2:s=l,c.label=3;case 3:s&&tu(r.boxShadow)&&Oc(e,t.boxShadow,n),c.label=4;case 4:return[2]}}))})),Tc.apply(this,arguments)}function Pc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ic(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function _c(e){return Rc.apply(this,arguments)}function Rc(){return Rc=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ic(i,n,o,a,u,"next",e)}function u(e){Ic(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,i,a;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(u){switch(u.label){case 0:t=e.node,r=e.values,n=e.data,o=e.baseFontSize,i=void 0===o?la:o,u.label=1;case 1:return u.trys.push([1,20,,21]),"CONNECTOR"===t.type||"SHAPE_WITH_TEXT"===t.type||"STICKY"===t.type||"CODE_BLOCK"===t.type?[3,19]:(Object.entries(r).forEach((function(e){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),o=n[0];"none"===n[1]&&(Vt(t,o),delete r[o])})),[4,ll(t,n,r,i)]);case 2:return u.sent(),[4,Rs(t,n,r,i)];case 3:return u.sent(),[4,Ac(t,n,r,i)];case 4:return u.sent(),[4,ds(t,n,r,i)];case 5:return u.sent(),[4,fl(t,n,r,i)];case 6:return u.sent(),[4,Ol(t,n,r,i)];case 7:return u.sent(),[4,Ll(t,n,r,i)];case 8:return u.sent(),[4,Fl(t,n,r,i)];case 9:return u.sent(),[4,_l(t,n,r,i)];case 10:return u.sent(),[4,dl(t,n,r)];case 11:return u.sent(),[4,Tl(t,n,r,i)];case 12:return u.sent(),[4,pc(t,n,r,i)];case 13:return u.sent(),[4,ls(t,n,r)];case 14:return u.sent(),[4,bl(t,n,r,i)];case 15:return u.sent(),[4,wl(t,n,r,i)];case 16:return u.sent(),[4,Ps(t,n,r)];case 17:return u.sent(),[4,zl(t,n,r)];case 18:u.sent(),u.label=19;case 19:return[3,21];case 20:return a=u.sent(),console.log("Error setting data on node",a),[3,21];case 21:return[2]}}))})),Rc.apply(this,arguments)}function Nc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mc(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function jc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Mc(i,n,o,a,u,"next",e)}function u(e){Mc(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Cc(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Lc(e){return Dc.apply(this,arguments)}function Dc(){return Dc=jc((function(t){var r,n,o,i,a,u,s,l;return Cc(this,(function(c){switch(c.label){case 0:return r=t.entries,n=t.values,o=t.tokensMap,i=t.settings,a=(null!=i?i:{}).baseFontSize,u=ue.TOKENS,M({type:e.START_JOB,job:{name:et.PLUGIN_UPDATEPLUGINDATA,timePerTask:2,completedTasks:0,totalTasks:r.length}}),s=new Tt(et.PLUGIN_UPDATEPLUGINDATA),l=new Set,r.forEach((function(e){l.add(Et.schedule(jc((function(){var t,r,i;return Cc(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,3,4]),[4,Promise.all(Object.entries(n).map(function(){var t=jc((function(t){var r,n,o,i;return Cc(this,(function(a){switch(a.label){case 0:switch(r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=r[0],o=r[1],i=JSON.stringify(o),o){case"delete":return[3,1];case"none":return[3,3]}return[3,5];case 1:return[4,Ca({nodes:[e],key:n,shouldRemoveValues:!0})];case 2:case 4:return a.sent(),[3,6];case 3:return[4,Da({nodes:[e],key:n})];case 5:return e.setSharedPluginData(u,n,i),[3,6];case 6:return[2]}}))}));return function(e){return t.apply(this,arguments)}}()))];case 1:return l.sent(),t=Yu(o,n),r=Nu(o,n),_c({node:e,values:r,data:t,baseFontSize:a}),[3,4];case 2:return i=l.sent(),console.log("got error",i),[3,4];case 3:return s.next(),s.reportIfNecessary(),[7];case 4:return[2]}}))}))))})),[4,Promise.all(l)];case 1:return c.sent(),M({type:e.COMPLETE_JOB,name:et.PLUGIN_UPDATEPLUGINDATA}),[2]}}))})),Dc.apply(this,arguments)}function Bc(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Fc(){return Gc.apply(this,arguments)}function Gc(){return Gc=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Bc(i,n,o,a,u,"next",e)}function u(e){Bc(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e,t,r,n,o;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,figma.variables.getLocalVariablesAsync()];case 1:return t=i.sent(),[4,null===(e=figma.variables.getLocalVariableCollectionsAsync())||void 0===e?void 0:e.then((function(e){return e.map((function(e){return e.id}))}))];case 2:return r=i.sent(),[2,t.filter((function(e){return r.includes(e.variableCollectionId)}))];case 3:return n=i.sent(),B(null!==(o=null==n?void 0:n.message)&&void 0!==o?o:"Unknown error"),[2,[]];case 4:return[2]}}))})),Gc.apply(this,arguments)}function Uc(e){return e.split("/").map((function(e){return e.trim()})).join(".")}function Vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wc(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function zc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||$c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hc(e){return function(e){if(Array.isArray(e))return Vc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $c(e,t){if(e){if("string"==typeof e)return Vc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Vc(e,t):void 0}}function Yc(e){return Kc.apply(this,arguments)}function Kc(){return Kc=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Wc(i,n,o,a,u,"next",e)}function u(e){Wc(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var r,n,o,i,a,u,s,l,c,f,p;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(h){switch(h.label){case 0:return Os.clearCache(),[4,R.PluginInstance.message({type:t.GET_THEME_INFO})];case 1:return n=h.sent(),o=new Map,i=new Map,a=null===(r=n.themes)||void 0===r?void 0:r.filter((function(e){return Object.values(n.activeTheme).some((function(t){return t===e.id}))})),u=e&&a.length>0?a[0].name:void 0,null==a||a.forEach((function(e){var t,r;Object.entries(null!==(t=e.$figmaVariableReferences)&&void 0!==t?t:{}).forEach((function(e){var t=zc(e,2),r=t[0],n=t[1];i.has(r)||i.set(r,n)})),Object.entries(null!==(r=e.$figmaStyleReferences)&&void 0!==r?r:{}).forEach((function(e){var t=zc(e,2),r=t[0],n=t[1];o.has(r)||o.set(r,n)}))})),s=a.map((function(e){return Object.entries(e.selectedTokenSets).filter((function(e){var t=zc(e,2);return t[0],t[1]===rc.SOURCE}))})).map((function(e){return Object.keys(e).filter((function(t){return e[t]===rc.SOURCE}))})).flat(),null==(l=n.themes.filter((function(e){return s.some((function(t){return e.selectedTokenSets[t]===rc.ENABLED}))})))||l.forEach((function(e){var t;Object.entries(null!==(t=e.$figmaVariableReferences)&&void 0!==t?t:{}).forEach((function(e){var t=zc(e,2),r=t[0],n=t[1];i.has(r)||i.set(r,n)}))})),[4,Fc()];case 2:return h.sent().forEach((function(e){var t=Uc(e.name);i.has(t)||i.set(t,e.key)})),c=figma.getLocalEffectStyles(),f=figma.getLocalPaintStyles(),p=figma.getLocalTextStyles(),Hc(c).concat(Hc(f),Hc(p)).forEach((function(e){if(!o.has(e.name)){var t=Uc(e.name);o.set(t,e.id)}})),[2,{figmaStyleReferences:o,figmaVariableReferences:i,stylePathPrefix:u}]}}))})),Kc.apply(this,arguments)}function qc(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}(nc=rc||(rc={})).DISABLED="disabled",nc.SOURCE="source",nc.ENABLED="enabled";var Jc=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){qc(i,n,o,a,u,"next",e)}function u(e){qc(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,i,a,u;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){switch(s.label){case 0:return s.trys.push([0,5,,6]),figma.currentPage.selection.length?(l=e.tokens,t=new Map(l.map((function(e){return[e.name,e]}))),r=figma.currentPage.selection,[4,Yc(e.settings.prefixStylesWithThemeName)]):[3,4];case 1:return n=s.sent(),o=n.figmaVariableReferences,i=n.figmaStyleReferences,a=n.stylePathPrefix,[4,Os.initiate({tokens:e.tokens,variableReferences:o,styleReferences:i,stylePathPrefix:a,ignoreFirstPartForStyles:e.settings.ignoreFirstPartForStyles,applyVariablesStylesOrRawValue:e.settings.applyVariablesStylesOrRawValue})];case 2:return s.sent(),[4,Lc({entries:r,values:e.values,tokensMap:t,settings:e.settings})];case 3:s.sent(),Ga(),s.label=4;case 4:return[3,6];case 5:return u=s.sent(),console.error(u),[3,6];case 6:return[2]}var l}))}));return function(t){return e.apply(this,arguments)}}();function Xc(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Zc(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Xc(i,n,o,a,u,"next",e)}function u(e){Xc(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Qc(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function ef(e){return tf.apply(this,arguments)}function tf(){return tf=Zc((function(t){var r,n,o;return Qc(this,(function(i){switch(i.label){case 0:return r=t.nodeKeyMap,M({type:e.START_JOB,job:{name:et.PLUGIN_UPDATEPLUGINDATA,timePerTask:2,completedTasks:0,totalTasks:r.length}}),n=new Tt(et.PLUGIN_UPDATEPLUGINDATA),o=new Set,r.forEach(function(){var e=Zc((function(e){var t,r;return Qc(this,(function(i){return t=e.node,r=e.key,o.add(Et.schedule(Zc((function(){return Qc(this,(function(e){return t.setPluginData(r,""),ut.set(t,r,""),Vt(t,r),n.next(),n.reportIfNecessary(),[2]}))})))),[2]}))}));return function(t){return e.apply(this,arguments)}}()),[4,Promise.all(o)];case 1:return i.sent(),M({type:e.COMPLETE_JOB,name:et.PLUGIN_UPDATEPLUGINDATA}),[2]}}))})),tf.apply(this,arguments)}function rf(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var nf=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){rf(i,n,o,a,u,"next",e)}function u(e){rf(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return t=[],e.tokensToRemove.forEach((function(e){e.nodes.forEach((function(r){var n=figma.getNodeById(r.id);n&&t.push({node:n,key:e.property})}))})),t.length?[4,ef({nodeKeyMap:t})]:[3,2];case 1:r.sent(),r.label=2;case 2:return Ga(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function of(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function af(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function uf(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){af(i,n,o,a,u,"next",e)}function u(e){af(i,n,o,a,u,"throw",e)}a(void 0)}))}}function sf(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var lf=function(){var t=uf((function(t){var r,n,o,i,a,u,s,l,c;return sf(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),r=t.oldName,n=t.newName,o=t.updateMode,i=t.category,[4,Mt.findBaseNodesWithData({updateMode:o})];case 1:return a=f.sent(),u=ue.TOKENS,M({type:e.START_JOB,job:{name:et.PLUGIN_UPDATEPLUGINDATA,timePerTask:2,completedTasks:0,totalTasks:a.length}}),s=new Tt(et.PLUGIN_UPDATEPLUGINDATA),l=new Set,a.forEach((function(e){var t=e.node,o=e.tokens;l.add(Et.schedule(uf((function(){return sf(this,(function(e){return Object.entries(o).map(function(){var e=uf((function(e){var o,a,s,l;return sf(this,(function(c){return o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return of(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?of(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),a=o[0],s=o[1],void 0!==i&&a!==i||s===r&&(l=JSON.stringify(n),t.setSharedPluginData(u,a,l)),[2]}))}));return function(t){return e.apply(this,arguments)}}()),s.next(),s.reportIfNecessary(),[2]}))}))))})),[4,Promise.all(l)];case 2:return f.sent(),M({type:e.COMPLETE_JOB,name:et.PLUGIN_UPDATEPLUGINDATA}),[4,Ga()];case 3:return f.sent(),[3,5];case 4:return c=f.sent(),console.error(c),[3,5];case 5:return[2]}}))}));return function(e){return t.apply(this,arguments)}}();function cf(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var ff=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){cf(i,n,o,a,u,"next",e)}function u(e){cf(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return function(e){var t=figma.getNodeById(e);t&&"PAGE"!==t.type&&"DOCUMENT"!==t.type&&(figma.currentPage.selection=[t],figma.viewport.scrollAndZoomIntoView([t]))}(e.id),[2]}))}));return function(t){return e.apply(this,arguments)}}();function pf(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var hf=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){pf(i,n,o,a,u,"next",e)}function u(e){pf(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){var r,n;return r=e.ids,n=i(r.map(figma.getNodeById)).filter((function(e){return"PAGE"!==e.type&&"DOCUMENT"!==e.type})),figma.currentPage.selection=n,[2]}))}));return function(t){return e.apply(this,arguments)}}();function df(e){return e.toString().toLowerCase().normalize("NFD").trim().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-")}function yf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var vf=[qa.FONT_SIZES,qa.LINE_HEIGHTS,qa.LETTER_SPACING,qa.PARAGRAPH_SPACING],bf=function(e,t,r){var n=r?r(e):String(e);return vf.includes(t)&&"number"==typeof e?e:n};function gf(e,t,r,n,o,i,a,u){var s,l=e.boundVariables;if(null==l||null===(s=l[t])||void 0===s?void 0:s.id){var c=r.find((function(e){var r;return e.id===(null===(r=l[t])||void 0===r?void 0:r.id)}));if(c){var f=c.name.replace(/\//g,".");if(n){var p=Object.entries(n.values).reduce((function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return yf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=(r[0],r[1]);return e||(Array.isArray(n)?n.find((function(e){return"object"==typeof e&&null!==e&&"name"in e&&e.name===f})):null)||null}),null);if(p)return{name:p.name,value:"string"==typeof p.value?p.value:String(p.value),type:o}}var h=e[t],d=bf(h,o,u);return{name:f,value:d,type:o}}}var y=e[t],v=bf(y,o,u),b=i;return void 0!==a&&(o===qa.FONT_WEIGHTS?b="".concat(i,"-").concat(a):o!==qa.FONT_FAMILIES&&(b="".concat(i,".").concat(a))),{name:b,value:v,type:o}}function mf(e,t,r,n,o,i){var a,u=e.boundVariables,s=String(r),l=n.find((function(e){return String(e.value)===s}));if(l)return l;if(null==u||null===(a=u[t])||void 0===a?void 0:a.id){var c=i.find((function(e){var r;return e.id===(null===(r=u[t])||void 0===r?void 0:r.id)}));if(c){var f=Uc(c.name),p=n.find((function(e){return e.name===f}));if(p)return p;var h=Qa.includes(o)&&"number"==typeof r?r:String(r),d={name:f,value:h,type:o};return n.push(d),d}}var y=n.find((function(e){return String(e.value)===s}));if(y)return y;var v=Qa.includes(o)&&"number"==typeof r?r:s,b=n.length,g={name:"".concat(o.toLowerCase(),".").concat(b),value:v,type:o};return n.push(g),g}function wf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sf(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Ef(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Of(e){return function(e){if(Array.isArray(e))return wf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||xf(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xf(e,t){if(e){if("string"==typeof e)return wf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wf(e,t):void 0}}function kf(){return kf=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Sf(i,n,o,a,u,"next",e)}function u(e){Sf(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(t){var r,n,o,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O,x,k,A,T,P;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(I){switch(I.label){case 0:return[4,Cu()];case 1:return r=I.sent(),n=[],o=[],a=[],u=[],s=[],l=[],c=[],f=[],p=[],h=[],d=[],y=[],t.colorStyles&&(n=i(figma.getLocalPaintStyles().filter((function(e){return 1===e.paints.length})).map((function(e){var t=e.paints[0],r={};if(e.description&&(r.description=e.description),"SOLID"===t.type){var n=t.color,o=n.r,i=n.g,a=n.b,u=t.opacity;r.value=(0,zt.figmaRGBToHex)({r:o,g:i,b:a,a:u})}else"GRADIENT_LINEAR"===t.type||"GRADIENT_RADIAL"===t.type||"GRADIENT_ANGULAR"===t.type||"GRADIENT_DIAMOND"===t.type?r.value=aa(t):r=null;var s,l,c=e.name.split("/").map((function(e){return e.trim()})).join(".");return r?(s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ef(e,t,r[t])}))}return e}({},r),l=null!=(l={name:c,type:qa.COLOR})?l:{},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(l)).forEach((function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(l,e))})),s):null})))),t.textStyles?(v=[],b=[],g=[],m=[],w=[],S=[],E=[],O=[],x=figma.getLocalTextStyles(),[4,Fc()]):[3,3];case 2:k=I.sent(),x.forEach((function(e){v.includes(e.fontSize)||v.push(e.fontSize),b.push(e.fontName),g.push(e.lineHeight),m.includes(e.paragraphSpacing)||m.push(e.paragraphSpacing),w.includes(e.paragraphIndent)||w.push(e.paragraphIndent),S.push(e.letterSpacing),E.includes(e.textCase)||E.push(e.textCase),O.includes(e.textDecoration)||O.push(e.textDecoration)})),c=v.sort((function(e,t){return e-t})).map((function(e,t){return{name:"fontSize.".concat(t),value:e,type:qa.FONT_SIZES}})),A=b.filter((function(e,t,r){return r.findIndex((function(t){return t.family===e.family&&t.style===e.style}))===t})),s=x.map((function(e,t){return gf(e,"lineHeight",k,r,qa.LINE_HEIGHTS,"lineHeights",t,(function(e){return va(e)}))})),l=A.map((function(e,t){var n=x.find((function(t){return t.fontName.family===e.family&&t.fontName.style===e.style}));return n?gf(n,"fontStyle",k,r,qa.FONT_WEIGHTS,"fontWeights.".concat(df(e.family)),t,(function(){return e.style})):{name:"fontWeights.".concat(df(e.family),"-").concat(t),value:e.style,type:qa.FONT_WEIGHTS}})),u=Of(new Set(A.map((function(e){return e.family})))).map((function(e,t){var n=x.find((function(t){return t.fontName.family===e}));return n?gf(n,"fontFamily",k,r,qa.FONT_FAMILIES,"fontFamilies.".concat(df(e)),t,(function(){return e})):{name:"fontFamilies.".concat(df(e)),value:e,type:qa.FONT_FAMILIES}})),p=m.sort((function(e,t){return e-t})).map((function(e,t){return{name:"paragraphSpacing.".concat(t),value:e,type:qa.PARAGRAPH_SPACING}})),h=w.sort((function(e,t){return e-t})).map((function(e,t){return{name:"paragraphIndent.".concat(t),value:"".concat(e,"px"),type:qa.DIMENSION}})),f=S.map((function(e){return ha(e)})).filter((function(e,t,r){return r.findIndex((function(t){return String(t)===String(e)}))===t})).map((function(e,t){return{name:"letterSpacing.".concat(t),value:e,type:qa.LETTER_SPACING}})),d=E.map((function(e){return{name:"textCase.".concat(da(e)),value:da(e),type:qa.TEXT_CASE}})),y=O.map((function(e){return{name:"textDecoration.".concat(ya(e)),value:ya(e),type:qa.TEXT_DECORATION}})),o=x.map((function(e){var t,r,n=e.fontName.family,o=e.fontName.style,i=va(e.lineHeight),a=ha(e.letterSpacing),v="".concat(e.paragraphIndent,"px"),b=da(e.textCase),g=ya(e.textDecoration),m=i,w=(e.fontSize,e.fontSize),S=a,E=(e.paragraphSpacing,e.paragraphSpacing),O="number"==typeof e.paragraphIndent?e.paragraphIndent:v,x=mf(e,"fontFamily",n,u,qa.FONT_FAMILIES,k),A=e.boundVariables;if(null==A||null===(t=A.fontStyle)||void 0===t?void 0:t.id){var T=k.find((function(e){var t;return e.id===(null===(t=A.fontStyle)||void 0===t?void 0:t.id)}));if(T){var P=T.name.replace(/\//g,".");r=l.find((function(e){return e.name===P}))}}r||(r=l.find((function(e){return e.name.includes(df(n))&&String(e.value)===String(o)})));var I=mf(e,"lineHeight",i,s,qa.LINE_HEIGHTS,k),_=mf(e,"fontSize",e.fontSize,c,qa.FONT_SIZES,k),R=mf(e,"letterSpacing",a,f,qa.LETTER_SPACING,k),N=mf(e,"paragraphSpacing",e.paragraphSpacing,p,qa.PARAGRAPH_SPACING,k),M=mf(e,"paragraphIndent",v,h,qa.DIMENSION,k),j=mf(e,"textCase",b,d,qa.TEXT_CASE,k),C=mf(e,"textDecoration",g,y,qa.TEXT_DECORATION,k),L={fontFamily:(null==x?void 0:x.name)?"{".concat(x.name,"}"):n,fontWeight:(null==r?void 0:r.name)?"{".concat(r.name,"}"):o,lineHeight:(null==I?void 0:I.name)?"{".concat(I.name,"}"):m,fontSize:(null==_?void 0:_.name)?"{".concat(_.name,"}"):w,letterSpacing:(null==R?void 0:R.name)?"{".concat(R.name,"}"):S,paragraphSpacing:(null==N?void 0:N.name)?"{".concat(N.name,"}"):E,paragraphIndent:(null==M?void 0:M.name)?"{".concat(M.name,"}"):O,textCase:(null==j?void 0:j.name)?"{".concat(j.name,"}"):b,textDecoration:(null==C?void 0:C.name)?"{".concat(C.name,"}"):g},D={name:e.name.split("/").map((function(e){return e.trim()})).join("."),value:L,type:qa.TYPOGRAPHY};return e.description&&(D.description=e.description),D})),I.label=3;case 3:return t.effectStyles&&(a=i(figma.getLocalEffectStyles().filter((function(e){return e.effects.every((function(e){return["DROP_SHADOW","INNER_SHADOW"].includes(e.type)}))})).map((function(e){var t=Of(e.effects).reverse().map((function(e){var t={};return t.color=(0,zt.figmaRGBToHex)(e.color),t.type=Zt(e.type),t.x=e.offset.x,t.y=e.offset.y,t.blur=e.radius,t.spread=e.spread||0,t}));if(!t)return null;var r=e.name.split("/").map((function(e){return e.trim()})).join("."),n={value:t.length>1?t:t[0],type:qa.BOX_SHADOW,name:r};return e.description&&(n.description=e.description),n})))),T={colors:n,effects:a,fontFamilies:u,lineHeights:s,fontWeights:l,fontSizes:c,letterSpacing:f,paragraphSpacing:p,typography:o,textCase:d,textDecoration:y,paragraphIndent:h},P=Object.entries(T).reduce((function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||xf(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=r[0],o=r[1];return o.length>0&&(e[n]=o),e}),{}),_=P,M({type:e.STYLES,values:_}),[2]}var _}))})),kf.apply(this,arguments)}function Af(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Tf=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Af(i,n,o,a,u,"next",e)}function u(e){Af(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return function(e){kf.apply(this,arguments)}(e.styleTypes),[2]}))}));return function(t){return e.apply(this,arguments)}}();function Pf(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function If(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function _f(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){If(i,n,o,a,u,"next",e)}function u(e){If(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Rf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Rf(e,t,r[t])}))}return e}function Mf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pf(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pf(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jf(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Cf(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lf(){return Lf=_f((function(r,n,o){var i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O,x,k,A,T,P,I,_,N,j,C,L,B,F,G,U,V,W;return jf(this,(function(n){switch(n.label){case 0:return i=[],a=[],u=[],s=[],l=[],c=16,r.useRem?[4,figma.clientStorage.getAsync("uiSettings")]:[3,3];case 1:return f=n.sent(),h=JSON.parse,[4,f];case 2:(null==(p=h.apply(JSON,[n.sent()]))?void 0:p.baseFontSize)&&(d="number"==typeof p.baseFontSize?p.baseFontSize:parseFloat(p.baseFontSize),c=isNaN(d)?16:Number(d)),n.label=3;case 3:return[4,Fc()];case 4:y=n.sent(),v=new Map,b=new Map,g=!0,m=!1,w=void 0,n.label=5;case 5:n.trys.push([5,10,11,12]),S=function(){var e,t,n,o;return jf(this,(function(f){switch(f.label){case 0:return e=O.value,(t=b.get(e.variableCollectionId))?[3,2]:[4,figma.variables.getVariableCollectionByIdAsync(e.variableCollectionId)];case 1:(n=f.sent())&&(t={id:n.id,name:n.name,modes:n.modes.map((function(e){return{name:e.name,modeId:e.modeId}}))},b.set(e.variableCollectionId,t)),f.label=2;case 2:if(r.selectedCollections&&t&&!r.selectedCollections[t.id])return[2,"continue"];t&&v.set(t.name,t),o=Uc(e.name);try{switch(e.resolvedType){case"COLOR":Object.entries(e.valuesByMode).forEach((function(n){var a,u,s=Mf(n,2),l=s[0],c=s[1];if(r.selectedCollections&&t){var f=r.selectedCollections[t.id];if(f&&!f.selectedModes.includes(l))return}if("object"==typeof c&&"type"in c&&"VARIABLE_ALIAS"===c.type){var p=figma.variables.getVariableById(c.id);u="{".concat(null==p?void 0:p.name.replace(/\//g,"."),"}")}else u=(0,zt.figmaRGBToHex)(c);var h=null==t||null===(a=t.modes.find((function(e){return e.modeId===l})))||void 0===a?void 0:a.name;u&&i.push(Nf({name:o,value:u,type:qa.COLOR,parent:"".concat(null==t?void 0:t.name,"/").concat(h)},e.description?{description:e.description}:{}))}));break;case"BOOLEAN":Object.entries(e.valuesByMode).forEach((function(n){var i,u=Mf(n,2),s=u[0],l=u[1];if(r.selectedCollections&&t){var c=r.selectedCollections[t.id];if(c&&!c.selectedModes.includes(s))return}var f,p=null==t||null===(i=t.modes.find((function(e){return e.modeId===s})))||void 0===i?void 0:i.name;if("object"==typeof l&&"type"in l&&"VARIABLE_ALIAS"===l.type){var h=figma.variables.getVariableById(l.id);f="{".concat(null==h?void 0:h.name.replace(/\//g,"."),"}")}else f=JSON.stringify(l);a.push(Nf({name:o,value:f,type:qa.BOOLEAN,parent:"".concat(null==t?void 0:t.name,"/").concat(p)},e.description?{description:e.description}:{}))}));break;case"STRING":Object.entries(e.valuesByMode).forEach((function(n){var i,a=Mf(n,2),s=a[0],l=a[1];if(r.selectedCollections&&t){var c=r.selectedCollections[t.id];if(c&&!c.selectedModes.includes(s))return}var f,p=null==t||null===(i=t.modes.find((function(e){return e.modeId===s})))||void 0===i?void 0:i.name;if("object"==typeof l&&"type"in l&&"VARIABLE_ALIAS"===l.type){var h=figma.variables.getVariableById(l.id);f="{".concat(null==h?void 0:h.name.replace(/\//g,"."),"}")}else f=l;u.push(Nf({name:o,value:f,type:qa.TEXT,parent:"".concat(null==t?void 0:t.name,"/").concat(p)},e.description?{description:e.description}:{}))}));break;case"FLOAT":Object.entries(e.valuesByMode).forEach((function(n){var i,a=Mf(n,2),u=a[0],f=a[1];if(r.selectedCollections&&t){var p=r.selectedCollections[t.id];if(p&&!p.selectedModes.includes(u))return}var h=f;if("object"==typeof f&&"type"in f&&"VARIABLE_ALIAS"===f.type){var d=figma.variables.getVariableById(f.id);h="{".concat(null==d?void 0:d.name.replace(/\//g,"."),"}")}else"number"==typeof f&&(h=r.useRem?"".concat(Number((Number(h)/parseFloat(String(c))).toFixed(3)),"rem"):r.useDimensions?"".concat(Number(h.toFixed(3)),"px"):Number(h.toFixed(3)));var y=null==t||null===(i=t.modes.find((function(e){return e.modeId===u})))||void 0===i?void 0:i.name;r.useDimensions||r.useRem?l.push(Nf({name:o,value:h,type:qa.DIMENSION,parent:"".concat(null==t?void 0:t.name,"/").concat(y)},e.description?{description:e.description}:{})):s.push(Nf({name:o,value:h,type:qa.NUMBER,parent:"".concat(null==t?void 0:t.name,"/").concat(y)},e.description?{description:e.description}:{}))}))}}catch(e){console.error("Error while processing variable:",o,e)}return[2]}}))},E=y[Symbol.iterator](),n.label=6;case 6:return(g=(O=E.next()).done)?[3,9]:[5,Cf(S())];case 7:n.sent(),n.label=8;case 8:return g=!0,[3,6];case 9:return[3,12];case 10:return x=n.sent(),m=!0,w=x,[3,12];case 11:try{g||null==E.return||E.return()}finally{if(m)throw w}return[7];case 12:return k={colors:i,booleans:a,strings:u,numbers:s,dimensions:l},A=new Map,T=new Set,P=[],o?[4,R.PluginInstance.message({type:t.GET_THEME_INFO})]:[3,15];case 13:return _=n.sent(),N=new Set,j=new Set,null===(I=_.themes)||void 0===I||I.forEach((function(e){Object.entries(e.selectedTokenSets||{}).forEach((function(e){var t=Mf(e,2),r=t[0],n=t[1];N.add(r),n===rc.ENABLED&&j.add(r)}))})),[4,Promise.all(Array.from(v.values()).map(function(){var e=_f((function(e){return jf(this,(function(t){switch(t.label){case 0:return r.selectedCollections&&!r.selectedCollections[e.id]?[2]:[4,Promise.all(e.modes.map(function(){var t=_f((function(t){var n,o,i,a,u,s,l;return jf(this,(function(c){return r.selectedCollections&&(o=r.selectedCollections[e.id])&&!o.selectedModes.includes(t.modeId)||(i=y.filter((function(t){return t.variableCollectionId===e.id})),a=i.reduce((function(e,t){return r=Nf({},e),n=null!=(n=Rf({},Uc(t.name),t.key))?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(n)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})),r;var r,n}),{}),u="".concat(e.name,"/").concat(t.name),s="".concat(e.name.toLowerCase(),"-").concat(t.name.toLowerCase()),T.add("".concat(e.id,":").concat(t.modeId)),(l=null===(n=_.themes)||void 0===n?void 0:n.find((function(r){return r.$figmaCollectionId===e.id&&r.$figmaModeId===t.modeId})))&&Object.keys(l.selectedTokenSets||{}).forEach((function(e){e===u||!e.includes("/")||A.has(e)||Array.from(A.values()).includes(u)||A.set(e,u)})),P.push({id:s,name:t.name,group:e.name,selectedTokenSets:Rf({},u,rc.ENABLED),$figmaStyleReferences:{},$figmaVariableReferences:a,$figmaModeId:t.modeId,$figmaCollectionId:e.id})),[2]}))}));return function(e){return t.apply(this,arguments)}}()))];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 14:n.sent(),C=new Set(P.map((function(e){return"".concat(e.group,"/").concat(e.name)}))),L=!0,B=!1,F=void 0;try{for(G=function(){var e=V.value;if(A.has(e))return"continue";if(e.includes("/")&&!C.has(e)){var t,r=null===(t=_.themes)||void 0===t?void 0:t.find((function(t){if(!t.$figmaCollectionId||!t.$figmaModeId)return!1;var r=P.some((function(e){return e.$figmaCollectionId===t.$figmaCollectionId&&e.$figmaModeId===t.$figmaModeId}));return r&&Object.keys(t.selectedTokenSets||{}).includes(e)}));if(r){var n=P.find((function(e){return e.$figmaCollectionId===r.$figmaCollectionId&&e.$figmaModeId===r.$figmaModeId}));if(n){var o="".concat(n.group,"/").concat(n.name);if(C.has(o))return A.set(e,o),"continue"}}}},U=N[Symbol.iterator]();!(L=(V=U.next()).done);L=!0)G()}catch(e){B=!0,F=e}finally{try{L||null==U.return||U.return()}finally{if(B)throw F}}n.label=15;case 15:try{W=Object.entries(k).reduce((function(e,t){var r=Mf(t,2),n=r[0],o=r[1];return o.length>0&&(e[n]=o),e}),{}),D(W,P),A.size>0&&function(t){M({type:e.RENAME_COLLECTIONS_AND_MODES,renamedCollections:t})}(Array.from(A.entries()))}catch(e){console.error("Error processing results:",e),D({})}return[2]}}))})),Lf.apply(this,arguments)}function Df(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Bf=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Df(i,n,o,a,u,"next",e)}function u(e){Df(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return function(e,t,r){Lf.apply(this,arguments)}(e.options,e.themes,e.proUser),[2]}))}));return function(t){return e.apply(this,arguments)}}();function Ff(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Gf=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ff(i,n,o,a,u,"next",e)}function u(e){Ff(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return N(e.msg,e.opts),[2]}))}));return function(t){return e.apply(this,arguments)}}();function Uf(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Vf=function(){var t=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Uf(i,n,o,a,u,"next",e)}function u(e){Uf(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return Et.cancel(),M({type:e.CLEAR_JOBS}),[2]}))}));return function(){return t.apply(this,arguments)}}();function Wf(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var zf=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Wf(i,n,o,a,u,"next",e)}function u(e){Wf(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return figma.ui.resize(e.width,e.height),[2]}))}));return function(t){return e.apply(this,arguments)}}();function Hf(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function $f(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Hf(i,n,o,a,u,"next",e)}function u(e){Hf(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Yf(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Kf(e){return qf.apply(this,arguments)}function qf(){return qf=$f((function(e){var t,r,n,o,i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O,x,k,A,T,P,I,_,R,M,j;return Yf(this,(function(C){switch(C.label){case 0:return C.trys.push([0,3,,4]),[4,Te.read()];case 1:return t=C.sent(),[4,Te.write({sessionRecording:null!==(r=e.sessionRecording)&&void 0!==r?r:null==t?void 0:t.sessionRecording,width:null!==(n=e.width)&&void 0!==n?n:null==t?void 0:t.width,language:null!==(o=e.language)&&void 0!==o?o:null==t?void 0:t.language,height:null!==(i=e.height)&&void 0!==i?i:null==t?void 0:t.height,showEmptyGroups:null!==(a=e.showEmptyGroups)&&void 0!==a?a:null==t?void 0:t.showEmptyGroups,updateMode:null!==(u=e.updateMode)&&void 0!==u?u:null==t?void 0:t.updateMode,updateRemote:null!==(s=e.updateRemote)&&void 0!==s?s:null==t?void 0:t.updateRemote,updateOnChange:null!==(l=e.updateOnChange)&&void 0!==l?l:null==t?void 0:t.updateOnChange,applyVariablesStylesOrRawValue:null!==(c=e.applyVariablesStylesOrRawValue)&&void 0!==c?c:null==t?void 0:t.applyVariablesStylesOrRawValue,shouldUpdateStyles:null!==(f=e.shouldUpdateStyles)&&void 0!==f?f:null==t?void 0:t.shouldUpdateStyles,ignoreFirstPartForStyles:null!==(p=e.ignoreFirstPartForStyles)&&void 0!==p?p:null==t?void 0:t.ignoreFirstPartForStyles,createStylesWithVariableReferences:null!==(h=e.createStylesWithVariableReferences)&&void 0!==h?h:null==t?void 0:t.createStylesWithVariableReferences,prefixStylesWithThemeName:null!==(d=e.prefixStylesWithThemeName)&&void 0!==d?d:null==t?void 0:t.prefixStylesWithThemeName,renameExistingStylesAndVariables:null!==(y=e.renameExistingStylesAndVariables)&&void 0!==y?y:null==t?void 0:t.renameExistingStylesAndVariables,removeStylesAndVariablesWithoutConnection:null!==(v=e.removeStylesAndVariablesWithoutConnection)&&void 0!==v?v:null==t?void 0:t.removeStylesAndVariablesWithoutConnection,variablesBoolean:null!==(b=e.variablesBoolean)&&void 0!==b?b:null==t?void 0:t.variablesBoolean,variablesColor:null!==(g=e.variablesColor)&&void 0!==g?g:null==t?void 0:t.variablesColor,variablesNumber:null!==(m=e.variablesNumber)&&void 0!==m?m:null==t?void 0:t.variablesNumber,variablesString:null!==(w=e.variablesString)&&void 0!==w?w:null==t?void 0:t.variablesString,stylesColor:null!==(S=e.stylesColor)&&void 0!==S?S:null==t?void 0:t.stylesColor,stylesEffect:null!==(E=e.stylesEffect)&&void 0!==E?E:null==t?void 0:t.stylesEffect,stylesTypography:null!==(O=e.stylesTypography)&&void 0!==O?O:null==t?void 0:t.stylesTypography,inspectDeep:null!==(x=e.inspectDeep)&&void 0!==x?x:null==t?void 0:t.inspectDeep,shouldSwapStyles:null!==(k=e.shouldSwapStyles)&&void 0!==k?k:null==t?void 0:t.shouldSwapStyles,shouldSwapFigmaModes:null!==(A=e.shouldSwapFigmaModes)&&void 0!==A?A:null==t?void 0:t.shouldSwapFigmaModes,baseFontSize:null!==(T=e.baseFontSize)&&void 0!==T?T:null==t?void 0:t.baseFontSize,aliasBaseFontSize:null!==(P=e.aliasBaseFontSize)&&void 0!==P?P:null==t?void 0:t.aliasBaseFontSize,storeTokenIdInJsonEditor:null!==(I=e.storeTokenIdInJsonEditor)&&void 0!==I?I:null==t?void 0:t.storeTokenIdInJsonEditor,tokenFormat:null!==(_=e.tokenFormat)&&void 0!==_?_:null==t?void 0:t.tokenFormat,autoApplyThemeOnDrop:null!==(R=e.autoApplyThemeOnDrop)&&void 0!==R?R:null==t?void 0:t.autoApplyThemeOnDrop,seenGenericVersionedHeaderMigrationDialog:null!==(M=e.seenGenericVersionedHeaderMigrationDialog)&&void 0!==M?M:null==t?void 0:t.seenGenericVersionedHeaderMigrationDialog,seenTermsUpdate2026:null!==(j=e.seenTermsUpdate2026)&&void 0!==j?j:null==t?void 0:t.seenTermsUpdate2026})];case 2:return C.sent(),[3,4];case 3:return C.sent(),N("There was an issue saving your credentials. Please try again."),[3,4];case 4:return[2]}}))})),qf.apply(this,arguments)}function Jf(){return Xf.apply(this,arguments)}function Xf(){return Xf=$f((function(){var t,r,n,o,i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O,x,k,A,T,P,I,_,R,j,C,L,D,B,F=arguments;return Yf(this,(function(G){switch(G.label){case 0:t=!(F.length>0&&void 0!==F[0])||F[0],r={},G.label=1;case 1:return G.trys.push([1,3,,4]),[4,Te.read()];case 2:return(n=G.sent())&&(o=n.width||400,i=n.height||600,I=n.language||"en",a=void 0===n.showEmptyGroups||n.showEmptyGroups,u=n.updateMode||At.PAGE,s=void 0===n.updateRemote||n.updateRemote,l=void 0===n.updateOnChange||n.updateOnChange,c=void 0===n.applyVariablesStylesOrRawValue?ns.VARIABLES_STYLES:n.applyVariablesStylesOrRawValue,f=void 0!==n.shouldUpdateStyles&&n.shouldUpdateStyles,p=void 0===n.variablesColor||n.variablesColor,h=void 0===n.variablesBoolean||n.variablesBoolean,d=void 0===n.variablesNumber||n.variablesNumber,y=void 0===n.variablesString||n.variablesString,v=void 0!==n.stylesColor&&n.stylesColor,g=void 0===n.stylesTypography||n.stylesTypography,b=void 0===n.stylesEffect||n.stylesEffect,m=void 0!==n.ignoreFirstPartForStyles&&n.ignoreFirstPartForStyles,w=void 0===n.createStylesWithVariableReferences||n.createStylesWithVariableReferences,S=void 0!==n.prefixStylesWithThemeName&&n.prefixStylesWithThemeName,E=void 0!==n.renameExistingStylesAndVariables&&n.renameExistingStylesAndVariables,O=void 0!==n.removeStylesAndVariablesWithoutConnection&&n.removeStylesAndVariablesWithoutConnection,T=void 0===n.baseFontSize?la:n.baseFontSize,P=void 0===n.aliasBaseFontSize?la:n.aliasBaseFontSize,x=void 0!==n.inspectDeep&&n.inspectDeep,k=void 0!==n.shouldSwapStyles&&n.shouldSwapStyles,A=void 0!==n.shouldSwapFigmaModes&&n.shouldSwapFigmaModes,_=void 0!==n.sessionRecording&&n.sessionRecording,R=void 0!==n.storeTokenIdInJsonEditor&&n.storeTokenIdInJsonEditor,j=n.tokenFormat||Ha.Legacy,C=void 0!==n.autoApplyThemeOnDrop&&n.autoApplyThemeOnDrop,L=void 0!==n.seenGenericVersionedHeaderMigrationDialog&&n.seenGenericVersionedHeaderMigrationDialog,D=void 0!==n.seenTermsUpdate2026&&n.seenTermsUpdate2026,r={language:I,width:Math.max(300,o),height:Math.max(200,i),sessionRecording:_,showEmptyGroups:a,updateMode:u,updateOnChange:l,applyVariablesStylesOrRawValue:c,updateRemote:s,shouldUpdateStyles:f,variablesBoolean:h,variablesColor:p,variablesNumber:d,variablesString:y,stylesColor:v,stylesEffect:b,stylesTypography:g,ignoreFirstPartForStyles:m,createStylesWithVariableReferences:w,prefixStylesWithThemeName:S,renameExistingStylesAndVariables:E,removeStylesAndVariablesWithoutConnection:O,inspectDeep:x,shouldSwapStyles:k,shouldSwapFigmaModes:A,baseFontSize:T,aliasBaseFontSize:P,storeTokenIdInJsonEditor:R,tokenFormat:j,autoApplyThemeOnDrop:C,seenGenericVersionedHeaderMigrationDialog:L,seenTermsUpdate2026:D},t&&function(t){var r=t.language,n=t.sessionRecording,o=t.width,i=t.height,a=t.updateMode,u=t.updateOnChange,s=t.applyVariablesStylesOrRawValue,l=t.shouldUpdateStyles,c=t.showEmptyGroups,f=t.variablesColor,p=t.variablesNumber,h=t.variablesString,d=t.variablesBoolean,y=t.stylesColor,v=t.stylesTypography,b=t.stylesEffect,g=t.ignoreFirstPartForStyles,m=t.createStylesWithVariableReferences,w=t.prefixStylesWithThemeName,S=t.updateRemote,E=void 0===S||S,O=t.inspectDeep,x=t.shouldSwapStyles,k=t.shouldSwapFigmaModes,A=t.baseFontSize,T=t.aliasBaseFontSize,P=t.storeTokenIdInJsonEditor,I=t.tokenFormat,_=t.renameExistingStylesAndVariables,R=t.removeStylesAndVariablesWithoutConnection,N=t.seenGenericVersionedHeaderMigrationDialog,j=t.seenTermsUpdate2026;M({type:e.UI_SETTINGS,settings:{uiWindow:{width:o,height:i,isMinimized:!1},language:r,sessionRecording:n,updateMode:a,updateRemote:E,updateOnChange:u,applyVariablesStylesOrRawValue:s,shouldUpdateStyles:l,variablesColor:f,variablesBoolean:d,variablesNumber:p,variablesString:h,stylesColor:y,stylesEffect:b,stylesTypography:v,ignoreFirstPartForStyles:g,createStylesWithVariableReferences:m,prefixStylesWithThemeName:w,inspectDeep:O,shouldSwapStyles:x,shouldSwapFigmaModes:k,baseFontSize:A,aliasBaseFontSize:T,storeTokenIdInJsonEditor:P,tokenFormat:I,renameExistingStylesAndVariables:_,removeStylesAndVariablesWithoutConnection:R,seenGenericVersionedHeaderMigrationDialog:N,seenTermsUpdate2026:j}}),M({type:e.SHOW_EMPTY_GROUPS,showEmptyGroups:c})}(r)),[3,4];case 3:return B=G.sent(),console.error(B),N("There was an issue saving your credentials. Please try again."),[3,4];case 4:return[2,r]}}))})),Xf.apply(this,arguments)}function Zf(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Qf=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Zf(i,n,o,a,u,"next",e)}function u(e){Zf(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return Kf({showEmptyGroups:e.showEmptyGroups}),[2]}))}));return function(t){return e.apply(this,arguments)}}(),ep=Object.freeze({width:400,height:600});function tp(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var rp,np=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){tp(i,n,o,a,u,"next",e)}function u(e){tp(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,i,a,u;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){return o=null!==(n=null===(t=e.uiWindow)||void 0===t?void 0:t.width)&&void 0!==n?n:ep.width,a=null!==(i=null===(r=e.uiWindow)||void 0===r?void 0:r.height)&&void 0!==i?i:ep.height,Kf({width:o,height:a,updateMode:e.updateMode,language:e.language,updateRemote:e.updateRemote,updateOnChange:e.updateOnChange,shouldUpdateStyles:e.shouldUpdateStyles,applyVariablesStylesOrRawValue:e.applyVariablesStylesOrRawValue,ignoreFirstPartForStyles:e.ignoreFirstPartForStyles,createStylesWithVariableReferences:e.createStylesWithVariableReferences,prefixStylesWithThemeName:e.prefixStylesWithThemeName,renameExistingStylesAndVariables:e.renameExistingStylesAndVariables,removeStylesAndVariablesWithoutConnection:e.removeStylesAndVariablesWithoutConnection,variablesBoolean:e.variablesBoolean,variablesColor:e.variablesColor,variablesNumber:e.variablesNumber,variablesString:e.variablesString,stylesColor:e.stylesColor,stylesEffect:e.stylesEffect,stylesTypography:e.stylesTypography,inspectDeep:e.inspectDeep,baseFontSize:e.baseFontSize,sessionRecording:e.sessionRecording,aliasBaseFontSize:e.aliasBaseFontSize,shouldSwapStyles:e.shouldSwapStyles,shouldSwapFigmaModes:e.shouldSwapFigmaModes,storeTokenIdInJsonEditor:e.storeTokenIdInJsonEditor,autoApplyThemeOnDrop:e.autoApplyThemeOnDrop,seenGenericVersionedHeaderMigrationDialog:e.seenGenericVersionedHeaderMigrationDialog,seenTermsUpdate2026:e.seenTermsUpdate2026}),figma.ui.resize(o,a),Qe.inspectDeep!==e.inspectDeep&&(Qe.inspectDeep=e.inspectDeep,Ga()),Qe.autoApplyThemeOnDrop=null!==(u=e.autoApplyThemeOnDrop)&&void 0!==u&&u,[2]}))}));return function(t){return e.apply(this,arguments)}}();!function(e){e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left"}(rp||(rp={}));var op=["fillStyleId_original","textStyleId_original","effectStyleId_original"];function ip(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ap(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function up(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ap(i,n,o,a,u,"next",e)}function u(e){ap(i,n,o,a,u,"throw",e)}a(void 0)}))}}function sp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ip(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ip(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cp(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var fp=80,pp=12,hp={family:"Roboto Mono",style:"Regular"},dp={family:"Roboto Mono",style:"Bold"},yp={r:.1,g:.1,b:.1},vp={r:.482,g:.38,b:1},bp={r:1,g:1,b:1},gp={r:.9,g:.9,b:.9},mp={r:1,g:.839,b:.078};function wp(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0,width:0};if(0===n.width&&(n.width=e.width-fp),"parent"in e&&e.parent&&"DOCUMENT"!==e.parent.type){if("PAGE"!==e.parent.type)switch(r){case rp.TOP:case rp.BOTTOM:t+=e.y;break;case rp.RIGHT:t=e.parent.width-e.x-n.x-n.width;break;default:t+=e.x}return n.x+=e.x,n.y+=e.y,"PAGE"!==e.parent.type?wp(e.parent,t,r,n):{distance:t,position:n}}return{distance:t,position:n}}function Sp(e,t,r){var n=0,o=0,i=wp(e,fp,r),a=i.distance,u=i.position;switch(r){case rp.TOP:n=u.x+e.width/2-t.width/2,o=u.y-Math.abs(a)-t.height;break;case rp.RIGHT:n=u.x+e.width+Math.abs(a),o=u.y+e.height/2-t.height/2;break;case rp.BOTTOM:n=u.x+e.width/2-t.width/2,o=u.y+e.height+Math.abs(a);break;default:n=u.x-Math.abs(a)-t.width,o=u.y+e.height/2-t.height/2}return{x:n,y:o,distance:a}}function Ep(){return Ep=up((function(e,t){var r;return cp(this,(function(n){r=function(){var e=up((function(){return cp(this,(function(e){switch(e.label){case 0:return[4,figma.loadFontAsync(hp)];case 1:return e.sent(),[4,figma.loadFontAsync(dp)];case 2:return e.sent(),[2]}}))}));return function(){return e.apply(this,arguments)}}();try{r().then((function(){return function(e,t){var r=figma.currentPage.selection[0],n=figma.createFrame();n.layoutMode=["top","bottom"].includes(t)?"VERTICAL":"HORIZONTAL",n.fills=[],n.clipsContent=!1,n.primaryAxisSizingMode=n.counterAxisSizingMode="AUTO",n.primaryAxisAlignItems=n.counterAxisAlignItems="CENTER";var o=figma.createFrame();o.layoutMode="VERTICAL",o.paddingTop=o.paddingLeft=o.paddingBottom=o.paddingRight=pp,o.itemSpacing=pp/2,o.fills=[{type:"SOLID",color:yp}],o.strokes=[{type:"SOLID",color:vp}],o.strokeWeight=1,o.cornerRadius=pp/2,o.primaryAxisSizingMode=o.counterAxisSizingMode="AUTO",o.name="annotation-card",function(e,t){Object.entries(t).filter((function(e){var t=lp(e,1)[0];return!op.includes(t)})).forEach((function(t){var r=lp(t,2),n=r[0],o=r[1],i=figma.createFrame();i.layoutMode="HORIZONTAL",i.counterAxisAlignItems="CENTER",i.itemSpacing=pp/2,i.fills=[{visible:!1,type:"SOLID",color:yp}],i.primaryAxisSizingMode="AUTO",i.counterAxisSizingMode="AUTO";var a=figma.createText(),u=figma.createText();a.fontName=u.fontName=hp,a.fontSize=u.fontSize=pp,u.fills=[{type:"SOLID",color:mp}],"annoTitle"===n?(i.name="annotation-title",a.fontName=dp,a.characters=o,a.fills=[{type:"SOLID",color:bp}],i.appendChild(a)):(i.name="annotation-prop",a.characters="".concat(n,":"),a.fills=[{type:"SOLID",color:gp}],u.characters=o,i.appendChild(a),i.appendChild(u)),e.appendChild(i)}))}(o,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){sp(e,t,r[t])}))}return e}({annoTitle:r.name},e));var i=Sp(r,o,t);n.x=i.x,n.y=i.y,n.name="__[annotation]_".concat(r.name);var a=figma.createFrame();a.resize(.01,.01),a.fills=[],a.clipsContent=!1,a.name="arrow-anchor";var u=figma.createVector();switch(u.vectorPaths=[{windingRule:"NONE",data:"M 0 0 L ".concat(i.distance," 0")}],u.strokes=[{type:"SOLID",color:vp}],u.strokeWeight=2,u.strokeCap="ARROW_EQUILATERAL",t){case"top":u.rotation=-90;break;case"right":u.rotation=180;break;case"bottom":u.rotation=90}var s=JSON.parse(JSON.stringify(u.vectorNetwork));"strokeCap"in s.vertices[s.vertices.length-1]&&(s.vertices[s.vertices.length-1].strokeCap="ARROW_EQUILATERAL",s.vertices[0].strokeCap="ROUND"),u.vectorNetwork=s,a.appendChild(u),["top","left"].includes(t)?(n.appendChild(o),n.appendChild(a)):(n.appendChild(a),n.appendChild(o)),figma.currentPage.appendChild(n)}(e,t)}))}catch(e){console.log(e),N("There was an issue creating the annotation. Please try again.")}return[2]}))})),Ep.apply(this,arguments)}function Op(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var xp=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Op(i,n,o,a,u,"next",e)}function u(e){Op(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){return function(e,t){Ep.apply(this,arguments)}(e.tokens,e.direction),[2]}))}));return function(t){return e.apply(this,arguments)}}();function kp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=e.split(".").slice(r).map((function(e){return e.trim()}));"value"===n[n.length-1]&&n.pop();var o=n.join("/");return t?"".concat(t,"/").concat(o):o}function Ap(){var e=figma.getLocalPaintStyles(),t=new Map;return e.forEach((function(e){var r=e.name.split("/").map((function(e){return e.trim()})).join("/");return t.set(r,e)})),t}function Tp(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Pp(e,t,r,n){return Ip.apply(this,arguments)}function Ip(){return Ip=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Tp(i,n,o,a,u,"next",e)}function u(e){Tp(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i,a;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(u){switch(u.label){case 0:o=0,u.label=1;case 1:return o<e.length?(i=e.slice(o,o+t),[4,Promise.all(i.map(r))]):[3,5];case 2:return u.sent(),n?(a=Math.min(o+t,e.length),[4,n(a,e.length)]):[3,4];case 3:u.sent(),u.label=4;case 4:return o+=t,[3,1];case 5:return[2]}}))})),Ip.apply(this,arguments)}function _p(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Rp(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_p(i,n,o,a,u,"next",e)}function u(e){_p(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Np(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Mp(e){return jp.apply(this,arguments)}function jp(){return jp=Rp((function(e){var t,r,n,o,i,a,u=arguments;return Np(this,(function(s){switch(s.label){case 0:return t=u.length>1&&void 0!==u[1]&&u[1],r=u.length>2&&void 0!==u[2]&&u[2],n=u.length>3?u[3]:void 0,o=function(){var e=figma.getLocalPaintStyles(),t=new Map;return e.forEach((function(e){return t.set(e.id,e)})),t}(),i=Ap(),a={},[4,Pp(e,50,function(){var e=Rp((function(e){var n,u,s;return Np(this,(function(l){switch(l.label){case 0:return o.has(e.styleId)?(n=o.get(e.styleId),r&&(n.name=e.path),a[e.name]=n.id,[4,ol({target:n,token:e.name,key:"paints"})]):[3,2];case 1:return l.sent(),[3,6];case 2:return i.has(e.path)?(u=i.get(e.path),a[e.name]=u.id,[4,ol({target:u,token:e.name,key:"paints"})]):[3,4];case 3:return l.sent(),[3,6];case 4:return t?((s=figma.createPaintStyle()).name=e.path,a[e.name]=s.id,[4,ol({target:s,token:e.name,key:"paints"})]):[3,6];case 5:l.sent(),l.label=6;case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),n)];case 1:return s.sent(),[2,a]}}))})),jp.apply(this,arguments)}function Cp(){var e=figma.getLocalEffectStyles(),t=new Map;return e.forEach((function(e){var r=e.name.split("/").map((function(e){return e.trim()})).join("/");return t.set(r,e)})),t}function Lp(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Dp(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Lp(i,n,o,a,u,"next",e)}function u(e){Lp(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Bp(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Fp(e){return Gp.apply(this,arguments)}function Gp(){return Gp=Dp((function(e){var t,r,n,o,i,a,u,s,l,c;return Bp(this,(function(f){switch(f.label){case 0:return t=e.effectTokens,r=e.baseFontSize,n=e.shouldCreate,o=void 0!==n&&n,i=e.shouldRename,a=void 0!==i&&i,u=e.onProgress,s=function(){var e=figma.getLocalEffectStyles(),t=new Map;return e.forEach((function(e){return t.set(e.id,e)})),t}(),l=Cp(),c={},[4,Pp(t,50,function(){var e=Dp((function(e){var t,n,i;return Bp(this,(function(u){switch(u.label){case 0:return s.has(e.styleId)?(t=s.get(e.styleId),a&&(t.name=e.path),c[e.name]=t.id,[4,Oc(t,e.name,r)]):[3,2];case 1:return u.sent(),[3,6];case 2:return l.has(e.path)?(n=l.get(e.path),c[e.name]=n.id,[4,Oc(n,e.name,r)]):[3,4];case 3:return u.sent(),[3,6];case 4:return o?((i=figma.createEffectStyle()).name=e.path,c[e.name]=i.id,[4,Oc(i,e.name,r)]):[3,6];case 5:u.sent(),u.label=6;case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),u)];case 1:return f.sent(),[2,c]}}))})),Gp.apply(this,arguments)}function Up(){var e=figma.getLocalTextStyles(),t=new Map;return e.forEach((function(e){var r=e.name.split("/").map((function(e){return e.trim()})).join("/");return t.set(r,e)})),t}function Vp(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Wp(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Vp(i,n,o,a,u,"next",e)}function u(e){Vp(i,n,o,a,u,"throw",e)}a(void 0)}))}}function zp(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Hp(e,t){return $p.apply(this,arguments)}function $p(){return $p=Wp((function(e,t){var r,n,o,i,a,u,s=arguments;return zp(this,(function(l){switch(l.label){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],n=s.length>3&&void 0!==s[3]&&s[3],o=s.length>4?s[4]:void 0,c=figma.getLocalTextStyles(),f=new Map,c.forEach((function(e){return f.set(e.id,e)})),i=f,a=Up(),u={},[4,Pp(e,50,function(){var e=Wp((function(e){var o,s,l;return zp(this,(function(c){switch(c.label){case 0:return i.has(e.styleId)?(o=i.get(e.styleId),n&&(o.name=e.path),u[e.name]=o.id,[4,sc(o,e.name,t)]):[3,2];case 1:return c.sent(),[3,6];case 2:return a.has(e.path)?(s=a.get(e.path),u[e.name]=s.id,[4,sc(s,e.name,t)]):[3,4];case 3:return c.sent(),[3,6];case 4:return r?((l=figma.createTextStyle()).name=e.path,u[e.name]=l.id,[4,sc(l,e.name,t)]):[3,6];case 5:c.sent(),c.label=6;case 6:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),o)];case 1:return l.sent(),[2,u]}var c,f}))})),$p.apply(this,arguments)}function Yp(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kp(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function qp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jp(e,t){if(e){if("string"==typeof e)return Yp(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yp(e,t):void 0}}function Xp(e,t){return Zp.apply(this,arguments)}function Zp(){return Zp=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Kp(i,n,o,a,u,"next",e)}function u(e){Kp(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(r,n){var o,i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S=arguments;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(E){switch(E.label){case 0:return o=S.length>2&&void 0!==S[2]&&S[2],i=S.length>3?S[3]:void 0,[4,R.PluginInstance.message({type:t.GET_THEME_INFO})];case 1:return u=E.sent(),s=u.themes.filter((function(e){return Object.values(u.activeTheme).some((function(t){return t===e.id}))})).reverse(),l=r.map((function(e){var t,r,o=i||s.find((function(t){return Object.entries(t.selectedTokenSets).some((function(t){return function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||Jp(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,1)[0]===e.internal__Parent}))})),a=n.prefixStylesWithThemeName&&o?o.name:null,u=(null==n?void 0:n.ignoreFirstPartForStyles)&&e.name.split(".").length>1?1:0,l=kp(e.name,a,u);return t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){qp(e,t,r[t])}))}return e}({},e),r=null!=(r={path:l,value:"string"==typeof e.value?Eu(e.value,e.type,n.baseFontSize):e.value,styleId:(null==o?void 0:o.$figmaStyleReferences)?null==o?void 0:o.$figmaStyleReferences[e.name]:""})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t})).filter((function(e){return e.path})),c=l.filter((function(e){return[qa.COLOR].includes(e.type)})),f=l.filter((function(e){return[qa.TYPOGRAPHY].includes(e.type)})),p=l.filter((function(e){return[qa.BOX_SHADOW].includes(e.type)})),c||f||p?((h=c.length+f.length+p.length)>10&&M({type:e.START_JOB,job:{name:et.UI_CREATE_STYLES,timePerTask:75,totalTasks:h,completedTasks:0}}),d=0,y=h>10?function(t){d+=t,M({type:e.COMPLETE_JOB_TASKS,name:et.UI_CREATE_STYLES,count:d,timePerTask:75})}:void 0,v=[],c.length>0?[4,Mp(c,o,n.renameExistingStylesAndVariables,y)]:[3,3]):[2,{}];case 2:b=E.sent(),v.push(b),E.label=3;case 3:return f.length>0?[4,Hp(f,n.baseFontSize,o,n.renameExistingStylesAndVariables,y)]:[3,5];case 4:g=E.sent(),v.push(g),E.label=5;case 5:return p.length>0?[4,Fp({effectTokens:p,baseFontSize:n.baseFontSize,shouldCreate:o,shouldRename:n.renameExistingStylesAndVariables,onProgress:y})]:[3,7];case 6:m=E.sent(),v.push(m),E.label=7;case 7:return w=(a=Object).assign.apply(a,[{}].concat(function(e){if(Array.isArray(e))return Yp(e)}(O=v)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(O)||Jp(O)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),h>10&&M({type:e.COMPLETE_JOB,name:et.UI_CREATE_STYLES}),l.length<r.length&&o&&N('Some styles were ignored due to "Ignore first part of token name" export setting',{error:!0}),[2,w]}var O}))})),Zp.apply(this,arguments)}function Qp(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var eh=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Qp(i,n,o,a,u,"next",e)}function u(e){Qp(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,i;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,Yc(e.settings.prefixStylesWithThemeName)];case 1:return t=a.sent(),r=t.figmaVariableReferences,n=t.figmaStyleReferences,o=t.stylePathPrefix,Os.initiate({tokens:e.sourceTokens,variableReferences:r,styleReferences:n,stylePathPrefix:o,ignoreFirstPartForStyles:e.settings.ignoreFirstPartForStyles,createStylesWithVariableReferences:e.settings.createStylesWithVariableReferences,applyVariablesStylesOrRawValue:e.settings.applyVariablesStylesOrRawValue}),[4,Xp(e.tokens,e.settings,!0,e.selectedTheme)];case 2:return[2,{styleIds:a.sent()}];case 3:return i=a.sent(),console.error(i),[3,4];case 4:return[2,{styleIds:{}}]}}))}));return function(t){return e.apply(this,arguments)}}();const th={i8:"2.10.9"};var rh;function nh(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function oh(e){return ih.apply(this,arguments)}function ih(){return ih=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){nh(i,n,o,a,u,"next",e)}function u(e){nh(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(o){switch(o.label){case 0:return[4,ge.write(th.i8)];case 1:return o.sent(),e.storageProvider!==I.LOCAL?[3,9]:[4,Ce.write(!0)];case 2:return o.sent(),[4,ve.read(figma.root,!0)];case 3:return(t=o.sent())&&JSON.stringify(t)===JSON.stringify(e.themes)?[3,5]:[4,ve.write(e.themes)];case 4:o.sent(),o.label=5;case 5:return[4,ye.read(figma.root,!0)];case 6:return(r=o.sent())&&JSON.stringify(r)===JSON.stringify(e.tokens)?[3,8]:[4,ye.write(e.tokens)];case 7:o.sent(),o.label=8;case 8:return[3,14];case 9:return[4,wu()];case 10:return n=o.sent(),[4,hu.write("themes",n,e.compressedThemes)];case 11:return o.sent(),[4,hu.write("values",n,e.compressedTokens)];case 12:return o.sent(),[4,hu.write("checkForChanges",n,e.checkForChanges)];case 13:o.sent(),o.label=14;case 14:return[4,Se.write(e.usedTokenSets)];case 15:return o.sent(),[4,me.write(e.updatedAt)];case 16:return o.sent(),[4,be.write(e.activeTheme)];case 17:return o.sent(),[4,_e.write(e.collapsedTokenSets)];case 18:return o.sent(),[4,Ne.write(e.tokenFormat)];case 19:return o.sent(),[2]}}))})),ih.apply(this,arguments)}function ah(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function uh(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ah(i,n,o,a,u,"next",e)}function u(e){ah(i,n,o,a,u,"throw",e)}a(void 0)}))}}function sh(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function lh(e,t){return ch.apply(this,arguments)}function ch(){return(ch=uh((function(t,r){var n,o,i;return sh(this,(function(a){switch(a.label){case 0:return M({type:e.START_JOB,job:{name:et.PLUGIN_UPDATENODES,timePerTask:2,completedTasks:0,totalTasks:t.length}}),n=new Tt(et.PLUGIN_UPDATENODES),o=new Set,i=Os.getTokens(),t.forEach((function(e){var t=e.node,a=e.tokens;o.add(Et.schedule(uh((function(){var e,o;return sh(this,(function(u){try{e=Yu(i,a),o=Nu(i,a),_c({node:t,values:o,data:e,baseFontSize:r})}catch(e){console.log("got error",e)}finally{n.next(),n.reportIfNecessary()}return[2]}))}))))})),[4,Promise.all(o)];case 1:return a.sent(),M({type:e.COMPLETE_JOB,name:et.PLUGIN_UPDATENODES}),[2]}}))}))).apply(this,arguments)}function fh(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}!function(e){e.READ_WRITE_CREATE="Read/Write/Create",e.READ_WRITE="Read/Write",e.READ_ONLY="ReadOnly "}(rh||(rh={}));var ph={};function hh(e,t,r,n){return dh.apply(this,arguments)}function dh(){return dh=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){fh(i,n,o,a,u,"next",e)}function u(e){fh(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i,a,u,s,l,c;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(f){switch(f.label){case 0:return e?(o=e.split(",")[0].concat(","),(i=t[o])?(a=Object.keys(r[i]).find((function(e){return n.includes(e)})))?(u=r[i][a])?(s=u,ph.hasOwnProperty(u)?(s=ph[u],[3,3]):[3,1]):(console.warn("".concat(i," for theme ").concat(a," not found")),[2,null]):[3,4]:(console.warn("".concat(o," not found")),[2,null])):[2,null];case 1:return(l=u.match(/^S:([a-zA-Z0-9_-]+),/))?[4,new Promise((function(e){figma.importStyleByKeyAsync(l[1]).then((function(t){return e(t.id)})).catch((function(){return e(u)}))}))]:[3,3];case 2:s=f.sent(),ph[u]=s,f.label=3;case 3:return(c=figma.getStyleById(s))?[2,c.id]:(console.warn("figma style for ".concat(i," not found, ").concat(u)),[2,null]);case 4:return[2,null]}}))})),dh.apply(this,arguments)}function yh(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function vh(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){yh(i,n,o,a,u,"next",e)}function u(e){yh(i,n,o,a,u,"throw",e)}a(void 0)}))}}function bh(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function gh(e,t,r,n){return mh.apply(this,arguments)}function mh(){return mh=vh((function(e,t,r,n){var o,i,a,u,s,l,c,f,p,h,d;return bh(this,(function(y){switch(y.label){case 0:switch(y.trys.push([0,23,,24]),e.type){case"TEXT":return[3,1];case"ELLIPSE":case"LINE":case"POLYGON":case"STAR":case"RECTANGLE":case"VECTOR":case"COMPONENT":case"INSTANCE":case"COMPONENT_SET":case"FRAME":case"SECTION":case"BOOLEAN_OPERATION":return[3,10];case"GROUP":return[3,19]}return[3,21];case 1:return[4,hh(e.strokeStyleId,t,r,n)];case 2:return o=y.sent(),[4,hh(e.effectStyleId,t,r,n)];case 3:return i=y.sent(),o&&(e.strokeStyleId=o),i&&(e.effectStyleId=i),e.textStyleId===figma.mixed?[3,5]:[4,hh(e.textStyleId,t,r,n)];case 4:return(a=y.sent())&&(e.textStyleId=a),[3,6];case 5:e.getStyledTextSegments(["textStyleId"]).forEach(function(){var o=vh((function(o){var i;return bh(this,(function(a){switch(a.label){case 0:return[4,hh(o.textStyleId,t,r,n)];case 1:return(i=a.sent())&&e.setRangeTextStyleId(o.start,o.end,i),[2]}}))}));return function(e){return o.apply(this,arguments)}}()),y.label=6;case 6:return e.fillStyleId===figma.mixed?[3,8]:[4,hh(e.fillStyleId,t,r,n)];case 7:return(u=y.sent())&&(e.fillStyleId=u),[3,9];case 8:e.getStyledTextSegments(["fillStyleId"]).forEach(function(){var o=vh((function(o){var i;return bh(this,(function(a){switch(a.label){case 0:return[4,hh(o.fillStyleId,t,r,n)];case 1:return(i=a.sent())&&e.setRangeFillStyleId(o.start,o.end,i),[2]}}))}));return function(e){return o.apply(this,arguments)}}()),y.label=9;case 9:return[3,22];case 10:return(l="fillStyleId"in e)?[4,hh(e.fillStyleId,t,r,n)]:[3,12];case 11:l=y.sent(),y.label=12;case 12:return s=l,(f="strokeStyleId"in e)?[4,hh(e.strokeStyleId,t,r,n)]:[3,14];case 13:f=y.sent(),y.label=14;case 14:return c=f,(h="effectStyleId"in e)?[4,hh(e.effectStyleId,t,r,n)]:[3,16];case 15:h=y.sent(),y.label=16;case 16:return p=h,s&&(e.fillStyleId=s),c&&(e.strokeStyleId=c),p&&(e.effectStyleId=p),["COMPONENT","COMPONENT_SET","SECTION","INSTANCE","FRAME","BOOLEAN_OPERATION"].includes(e.type)&&"children"in e?[4,Promise.all(e.children.map((function(e){return gh(e,t,r,n)})))]:[3,18];case 17:y.sent(),y.label=18;case 18:return[3,22];case 19:return[4,Promise.all(e.children.map((function(e){return gh(e,t,r,n)})))];case 20:return y.sent(),[3,22];case 21:return[3,22];case 22:return[3,24];case 23:return d=y.sent(),console.error(d),[3,24];case 24:return[2]}}))})),mh.apply(this,arguments)}function wh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Sh(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Eh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||kh(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xh(e){return function(e){if(Array.isArray(e))return wh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||kh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kh(e,t){if(e){if("string"==typeof e)return wh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wh(e,t):void 0}}function Ah(e,t,r){return Th.apply(this,arguments)}function Th(){return Th=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Sh(i,n,o,a,u,"next",e)}function u(e){Sh(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r){var n,o,i;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){return n=t.filter((function(t){return Object.values(e).some((function(e){return e===t.id}))})).map((function(e){return e.name})),o=t.reduce((function(e,t){return t.$figmaStyleReferences&&Object.entries(t.$figmaStyleReferences).forEach((function(r){var n,o,i=Oh(r,2),a=i[0],u=i[1];e[a]=(n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Eh(e,t,r[t])}))}return e}({},e[a]),o=null!=(o=Eh({},t.name,u))?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))})),n)})),e}),{}),i=Object.entries(o).reduce((function(e,t){var r=Oh(t,2),n=r[0],o=r[1];return Object.values(o).forEach((function(t){e[t]=n})),e}),{}),n.length<1||!o||!i||function(e){var t=[];switch(e){case At.PAGE:var r;figma.currentPage.children&&(r=t).push.apply(r,xh(figma.currentPage.children));break;case At.SELECTION:var n;figma.currentPage.selection&&(n=t).push.apply(n,xh(figma.currentPage.selection));break;case At.DOCUMENT:var o;figma.root.children.forEach((function(e){return(o=t).push.apply(o,xh(e.children))}));break;default:var i;(i=t).push.apply(i,xh(figma.currentPage.children))}return t}(r).forEach((function(e){gh(e,i,o,n)})),[2]}))})),Th.apply(this,arguments)}function Ph(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ih(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function _h(e){return function(e){if(Array.isArray(e))return Ph(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ph(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ph(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rh(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function Nh(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mh(e){return null!=e&&"string"==typeof e.$figmaCollectionId&&"string"==typeof e.$figmaModeId}function jh(e,t,r){return Ch.apply(this,arguments)}function Ch(){return Ch=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ih(i,n,o,a,u,"next",e)}function u(e){Ih(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r){var n,o,i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O,x,k,A,T,P;return Rh(this,(function(I){switch(I.label){case 0:if(n=Object.values(e),o=n.map((function(e){return t.find((function(t){return t.id===e}))})).filter(Mh),0===o.length)return[2];i=[],a=!0,u=!1,s=void 0,I.label=1;case 1:I.trys.push([1,6,7,8]),l=function(){var e,t,r,n;return Rh(this,(function(o){switch(o.label){case 0:return e=f.value,t=e.$figmaCollectionId,r=e.$figmaModeId,[4,figma.variables.getVariableCollectionByIdAsync(t)];case 1:return(n=o.sent())?n.modes.some((function(e){return e.modeId===r}))?(i.push({collection:n,modeId:r}),[2]):(console.warn("Mode ".concat(r," no longer exists in collection ").concat(n.name,". Skipping this theme dimension.")),N('One of the modes linked to this theme no longer exists in collection "'.concat(n.name,'"'),{error:!0}),[2,"continue"]):(console.warn("Variable collection with ID ".concat(t," no longer exists. Skipping this theme dimension.")),N("One of the variable collections linked to this theme no longer exists",{error:!0}),[2,"continue"])}}))},c=o[Symbol.iterator](),I.label=2;case 2:return(a=(f=c.next()).done)?[3,5]:[5,Nh(l())];case 3:I.sent(),I.label=4;case 4:return a=!0,[3,2];case 5:return[3,8];case 6:return p=I.sent(),u=!0,s=p,[3,8];case 7:try{a||null==c.return||c.return()}finally{if(u)throw s}return[7];case 8:if(0===i.length)return[2];h=function(e){var t=[];switch(e){case At.PAGE:t.push(figma.currentPage);break;case At.SELECTION:var r;figma.currentPage.selection&&(r=t).push.apply(r,_h(figma.currentPage.selection));break;case At.DOCUMENT:var n;(n=t).push.apply(n,_h(figma.root.children));break;default:t.push(figma.currentPage)}return t}(r),d=!0,y=!1,v=void 0;try{for(b=h[Symbol.iterator]();!(d=(g=b.next()).done);d=!0){m=g.value,w=!0,S=!1,E=void 0;try{for(O=i[Symbol.iterator]();!(w=(x=O.next()).done);w=!0){k=x.value,A=k.collection,T=k.modeId;try{m.setExplicitVariableModeForCollection(A,T)}catch(e){_=e,R=Error,P=(null!=R&&"undefined"!=typeof Symbol&&R[Symbol.hasInstance]?R[Symbol.hasInstance](_):_ instanceof R)?e.message:String(e),console.warn("Failed to set variable mode for node ".concat(m.name,":"),e),B("Unexpected error in swapFigmaModes for node ".concat(m.name,": ").concat(P),{collectionId:A.id,modeId:T,nodeType:m.type})}}}catch(e){S=!0,E=e}finally{try{w||null==O.return||O.return()}finally{if(S)throw E}}}}catch(e){y=!0,v=e}finally{try{d||null==b.return||b.return()}finally{if(y)throw v}}return[2]}var _,R}))})),Ch.apply(this,arguments)}function Lh(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Dh=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Lh(i,n,o,a,u,"next",e)}function u(e){Lh(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,i,a,u;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){switch(s.label){case 0:return t=[],e.tokenValues&&e.updatedAt?[4,oh({tokens:e.tokenValues,themes:e.themes,compressedTokens:e.compressedTokens,compressedThemes:e.compressedThemes,activeTheme:e.activeTheme,usedTokenSets:e.usedTokenSet,updatedAt:e.updatedAt,checkForChanges:null!==(r=e.checkForChanges)&&void 0!==r&&r,collapsedTokenSets:e.collapsedTokenSets,tokenFormat:e.tokenFormat||Ha.Legacy,storageProvider:e.storageProvider,storageSize:e.storageSize})]:[3,2];case 1:s.sent(),s.label=2;case 2:return e.tokens?[4,Yc(e.settings.prefixStylesWithThemeName)]:[3,11];case 3:return n=s.sent(),o=n.figmaVariableReferences,i=n.figmaStyleReferences,a=n.stylePathPrefix,Os.initiate({tokens:e.tokens,variableReferences:o,styleReferences:i,stylePathPrefix:a,ignoreFirstPartForStyles:e.settings.ignoreFirstPartForStyles,createStylesWithVariableReferences:e.settings.createStylesWithVariableReferences,applyVariablesStylesOrRawValue:e.settings.applyVariablesStylesOrRawValue}),e.settings.shouldUpdateStyles?[4,Xp(e.tokens,e.settings,!1)]:[3,5];case 4:s.sent(),s.label=5;case 5:return[4,Mt.findBaseNodesWithData({updateMode:e.settings.updateMode})];case 6:return[4,lh(t=s.sent(),String(e.settings.baseFontSize||16))];case 7:return s.sent(),u=e.settings.applyVariablesStylesOrRawValue===ns.VARIABLES_STYLES,e.activeTheme&&e.themes&&e.settings.shouldSwapStyles&&u?[4,Ah(e.activeTheme,e.themes,e.settings.updateMode)]:[3,9];case 8:s.sent(),s.label=9;case 9:return e.activeTheme&&e.themes&&e.settings.shouldSwapFigmaModes?[4,jh(e.activeTheme,e.themes,e.settings.updateMode)]:[3,11];case 10:s.sent(),s.label=11;case 11:return[2,{nodes:t.length}]}}))}));return function(t){return e.apply(this,arguments)}}();function Bh(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Fh=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Bh(i,n,o,a,u,"next",e)}function u(e){Bh(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,Pe.write(e.licenseKey)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function Gh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Uh(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Vh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Vh(e,t,r[t])}))}return e}var zh=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Uh(i,n,o,a,u,"next",e)}function u(e){Uh(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,a,u,s,l,c,f,p,h,d,y,v;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(b){return t=e.theme,r=e.tokens,n=e.category,o=e.settings,u=Wh({},null!==(a=t.$figmaStyleReferences)&&void 0!==a?a:{}),s=null==o?void 0:o.ignoreFirstPartForStyles,l=null==o?void 0:o.prefixStylesWithThemeName,c=Ap(),f=Up(),p=Cp(),h=[],Object.entries(t.selectedTokenSets).forEach((function(e){var t,n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gh(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),o=n[0];n[1]===rc.ENABLED&&(h=h.concat(null!==(t=r[o])&&void 0!==t?t:[]))})),d="all"===n?[qa.COLOR,qa.TYPOGRAPHY,qa.BOX_SHADOW]:i(["colors"===n?qa.COLOR:null,"typography"===n?qa.TYPOGRAPHY:null,"effects"===n?qa.BOX_SHADOW:null]),h=h.filter((function(e){return d.includes(e.type)})),y=l?t.name:null,v=s?1:0,h.forEach((function(e){var t=kp(e.name,y,v);if(e.type===qa.COLOR){var r=c.get(t);r&&(u[e.name]=r.id)}else if(e.type===qa.TYPOGRAPHY){var n=f.get(t);n&&(u[e.name]=n.id)}else if(e.type===qa.BOX_SHADOW){var o=p.get(t);o&&(u[e.name]=o.id)}})),[2,(g=Wh({},t),m={$figmaStyleReferences:u},m=null!=m?m:{},Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(m)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(m)).forEach((function(e){Object.defineProperty(g,e,Object.getOwnPropertyDescriptor(m,e))})),g)];var g,m}))}));return function(t){return e.apply(this,arguments)}}();function Hh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $h(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Yh(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){$h(i,n,o,a,u,"next",e)}function u(e){$h(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Kh(e){return function(e){if(Array.isArray(e))return Hh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Hh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hh(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qh(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var Jh=function(){var e=Yh((function(e){var t;return qh(this,(function(r){switch(r.label){case 0:return t=Kh(figma.getLocalPaintStyles()).concat(Kh(figma.getLocalEffectStyles()),Kh(figma.getLocalTextStyles())),[4,Promise.all(e.styleIds.map(function(){var e=Yh((function(e){var r,n,o,i;return qh(this,(function(a){switch(a.label){case 0:if(!(r=e.match(/^S:([a-zA-Z0-9_-]+),/)))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,figma.importStyleByKeyAsync(r[1])];case 2:return n=a.sent(),[2,{id:e,key:n.key,name:n.name}];case 3:return o=a.sent(),console.error(o),[3,4];case 4:return(i=t.find((function(t){return t.id===e})))?[2,{id:e,key:i.key,name:i.name}]:[2,{id:e}]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 1:return[2,{resolvedValues:r.sent()}]}}))}));return function(t){return e.apply(this,arguments)}}();function Xh(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zh(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Qh(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||td(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ed(e){return function(e){if(Array.isArray(e))return Xh(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||td(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function td(e,t){if(e){if("string"==typeof e)return Xh(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xh(e,t):void 0}}function rd(e,t){return nd.apply(this,arguments)}function nd(){return nd=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Zh(i,n,o,a,u,"next",e)}function u(e){Zh(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,r){var n,o,i,a,u,s,l,c,f;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(p){switch(p.label){case 0:return[4,Promise.all([figma.getLocalEffectStylesAsync(),figma.getLocalPaintStylesAsync(),figma.getLocalTextStylesAsync()])];case 1:return n=Qh.apply(void 0,[p.sent(),3]),o=n[0],i=n[1],a=n[2],u=ed(o).concat(ed(i),ed(a)),[4,R.PluginInstance.message({type:t.GET_THEME_INFO})];case 2:return s=p.sent(),l=s.themes.filter((function(e){return Object.entries(e.selectedTokenSets).some((function(e){var t=Qh(e,2),n=t[0],o=t[1];return n===r&&o===rc.ENABLED}))})).map((function(e){return e.name})),c=[],f=[],e.forEach((function(e){c=c.concat(l.map((function(t){return kp(e.oldName,t)}))).concat(l.map((function(t){return kp(e.oldName,t,1)}))).concat(l.map((function(){return kp(e.oldName,null,1)}))).concat(kp(e.oldName)),f=f.concat(l.map((function(t){return kp(e.newName,t)}))).concat(l.map((function(t){return kp(e.newName,t,1)}))).concat(l.map((function(){return kp(e.newName,null,1)}))).concat(kp(e.newName))})),[2,u.filter((function(e){return c.some((function(t){if(nu(t,e)){var r=c.findIndex((function(e){return e===t}));return e.name=f[r],!0}return!1}))})).map((function(e){return e.id}))]}}))})),nd.apply(this,arguments)}function od(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var id=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){od(i,n,o,a,u,"next",e)}function u(e){od(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t={},[4,rd(e.tokensToRename,e.parent)];case 1:return[2,(t.styleIds=n.sent(),t)];case 2:return r=n.sent(),console.error(r),[3,3];case 3:return[2,{styleIds:[]}]}}))}));return function(t){return e.apply(this,arguments)}}();function ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ud(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function sd(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ud(i,n,o,a,u,"next",e)}function u(e){ud(i,n,o,a,u,"throw",e)}a(void 0)}))}}function ld(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var cd=function(){var t=sd((function(t){var r,n,o,i,a,u,s,l,c;return ld(this,(function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),r=t.oldName,n=t.newName,o=t.useRegex,[4,Mt.findBaseNodesWithData({updateMode:t.updateMode})];case 1:return i=f.sent(),a=ue.TOKENS,M({type:e.START_JOB,job:{name:et.PLUGIN_UPDATEPLUGINDATA,timePerTask:2,completedTasks:0,totalTasks:i.length}}),u=new Tt(et.PLUGIN_UPDATEPLUGINDATA),s=new Set,l=/^\/(.*)\/([gimsuy]*)$/,i.forEach((function(e){var t=e.node,i=e.tokens;s.add(Et.schedule(sd((function(){return ld(this,(function(e){return Object.entries(i).forEach((function(e){var i=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ad(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ad(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),u=i[0],s=i[1];if(o){var c=r.match(l),f=c?new RegExp(c[1],c[2]):new RegExp(r,"g");if(f.test(s)){var p=s.replace(f,n),h=JSON.stringify(p);t.setSharedPluginData(a,u,h)}}else if(s.includes(r)){var d=s.split(r).join(n),y=JSON.stringify(d);t.setSharedPluginData(a,u,y)}})),u.next(),u.reportIfNecessary(),[2]}))}))))})),[4,Promise.all(s)];case 2:return f.sent(),M({type:e.COMPLETE_JOB,name:et.PLUGIN_UPDATEPLUGINDATA}),[4,Ga()];case 3:return f.sent(),[3,5];case 4:return c=f.sent(),console.error(c),[3,5];case 5:return[2]}}))}));return function(e){return t.apply(this,arguments)}}();function fd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pd(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function hd(e){return function(e){if(Array.isArray(e))return fd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dd(e,t){if(e){if("string"==typeof e)return fd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fd(e,t):void 0}}function yd(e){return vd.apply(this,arguments)}function vd(){return vd=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){pd(i,n,o,a,u,"next",e)}function u(e){pd(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var r,n,o,i,a,u,s;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(l){switch(l.label){case 0:return r=figma.getLocalEffectStyles(),n=figma.getLocalPaintStyles(),o=figma.getLocalTextStyles(),i=hd(r).concat(hd(n),hd(o)),[4,R.PluginInstance.message({type:t.GET_THEME_INFO})];case 1:return a=l.sent(),u=a.themes.filter((function(t){return Object.entries(t.selectedTokenSets).some((function(t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||dd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=r[0],o=r[1];return n===e.parent&&o===rc.ENABLED}))})).map((function(e){return e.name})),s=u.map((function(t){return kp(e.path,t)})),[2,i.filter((function(e){return s.some((function(t){return nu(t,e)}))})).map((function(e){return e.remove(),e.id}))]}}))})),vd.apply(this,arguments)}function bd(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var gd=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){bd(i,n,o,a,u,"next",e)}function u(e){bd(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t={},[4,yd(e.token)];case 1:return[2,(t.styleIds=n.sent(),t)];case 2:return r=n.sent(),console.error(r),[3,3];case 3:return[2,{styleIds:[]}]}}))}));return function(t){return e.apply(this,arguments)}}();function md(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var wd=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){md(i,n,o,a,u,"next",e)}function u(e){md(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,Ie.write(e.auth)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function Sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ed(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Od(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ed(i,n,o,a,u,"next",e)}function u(e){Ed(i,n,o,a,u,"throw",e)}a(void 0)}))}}function xd(e,t){if(e){if("string"==typeof e)return Sd(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Sd(e,t):void 0}}function kd(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var Ad=function(){var t=Od((function(t){var r,n,o;return kd(this,(function(i){switch(i.label){case 0:return r={},t.tokensToSet.forEach((function(e){e.nodes.forEach((function(t){var n,o=t.id;r[o]=r[o]?(n=r[o],function(e){if(Array.isArray(e))return Sd(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||xd(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).concat([e.property]):[e.property]}))})),M({type:e.START_JOB,job:{name:et.PLUGIN_UPDATEPLUGINDATA,timePerTask:2,completedTasks:0,totalTasks:Object.keys(r).length}}),n=new Tt(et.PLUGIN_UPDATEPLUGINDATA),o=new Set,Object.entries(r).forEach((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||xd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),r=t[0],i=t[1];o.add(Et.schedule(Od((function(){return kd(this,(function(e){return i.forEach(function(){var e=Od((function(e){var t;return kd(this,(function(n){switch(n.label){case 0:return(t=figma.getNodeById(r))?[4,Da({nodes:[t],key:e})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()),n.next(),n.reportIfNecessary(),[2]}))}))))})),[4,Promise.all(o)];case 1:return i.sent(),M({type:e.COMPLETE_JOB,name:et.PLUGIN_UPDATEPLUGINDATA}),Ga(),[2]}}))}));return function(e){return t.apply(this,arguments)}}();function Td(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Pd=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Td(i,n,o,a,u,"next",e)}function u(e){Td(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){switch(e.label){case 0:return[4,figma.listAvailableFontsAsync()];case 1:return[2,{fonts:e.sent()}]}}))}));return function(){return e.apply(this,arguments)}}();function Id(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var _d=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Id(i,n,o,a,u,"next",e)}function u(e){Id(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,figma.variables.getLocalVariableCollectionsAsync()];case 1:return[2,{collections:t.sent().map((function(e){return{id:e.id,name:e.name||"Collection ".concat(e.id.slice(0,8)),modes:e.modes.map((function(e){return{modeId:e.modeId,name:e.name||"Mode ".concat(e.modeId.slice(0,8))}}))}}))}];case 2:return e=t.sent(),console.error("Error getting variable collections:",e),[2,{collections:[]}];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),Rd=new oe(Y.CLIENT_STORAGE,"usedEmail");function Nd(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Md=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Nd(i,n,o,a,u,"next",e)}function u(e){Nd(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return[4,Rd.write(null!==(t=e.email)&&void 0!==t?t:null)];case 1:return r.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),jd=[qa.DIMENSION,qa.BORDER_RADIUS,qa.BORDER_WIDTH,qa.SPACING,qa.SIZING,qa.BOOLEAN,qa.COLOR,qa.NUMBER,qa.TEXT,qa.FONT_FAMILIES,qa.FONT_SIZES,qa.FONT_WEIGHTS,qa.LINE_HEIGHTS,qa.LETTER_SPACING,qa.PARAGRAPH_SPACING,qa.PARAGRAPH_INDENT,qa.OPACITY];function Cd(e){return null==e}var Ld={isNothing:Cd,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:Cd(e)?[]:[e]},repeat:function(e,t){var r,n="";for(r=0;r<t;r+=1)n+=e;return n},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var r,n,o,i;if(t)for(r=0,n=(i=Object.keys(t)).length;r<n;r+=1)e[o=i[r]]=t[o];return e}};function Dd(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function Bd(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Dd(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}Bd.prototype=Object.create(Error.prototype),Bd.prototype.constructor=Bd,Bd.prototype.toString=function(e){return this.name+": "+Dd(this,e)};var Fd=Bd,Gd=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ud=["scalar","sequence","mapping"],Vd=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===Gd.indexOf(t))throw new Fd('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(r){e[r].forEach((function(e){t[String(e)]=r}))})),t}(t.styleAliases||null),-1===Ud.indexOf(this.kind))throw new Fd('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function Wd(e,t){var r=[];return e[t].forEach((function(e){var t=r.length;r.forEach((function(r,n){r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi&&(t=n)})),r[t]=e})),r}function zd(e){return this.extend(e)}zd.prototype.extend=function(e){var t=[],r=[];if(e instanceof Vd)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new Fd("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof Vd))throw new Fd("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new Fd("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new Fd("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),r.forEach((function(e){if(!(e instanceof Vd))throw new Fd("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var n=Object.create(zd.prototype);return n.implicit=(this.implicit||[]).concat(t),n.explicit=(this.explicit||[]).concat(r),n.compiledImplicit=Wd(n,"implicit"),n.compiledExplicit=Wd(n,"explicit"),n.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function n(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(n);return r}(n.compiledImplicit,n.compiledExplicit),n};var Hd=zd,$d=new Vd("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),Yd=new Vd("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),Kd=new Vd("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),qd=new Hd({explicit:[$d,Yd,Kd]}),Jd=new Vd("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),Xd=new Vd("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Zd(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Qd(e){return 48<=e&&e<=55}function ey(e){return 48<=e&&e<=57}var ty=new Vd("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r=e.length,n=0,o=!1;if(!r)return!1;if("-"!==(t=e[n])&&"+"!==t||(t=e[++n]),"0"===t){if(n+1===r)return!0;if("b"===(t=e[++n])){for(n++;n<r;n++)if("_"!==(t=e[n])){if("0"!==t&&"1"!==t)return!1;o=!0}return o&&"_"!==t}if("x"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!Zd(e.charCodeAt(n)))return!1;o=!0}return o&&"_"!==t}if("o"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!Qd(e.charCodeAt(n)))return!1;o=!0}return o&&"_"!==t}}if("_"===t)return!1;for(;n<r;n++)if("_"!==(t=e[n])){if(!ey(e.charCodeAt(n)))return!1;o=!0}return!(!o||"_"===t)},construct:function(e){var t,r=e,n=1;if(-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(n=-1),t=(r=r.slice(1))[0]),"0"===r)return 0;if("0"===t){if("b"===r[1])return n*parseInt(r.slice(2),2);if("x"===r[1])return n*parseInt(r.slice(2),16);if("o"===r[1])return n*parseInt(r.slice(2),8)}return n*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!Ld.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),ry=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),ny=/^[-+]?[0-9]+e/,oy=new Vd("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!ry.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||Ld.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ld.isNegativeZero(e))return"-0.0";return r=e.toString(10),ny.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"}),iy=qd.extend({implicit:[Jd,Xd,ty,oy]}),ay=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),uy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),sy=new Vd("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==ay.exec(e)||null!==uy.exec(e))},construct:function(e){var t,r,n,o,i,a,u,s,l=0,c=null;if(null===(t=ay.exec(e))&&(t=uy.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,o=+t[3],!t[4])return new Date(Date.UTC(r,n,o));if(i=+t[4],a=+t[5],u=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(c=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(c=-c)),s=new Date(Date.UTC(r,n,o,i,a,u,l)),c&&s.setTime(s.getTime()-c),s},instanceOf:Date,represent:function(e){return e.toISOString()}}),ly=new Vd("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),cy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",fy=new Vd("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,n=0,o=e.length,i=cy;for(r=0;r<o;r++)if(!((t=i.indexOf(e.charAt(r)))>64)){if(t<0)return!1;n+=6}return n%8==0},construct:function(e){var t,r,n=e.replace(/[\r\n=]/g,""),o=n.length,i=cy,a=0,u=[];for(t=0;t<o;t++)t%4==0&&t&&(u.push(a>>16&255),u.push(a>>8&255),u.push(255&a)),a=a<<6|i.indexOf(n.charAt(t));return 0==(r=o%4*6)?(u.push(a>>16&255),u.push(a>>8&255),u.push(255&a)):18===r?(u.push(a>>10&255),u.push(a>>2&255)):12===r&&u.push(a>>4&255),new Uint8Array(u)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,r,n="",o=0,i=e.length,a=cy;for(t=0;t<i;t++)t%3==0&&t&&(n+=a[o>>18&63],n+=a[o>>12&63],n+=a[o>>6&63],n+=a[63&o]),o=(o<<8)+e[t];return 0==(r=i%3)?(n+=a[o>>18&63],n+=a[o>>12&63],n+=a[o>>6&63],n+=a[63&o]):2===r?(n+=a[o>>10&63],n+=a[o>>4&63],n+=a[o<<2&63],n+=a[64]):1===r&&(n+=a[o>>2&63],n+=a[o<<4&63],n+=a[64],n+=a[64]),n}}),py=Object.prototype.hasOwnProperty,hy=Object.prototype.toString,dy=new Vd("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,o,i,a=[],u=e;for(t=0,r=u.length;t<r;t+=1){if(n=u[t],i=!1,"[object Object]"!==hy.call(n))return!1;for(o in n)if(py.call(n,o)){if(i)return!1;i=!0}if(!i)return!1;if(-1!==a.indexOf(o))return!1;a.push(o)}return!0},construct:function(e){return null!==e?e:[]}}),yy=Object.prototype.toString,vy=new Vd("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,n,o,i,a=e;for(i=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],"[object Object]"!==yy.call(n))return!1;if(1!==(o=Object.keys(n)).length)return!1;i[t]=[o[0],n[o[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,n,o,i,a=e;for(i=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],o=Object.keys(n),i[t]=[o[0],n[o[0]]];return i}}),by=Object.prototype.hasOwnProperty,gy=new Vd("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(by.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),my=iy.extend({implicit:[sy,ly],explicit:[fy,dy,vy,gy]});function wy(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}Object.prototype.hasOwnProperty;for(var Sy=new Array(256),Ey=new Array(256),Oy=0;Oy<256;Oy++)Sy[Oy]=wy(Oy)?1:0,Ey[Oy]=wy(Oy);var xy=Object.prototype.toString,ky=Object.prototype.hasOwnProperty,Ay=65279,Ty=9,Py=10,Iy=13,_y=32,Ry=33,Ny=34,My=35,jy=37,Cy=38,Ly=39,Dy=42,By=44,Fy=45,Gy=58,Uy=61,Vy=62,Wy=63,zy=64,Hy=91,$y=93,Yy=96,Ky=123,qy=124,Jy=125,Xy={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Zy=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Qy=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function ev(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else{if(!(e<=4294967295))throw new Fd("code point within a string may not be greater than 0xFFFFFFFF");r="U",n=8}return"\\"+r+Ld.repeat("0",n-t.length)+t}var tv=2;function rv(e){this.schema=e.schema||my,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Ld.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,n,o,i,a,u,s;if(null===t)return{};for(r={},o=0,i=(n=Object.keys(t)).length;o<i;o+=1)a=n[o],u=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(s=e.compiledTypeMap.fallback[a])&&ky.call(s.styleAliases,u)&&(u=s.styleAliases[u]),r[a]=u;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?tv:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function nv(e,t){for(var r,n=Ld.repeat(" ",t),o=0,i=-1,a="",u=e.length;o<u;)-1===(i=e.indexOf("\n",o))?(r=e.slice(o),o=u):(r=e.slice(o,i+1),o=i+1),r.length&&"\n"!==r&&(a+=n),a+=r;return a}function ov(e,t){return"\n"+Ld.repeat(" ",e.indent*t)}function iv(e){return e===_y||e===Ty}function av(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==Ay||65536<=e&&e<=1114111}function uv(e){return av(e)&&e!==Ay&&e!==Iy&&e!==Py}function sv(e,t,r){var n=uv(e),o=n&&!iv(e);return(r?n:n&&e!==By&&e!==Hy&&e!==$y&&e!==Ky&&e!==Jy)&&e!==My&&!(t===Gy&&!o)||uv(t)&&!iv(t)&&e===My||t===Gy&&o}function lv(e,t){var r,n=e.charCodeAt(t);return n>=55296&&n<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(n-55296)+r-56320+65536:n}function cv(e){return/^\n* /.test(e)}var fv=1,pv=2,hv=3,dv=4,yv=5;function vv(e,t,r,n,o){e.dump=function(){if(0===t.length)return e.quotingType===tv?'""':"''";if(!e.noCompatMode&&(-1!==Zy.indexOf(t)||Qy.test(t)))return e.quotingType===tv?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,r),a=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),u=n||e.flowLevel>-1&&r>=e.flowLevel;switch(function(e,t,r,n,o,i,a,u){var s,l=0,c=null,f=!1,p=!1,h=-1!==n,d=-1,y=function(e){return av(e)&&e!==Ay&&!iv(e)&&e!==Fy&&e!==Wy&&e!==Gy&&e!==By&&e!==Hy&&e!==$y&&e!==Ky&&e!==Jy&&e!==My&&e!==Cy&&e!==Dy&&e!==Ry&&e!==qy&&e!==Uy&&e!==Vy&&e!==Ly&&e!==Ny&&e!==jy&&e!==zy&&e!==Yy}(lv(e,0))&&function(e){return!iv(e)&&e!==Gy}(lv(e,e.length-1));if(t||a)for(s=0;s<e.length;l>=65536?s+=2:s++){if(!av(l=lv(e,s)))return yv;y=y&&sv(l,c,u),c=l}else{for(s=0;s<e.length;l>=65536?s+=2:s++){if((l=lv(e,s))===Py)f=!0,h&&(p=p||s-d-1>n&&" "!==e[d+1],d=s);else if(!av(l))return yv;y=y&&sv(l,c,u),c=l}p=p||h&&s-d-1>n&&" "!==e[d+1]}return f||p?r>9&&cv(e)?yv:a?i===tv?yv:pv:p?dv:hv:!y||a||o(e)?i===tv?yv:pv:fv}(t,u,e.indent,a,(function(t){return function(e,t){var r,n;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!n,o)){case fv:return t;case pv:return"'"+t.replace(/'/g,"''")+"'";case hv:return"|"+bv(t,e.indent)+gv(nv(t,i));case dv:return">"+bv(t,e.indent)+gv(nv(function(e,t){for(var r,n,o,i=/(\n+)([^\n]*)/g,a=(o=-1!==(o=e.indexOf("\n"))?o:e.length,i.lastIndex=o,mv(e.slice(0,o),t)),u="\n"===e[0]||" "===e[0];n=i.exec(e);){var s=n[1],l=n[2];r=" "===l[0],a+=s+(u||r||""===l?"":"\n")+mv(l,t),u=r}return a}(t,a),i));case yv:return'"'+function(e){for(var t,r="",n=0,o=0;o<e.length;n>=65536?o+=2:o++)n=lv(e,o),!(t=Xy[n])&&av(n)?(r+=e[o],n>=65536&&(r+=e[o+1])):r+=t||ev(n);return r}(t)+'"';default:throw new Fd("impossible error: invalid scalar style")}}()}function bv(e,t){var r=cv(e)?String(t):"",n="\n"===e[e.length-1];return r+(!n||"\n"!==e[e.length-2]&&"\n"!==e?n?"":"-":"+")+"\n"}function gv(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function mv(e,t){if(""===e||" "===e[0])return e;for(var r,n,o=/ [^ ]/g,i=0,a=0,u=0,s="";r=o.exec(e);)(u=r.index)-i>t&&(n=a>i?a:u,s+="\n"+e.slice(i,n),i=n+1),a=u;return s+="\n",e.length-i>t&&a>i?s+=e.slice(i,a)+"\n"+e.slice(a+1):s+=e.slice(i),s.slice(1)}function wv(e,t,r,n){var o,i,a,u="",s=e.tag;for(o=0,i=r.length;o<i;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),(Ev(e,t+1,a,!0,!0,!1,!0)||void 0===a&&Ev(e,t+1,null,!0,!0,!1,!0))&&(n&&""===u||(u+=ov(e,t)),e.dump&&Py===e.dump.charCodeAt(0)?u+="-":u+="- ",u+=e.dump);e.tag=s,e.dump=u||"[]"}function Sv(e,t,r){var n,o,i,a,u,s;for(i=0,a=(o=r?e.explicitTypes:e.implicitTypes).length;i<a;i+=1)if(((u=o[i]).instanceOf||u.predicate)&&(!u.instanceOf||"object"==typeof t&&t instanceof u.instanceOf)&&(!u.predicate||u.predicate(t))){if(r?u.multi&&u.representName?e.tag=u.representName(t):e.tag=u.tag:e.tag="?",u.represent){if(s=e.styleMap[u.tag]||u.defaultStyle,"[object Function]"===xy.call(u.represent))n=u.represent(t,s);else{if(!ky.call(u.represent,s))throw new Fd("!<"+u.tag+'> tag resolver accepts not "'+s+'" style');n=u.represent[s](t,s)}e.dump=n}return!0}return!1}function Ev(e,t,r,n,o,i,a){e.tag=null,e.dump=r,Sv(e,r,!1)||Sv(e,r,!0);var u,s=xy.call(e.dump),l=n;n&&(n=e.flowLevel<0||e.flowLevel>t);var c,f,p="[object Object]"===s||"[object Array]"===s;if(p&&(f=-1!==(c=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||f||2!==e.indent&&t>0)&&(o=!1),f&&e.usedDuplicates[c])e.dump="*ref_"+c;else{if(p&&f&&!e.usedDuplicates[c]&&(e.usedDuplicates[c]=!0),"[object Object]"===s)n&&0!==Object.keys(e.dump).length?(function(e,t,r,n){var o,i,a,u,s,l,c="",f=e.tag,p=Object.keys(r);if(!0===e.sortKeys)p.sort();else if("function"==typeof e.sortKeys)p.sort(e.sortKeys);else if(e.sortKeys)throw new Fd("sortKeys must be a boolean or a function");for(o=0,i=p.length;o<i;o+=1)l="",n&&""===c||(l+=ov(e,t)),u=r[a=p[o]],e.replacer&&(u=e.replacer.call(r,a,u)),Ev(e,t+1,a,!0,!0,!0)&&((s=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&Py===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,s&&(l+=ov(e,t)),Ev(e,t+1,u,!0,s)&&(e.dump&&Py===e.dump.charCodeAt(0)?l+=":":l+=": ",c+=l+=e.dump));e.tag=f,e.dump=c||"{}"}(e,t,e.dump,o),f&&(e.dump="&ref_"+c+e.dump)):(function(e,t,r){var n,o,i,a,u,s="",l=e.tag,c=Object.keys(r);for(n=0,o=c.length;n<o;n+=1)u="",""!==s&&(u+=", "),e.condenseFlow&&(u+='"'),a=r[i=c[n]],e.replacer&&(a=e.replacer.call(r,i,a)),Ev(e,t,i,!1,!1)&&(e.dump.length>1024&&(u+="? "),u+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Ev(e,t,a,!1,!1)&&(s+=u+=e.dump));e.tag=l,e.dump="{"+s+"}"}(e,t,e.dump),f&&(e.dump="&ref_"+c+" "+e.dump));else if("[object Array]"===s)n&&0!==e.dump.length?(e.noArrayIndent&&!a&&t>0?wv(e,t-1,e.dump,o):wv(e,t,e.dump,o),f&&(e.dump="&ref_"+c+e.dump)):(function(e,t,r){var n,o,i,a="",u=e.tag;for(n=0,o=r.length;n<o;n+=1)i=r[n],e.replacer&&(i=e.replacer.call(r,String(n),i)),(Ev(e,t,i,!1,!1)||void 0===i&&Ev(e,t,null,!1,!1))&&(""!==a&&(a+=","+(e.condenseFlow?"":" ")),a+=e.dump);e.tag=u,e.dump="["+a+"]"}(e,t,e.dump),f&&(e.dump="&ref_"+c+" "+e.dump));else{if("[object String]"!==s){if("[object Undefined]"===s)return!1;if(e.skipInvalid)return!1;throw new Fd("unacceptable kind of an object to dump "+s)}"?"!==e.tag&&vv(e,e.dump,t,i,l)}null!==e.tag&&"?"!==e.tag&&(u=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),u="!"===e.tag[0]?"!"+u:"tag:yaml.org,2002:"===u.slice(0,18)?"!!"+u.slice(18):"!<"+u+">",e.dump=u+" "+e.dump)}return!0}function Ov(e,t){var r,n,o=[],i=[];for(xv(e,o,i),r=0,n=i.length;r<n;r+=1)t.duplicates.push(o[i[r]]);t.usedDuplicates=new Array(n)}function xv(e,t,r){var n,o,i;if(null!==e&&"object"==typeof e)if(-1!==(o=t.indexOf(e)))-1===r.indexOf(o)&&r.push(o);else if(t.push(e),Array.isArray(e))for(o=0,i=e.length;o<i;o+=1)xv(e[o],t,r);else for(o=0,i=(n=Object.keys(e)).length;o<i;o+=1)xv(e[n[o]],t,r)}function kv(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Av=function(e,t){var r=new rv(t=t||{});r.noRefs||Ov(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Ev(r,0,n,!0,!0)?r.dump+"\n":""};kv("safeLoad","load"),kv("safeLoadAll","loadAll"),kv("safeDump","dump");var Tv=/\{((?:[^{}]|{[^{}]*})*)\}|(?:\$([^\s,]+\w))/g,Pv=/(?:\$([^\s,]+\w))/g,Iv="INUMBER",_v="IOP1",Rv="IOP2",Nv="IOP3",Mv="IVAR",jv="IVARNAME",Cv="IFUNCALL",Lv="IFUNDEF",Dv="IEXPR",Bv="IEXPREVAL",Fv="IMEMBER",Gv="IENDSTATEMENT",Uv="IARRAY";function Vv(e,t){this.type=e,this.value=null!=t?t:0}function Wv(e){return new Vv(_v,e)}function zv(e){return new Vv(Rv,e)}function Hv(e){return new Vv(Nv,e)}function $v(e,t,r,n,o){for(var i,a,u,s,l=[],c=[],f=0;f<e.length;f++){var p=e[f],h=p.type;if(h===Iv||h===jv)Array.isArray(p.value)?l.push.apply(l,$v(p.value.map((function(e){return new Vv(Iv,e)})).concat(new Vv(Uv,p.value.length)),t,r,n,o)):l.push(p);else if(h===Mv&&o.hasOwnProperty(p.value))p=new Vv(Iv,o[p.value]),l.push(p);else if(h===Rv&&l.length>1)a=l.pop(),i=l.pop(),s=r[p.value],p=new Vv(Iv,s(i.value,a.value)),l.push(p);else if(h===Nv&&l.length>2)u=l.pop(),a=l.pop(),i=l.pop(),"?"===p.value?l.push(i.value?a.value:u.value):(s=n[p.value],p=new Vv(Iv,s(i.value,a.value,u.value)),l.push(p));else if(h===_v&&l.length>0)i=l.pop(),s=t[p.value],p=new Vv(Iv,s(i.value)),l.push(p);else if(h===Dv){for(;l.length>0;)c.push(l.shift());c.push(new Vv(Dv,$v(p.value,t,r,n,o)))}else if(h===Fv&&l.length>0)i=l.pop(),l.push(new Vv(Iv,i.value[p.value]));else{for(;l.length>0;)c.push(l.shift());c.push(p)}}for(;l.length>0;)c.push(l.shift());return c}function Yv(e,t,r){for(var n=[],o=0;o<e.length;o++){var i=e[o],a=i.type;if(a===Mv&&i.value===t)for(var u=0;u<r.tokens.length;u++){var s,l=r.tokens[u];s=l.type===_v?Wv(l.value):l.type===Rv?zv(l.value):l.type===Nv?Hv(l.value):new Vv(l.type,l.value),n.push(s)}else a===Dv?n.push(new Vv(Dv,Yv(i.value,t,r))):n.push(i)}return n}function Kv(e,t,r){var n,o,i,a,u,s,l=[];if(Jv(e))return Xv(e,r);for(var c=e.length,f=0;f<c;f++){var p=e[f],h=p.type;if(h===Iv||h===jv)l.push(p.value);else if(h===Rv)o=l.pop(),n=l.pop(),"and"===p.value?l.push(!!n&&!!Kv(o,t,r)):"or"===p.value?l.push(!!n||!!Kv(o,t,r)):"="===p.value?(a=t.binaryOps[p.value],l.push(a(n,Kv(o,t,r),r))):(a=t.binaryOps[p.value],l.push(a(Xv(n,r),Xv(o,r))));else if(h===Nv)i=l.pop(),o=l.pop(),n=l.pop(),"?"===p.value?l.push(Kv(n?o:i,t,r)):(a=t.ternaryOps[p.value],l.push(a(Xv(n,r),Xv(o,r),Xv(i,r))));else if(h===Mv)if(p.value in t.functions)l.push(t.functions[p.value]);else if(p.value in t.unaryOps&&t.parser.isOperatorEnabled(p.value))l.push(t.unaryOps[p.value]);else{var d=r[p.value];if(void 0===d)throw new Error("undefined variable: "+p.value);l.push(d)}else if(h===_v)n=l.pop(),a=t.unaryOps[p.value],l.push(a(Xv(n,r)));else if(h===Cv){for(s=p.value,u=[];s-- >0;)u.unshift(Xv(l.pop(),r));if(!(a=l.pop()).apply||!a.call)throw new Error(a+" is not a function");l.push(a.apply(void 0,u))}else if(h===Lv)l.push(function(){for(var e=l.pop(),n=[],o=p.value;o-- >0;)n.unshift(l.pop());var i=l.pop(),a=function(){for(var o=Object.assign({},r),i=0,a=n.length;i<a;i++)o[n[i]]=arguments[i];return Kv(e,t,o)};return Object.defineProperty(a,"name",{value:i,writable:!1}),r[i]=a,a}());else if(h===Dv)l.push(qv(p,t));else if(h===Bv)l.push(p);else if(h===Fv)n=l.pop(),l.push(n[p.value]);else if(h===Gv)l.pop();else{if(h!==Uv)throw new Error("invalid Expression");for(s=p.value,u=[];s-- >0;)u.unshift(l.pop());l.push(u)}}if(l.length>1)throw new Error("invalid Expression (parity)");return 0===l[0]?0:Xv(l[0],r)}function qv(e,t,r){return Jv(e)?e:{type:Bv,value:function(r){return Kv(e.value,t,r)}}}function Jv(e){return e&&e.type===Bv}function Xv(e,t){return Jv(e)?e.value(t):e}function Zv(e,t){for(var r,n,o,i,a,u,s=[],l=0;l<e.length;l++){var c=e[l],f=c.type;if(f===Iv)"number"==typeof c.value&&c.value<0?s.push("("+c.value+")"):Array.isArray(c.value)?s.push("["+c.value.map(Qv).join(", ")+"]"):s.push(Qv(c.value));else if(f===Rv)n=s.pop(),r=s.pop(),i=c.value,t?"^"===i?s.push("Math.pow("+r+", "+n+")"):"and"===i?s.push("(!!"+r+" && !!"+n+")"):"or"===i?s.push("(!!"+r+" || !!"+n+")"):"||"===i?s.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+r+"),("+n+")))"):"=="===i?s.push("("+r+" === "+n+")"):"!="===i?s.push("("+r+" !== "+n+")"):"["===i?s.push(r+"[("+n+") | 0]"):s.push("("+r+" "+i+" "+n+")"):"["===i?s.push(r+"["+n+"]"):s.push("("+r+" "+i+" "+n+")");else if(f===Nv){if(o=s.pop(),n=s.pop(),r=s.pop(),"?"!==(i=c.value))throw new Error("invalid Expression");s.push("("+r+" ? "+n+" : "+o+")")}else if(f===Mv||f===jv)s.push(c.value);else if(f===_v)r=s.pop(),"-"===(i=c.value)||"+"===i?s.push("("+i+r+")"):t?"not"===i?s.push("(!"+r+")"):"!"===i?s.push("fac("+r+")"):s.push(i+"("+r+")"):"!"===i?s.push("("+r+"!)"):s.push("("+i+" "+r+")");else if(f===Cv){for(u=c.value,a=[];u-- >0;)a.unshift(s.pop());i=s.pop(),s.push(i+"("+a.join(", ")+")")}else if(f===Lv){for(n=s.pop(),u=c.value,a=[];u-- >0;)a.unshift(s.pop());r=s.pop(),t?s.push("("+r+" = function("+a.join(", ")+") { return "+n+" })"):s.push("("+r+"("+a.join(", ")+") = "+n+")")}else if(f===Fv)r=s.pop(),s.push(r+"."+c.value);else if(f===Uv){for(u=c.value,a=[];u-- >0;)a.unshift(s.pop());s.push("["+a.join(", ")+"]")}else if(f===Dv)s.push("("+Zv(c.value,t)+")");else if(f!==Gv)throw new Error("invalid Expression")}return s.length>1&&(s=t?[s.join(",")]:[s.join(";")]),String(s[0])}function Qv(e){return"string"==typeof e?JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):e}function eb(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}function tb(e,t,r){for(var n=!!(r=r||{}).withMembers,o=null,i=0;i<e.length;i++){var a=e[i];a.type===Mv||a.type===jv?n||eb(t,a.value)?null!==o?(eb(t,o)||t.push(o),o=a.value):o=a.value:t.push(a.value):a.type===Fv&&n&&null!==o?o+="."+a.value:a.type===Dv?tb(a.value,t,r):null!==o&&(eb(t,o)||t.push(o),o=null)}null===o||eb(t,o)||t.push(o)}function rb(e,t){this.tokens=e,this.parser=t,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.functions=t.functions}Vv.prototype.toString=function(){switch(this.type){case Iv:case _v:case Rv:case Nv:case Mv:case jv:case Gv:return this.value;case Cv:return"CALL "+this.value;case Lv:return"DEF "+this.value;case Uv:return"ARRAY "+this.value;case Fv:return"."+this.value;default:return"Invalid Instruction"}},rb.prototype.simplify=function(e){return e=e||{},new rb($v(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,e),this.parser)},rb.prototype.substitute=function(e,t){return t instanceof rb||(t=this.parser.parse(String(t))),new rb(Yv(this.tokens,e,t),this.parser)},rb.prototype.evaluate=function(e){return e=e||{},Kv(this.tokens,this,e)},rb.prototype.toString=function(){return Zv(this.tokens,!1)},rb.prototype.symbols=function(e){e=e||{};var t=[];return tb(this.tokens,t,e),t},rb.prototype.variables=function(e){e=e||{};var t=[];tb(this.tokens,t,e);var r=this.functions;return t.filter((function(e){return!(e in r)}))},rb.prototype.toJSFunction=function(e,t){var r=this,n=new Function(e,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+Zv(this.simplify(t).tokens,!0)+"; }");return function(){return n.apply(r,arguments)}};var nb="TEOF",ob="TOP",ib="TNUMBER",ab="TSTRING",ub="TPAREN",sb="TBRACKET",lb="TCOMMA",cb="TNAME",fb="TSEMICOLON";function pb(e,t,r){this.type=e,this.value=t,this.index=r}function hb(e,t){this.pos=0,this.current=null,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.consts=e.consts,this.expression=t,this.savedPosition=0,this.savedCurrent=null,this.options=e.options,this.parser=e}pb.prototype.toString=function(){return this.type+": "+this.value},hb.prototype.newToken=function(e,t,r){return new pb(e,t,null!=r?r:this.pos)},hb.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},hb.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},hb.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(nb,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},hb.prototype.isString=function(){var e=!1,t=this.pos,r=this.expression.charAt(t);if("'"===r||'"'===r)for(var n=this.expression.indexOf(r,t+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var o=this.expression.substring(t+1,n);this.current=this.newToken(ab,this.unescape(o),t),e=!0;break}n=this.expression.indexOf(r,n+1)}return e},hb.prototype.isParen=function(){var e=this.expression.charAt(this.pos);return("("===e||")"===e)&&(this.current=this.newToken(ub,e),this.pos++,!0)},hb.prototype.isBracket=function(){var e=this.expression.charAt(this.pos);return!("["!==e&&"]"!==e||!this.isOperatorEnabled("[")||(this.current=this.newToken(sb,e),this.pos++,0))},hb.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(lb,","),this.pos++,!0)},hb.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(fb,";"),this.pos++,!0)},hb.prototype.isConst=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var r=this.expression.charAt(t);if(r.toUpperCase()===r.toLowerCase()&&(t===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(n in this.consts)return this.current=this.newToken(ib,this.consts[n]),this.pos+=n.length,!0}return!1},hb.prototype.isNamedOp=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var r=this.expression.charAt(t);if(r.toUpperCase()===r.toLowerCase()&&(t===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(ob,n),this.pos+=n.length,!0}return!1},hb.prototype.isName=function(){for(var e=this.pos,t=e,r=!1;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()){if(t===this.pos&&("$"===n||"_"===n)){"_"===n&&(r=!0);continue}if(t===this.pos||!r||"_"!==n&&(n<"0"||n>"9"))break}else r=!0}if(r){var o=this.expression.substring(e,t);return this.current=this.newToken(cb,o),this.pos+=o.length,!0}return!1},hb.prototype.isWhitespace=function(){for(var e=!1,t=this.expression.charAt(this.pos);!(" "!==t&&"\t"!==t&&"\n"!==t&&"\r"!==t||(e=!0,this.pos++,this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e};var db=/^[0-9a-f]{4}$/i;function yb(e,t,r){this.parser=e,this.tokens=t,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess}hb.prototype.unescape=function(e){var t=e.indexOf("\\");if(t<0)return e;for(var r=e.substring(0,t);t>=0;){var n=e.charAt(++t);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var o=e.substring(t+1,t+5);db.test(o)||this.parseError("Illegal escape sequence: \\u"+o),r+=String.fromCharCode(parseInt(o,16)),t+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++t;var i=e.indexOf("\\",t);r+=e.substring(t,i<0?e.length:i),t=i}return r},hb.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},hb.prototype.isRadixInteger=function(){var e,t,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))e=16,t=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;e=2,t=/^[01]$/i,++r}for(var n=!1,o=r;r<this.expression.length;){var i=this.expression.charAt(r);if(!t.test(i))break;r++,n=!0}return n&&(this.current=this.newToken(ib,parseInt(this.expression.substring(o,r),e)),this.pos=r),n},hb.prototype.isNumber=function(){for(var e,t=!1,r=this.pos,n=r,o=r,i=!1,a=!1;r<this.expression.length&&((e=this.expression.charAt(r))>="0"&&e<="9"||!i&&"."===e);)"."===e?i=!0:a=!0,r++,t=a;if(t&&(o=r),"e"===e||"E"===e){r++;for(var u=!0,s=!1;r<this.expression.length;){if(e=this.expression.charAt(r),!u||"+"!==e&&"-"!==e){if(!(e>="0"&&e<="9"))break;s=!0,u=!1}else u=!1;r++}s||(r=o)}return t?(this.current=this.newToken(ib,parseFloat(this.expression.substring(n,r))),this.pos=r):this.pos=o,t},hb.prototype.isOperator=function(){var e=this.pos,t=this.expression.charAt(this.pos);if("+"===t||"-"===t||"*"===t||"/"===t||"%"===t||"^"===t||"?"===t||":"===t||"."===t)this.current=this.newToken(ob,t);else if(""===t||""===t)this.current=this.newToken(ob,"*");else if(">"===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ob,">="),this.pos++):this.current=this.newToken(ob,">");else if("<"===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ob,"<="),this.pos++):this.current=this.newToken(ob,"<");else if("|"===t){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(ob,"||"),this.pos++}else if("="===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ob,"=="),this.pos++):this.current=this.newToken(ob,t);else{if("!"!==t)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(ob,"!="),this.pos++):this.current=this.newToken(ob,t)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=e,!1)},hb.prototype.isOperatorEnabled=function(e){return this.parser.isOperatorEnabled(e)},hb.prototype.getCoordinates=function(){var e,t=0,r=-1;do{t++,e=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:t,column:e}},hb.prototype.parseError=function(e){var t=this.getCoordinates();throw new Error("parse error ["+t.line+":"+t.column+"]: "+e)},yb.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},yb.prototype.tokenMatches=function(e,t){return void 0===t||(Array.isArray(t)?eb(t,e.value):"function"==typeof t?t(e):e.value===t)},yb.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},yb.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},yb.prototype.accept=function(e,t){return!(this.nextToken.type!==e||!this.tokenMatches(this.nextToken,t)||(this.next(),0))},yb.prototype.expect=function(e,t){if(!this.accept(e,t)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(t||e))}},yb.prototype.parseAtom=function(e){var t=this.tokens.unaryOps;if(this.accept(cb)||this.accept(ob,(function(e){return e.value in t})))e.push(new Vv(Mv,this.current.value));else if(this.accept(ib))e.push(new Vv(Iv,this.current.value));else if(this.accept(ab))e.push(new Vv(Iv,this.current.value));else if(this.accept(ub,"("))this.parseExpression(e),this.expect(ub,")");else{if(!this.accept(sb,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(sb,"]"))e.push(new Vv(Uv,0));else{var r=this.parseArrayList(e);e.push(new Vv(Uv,r))}}},yb.prototype.parseExpression=function(e){var t=[];this.parseUntilEndStatement(e,t)||(this.parseVariableAssignmentExpression(t),this.parseUntilEndStatement(e,t)||this.pushExpression(e,t))},yb.prototype.pushExpression=function(e,t){for(var r=0,n=t.length;r<n;r++)e.push(t[r])},yb.prototype.parseUntilEndStatement=function(e,t){return!!this.accept(fb)&&(!this.nextToken||this.nextToken.type===nb||this.nextToken.type===ub&&")"===this.nextToken.value||t.push(new Vv(Gv)),this.nextToken.type!==nb&&this.parseExpression(t),e.push(new Vv(Dv,t)),!0)},yb.prototype.parseArrayList=function(e){for(var t=0;!this.accept(sb,"]");)for(this.parseExpression(e),++t;this.accept(lb);)this.parseExpression(e),++t;return t},yb.prototype.parseVariableAssignmentExpression=function(e){for(this.parseConditionalExpression(e);this.accept(ob,"=");){var t=e.pop(),r=[],n=e.length-1;if(t.type!==Cv){if(t.type!==Mv&&t.type!==Fv)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),e.push(new Vv(jv,t.value)),e.push(new Vv(Dv,r)),e.push(zv("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var o=0,i=t.value+1;o<i;o++){var a=n-o;e[a].type===Mv&&(e[a]=new Vv(jv,e[a].value))}this.parseVariableAssignmentExpression(r),e.push(new Vv(Dv,r)),e.push(new Vv(Lv,t.value))}}},yb.prototype.parseConditionalExpression=function(e){for(this.parseOrExpression(e);this.accept(ob,"?");){var t=[],r=[];this.parseConditionalExpression(t),this.expect(ob,":"),this.parseConditionalExpression(r),e.push(new Vv(Dv,t)),e.push(new Vv(Dv,r)),e.push(Hv("?"))}},yb.prototype.parseOrExpression=function(e){for(this.parseAndExpression(e);this.accept(ob,"or");){var t=[];this.parseAndExpression(t),e.push(new Vv(Dv,t)),e.push(zv("or"))}},yb.prototype.parseAndExpression=function(e){for(this.parseComparison(e);this.accept(ob,"and");){var t=[];this.parseComparison(t),e.push(new Vv(Dv,t)),e.push(zv("and"))}};var vb=["==","!=","<","<=",">=",">","in"];yb.prototype.parseComparison=function(e){for(this.parseAddSub(e);this.accept(ob,vb);){var t=this.current;this.parseAddSub(e),e.push(zv(t.value))}};var bb=["+","-","||"];yb.prototype.parseAddSub=function(e){for(this.parseTerm(e);this.accept(ob,bb);){var t=this.current;this.parseTerm(e),e.push(zv(t.value))}};var gb=["*","/","%"];function mb(e,t){return Number(e)+Number(t)}function wb(e,t){return e-t}function Sb(e,t){return e*t}function Eb(e,t){return e/t}function Ob(e,t){return e%t}function xb(e,t){return Array.isArray(e)&&Array.isArray(t)?e.concat(t):""+e+t}function kb(e,t){return e===t}function Ab(e,t){return e!==t}function Tb(e,t){return e>t}function Pb(e,t){return e<t}function Ib(e,t){return e>=t}function _b(e,t){return e<=t}function Rb(e,t){return Boolean(e&&t)}function Nb(e,t){return Boolean(e||t)}function Mb(e,t){return eb(t,e)}function jb(e){return(Math.exp(e)-Math.exp(-e))/2}function Cb(e){return(Math.exp(e)+Math.exp(-e))/2}function Lb(e){return e===1/0?1:e===-1/0?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}function Db(e){return e===-1/0?e:Math.log(e+Math.sqrt(e*e+1))}function Bb(e){return Math.log(e+Math.sqrt(e*e-1))}function Fb(e){return Math.log((1+e)/(1-e))/2}function Gb(e){return Math.log(e)*Math.LOG10E}function Ub(e){return-e}function Vb(e){return!e}function Wb(e){return e<0?Math.ceil(e):Math.floor(e)}function zb(e){return Math.random()*(e||1)}function Hb(e){return Kb(e+1)}yb.prototype.parseTerm=function(e){for(this.parseFactor(e);this.accept(ob,gb);){var t=this.current;this.parseFactor(e),e.push(zv(t.value))}},yb.prototype.parseFactor=function(e){var t=this.tokens.unaryOps;if(this.save(),this.accept(ob,(function(e){return e.value in t}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===ub&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(e);if(this.nextToken.type===fb||this.nextToken.type===lb||this.nextToken.type===nb||this.nextToken.type===ub&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(e)}var r=this.current;this.parseFactor(e),e.push(Wv(r.value))}else this.parseExponential(e)},yb.prototype.parseExponential=function(e){for(this.parsePostfixExpression(e);this.accept(ob,"^");)this.parseFactor(e),e.push(zv("^"))},yb.prototype.parsePostfixExpression=function(e){for(this.parseFunctionCall(e);this.accept(ob,"!");)e.push(Wv("!"))},yb.prototype.parseFunctionCall=function(e){var t=this.tokens.unaryOps;if(this.accept(ob,(function(e){return e.value in t}))){var r=this.current;this.parseAtom(e),e.push(Wv(r.value))}else for(this.parseMemberExpression(e);this.accept(ub,"(");)if(this.accept(ub,")"))e.push(new Vv(Cv,0));else{var n=this.parseArgumentList(e);e.push(new Vv(Cv,n))}},yb.prototype.parseArgumentList=function(e){for(var t=0;!this.accept(ub,")");)for(this.parseExpression(e),++t;this.accept(lb);)this.parseExpression(e),++t;return t},yb.prototype.parseMemberExpression=function(e){for(this.parseAtom(e);this.accept(ob,".")||this.accept(sb,"[");){var t=this.current;if("."===t.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(cb),e.push(new Vv(Fv,this.current.value))}else{if("["!==t.value)throw new Error("unexpected symbol: "+t.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(e),this.expect(sb,"]"),e.push(zv("["))}}};var $b=4.7421875,Yb=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Kb(e){var t,r;if(function(e){return isFinite(e)&&e===Math.round(e)}(e)){if(e<=0)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(var n=e-2,o=e-1;n>1;)o*=n,n--;return 0===o&&(o=1),o}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*Kb(1-e));if(e>=171.35)return 1/0;if(e>85){var i=e*e,a=i*e,u=a*e,s=u*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*i)-139/(51840*a)-571/(2488320*u)+163879/(209018880*s)+5246819/(75246796800*s*e))}--e,r=Yb[0];for(var l=1;l<Yb.length;++l)r+=Yb[l]/(e+l);return t=e+$b+.5,Math.sqrt(2*Math.PI)*Math.pow(t,e+.5)*Math.exp(-t)*r}function qb(e){return Array.isArray(e)?e.length:String(e).length}function Jb(){for(var e=0,t=0,r=0;r<arguments.length;r++){var n,o=Math.abs(arguments[r]);t<o?(e=e*(n=t/o)*n+1,t=o):e+=o>0?(n=o/t)*n:o}return t===1/0?1/0:t*Math.sqrt(e)}function Xb(e,t,r){return e?t:r}function Zb(e,t){return void 0===t||0==+t?Math.round(e):(e=+e,t=-+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]-t:-t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t))))}function Qb(e,t,r){return r&&(r[e]=t),t}function eg(e,t){return e[0|t]}function tg(e){return 1===arguments.length&&Array.isArray(e)?Math.max.apply(Math,e):Math.max.apply(Math,arguments)}function rg(e){return 1===arguments.length&&Array.isArray(e)?Math.min.apply(Math,e):Math.min.apply(Math,arguments)}function ng(e,t){if("function"!=typeof e)throw new Error("First argument to map is not a function");if(!Array.isArray(t))throw new Error("Second argument to map is not an array");return t.map((function(t,r){return e(t,r)}))}function og(e,t,r){if("function"!=typeof e)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(t,r,n){return e(t,r,n)}),t)}function ig(e,t){if("function"!=typeof e)throw new Error("First argument to filter is not a function");if(!Array.isArray(t))throw new Error("Second argument to filter is not an array");return t.filter((function(t,r){return e(t,r)}))}function ag(e,t){if(!Array.isArray(t)&&"string"!=typeof t)throw new Error("Second argument to indexOf is not a string or array");return t.indexOf(e)}function ug(e,t){if(!Array.isArray(t))throw new Error("Second argument to join is not an array");return t.join(e)}function sg(e){return(e>0)-(e<0)||+e}var lg=1/3;function cg(e){return e<0?-Math.pow(-e,lg):Math.pow(e,lg)}function fg(e){return Math.exp(e)-1}function pg(e){return Math.log(1+e)}function hg(e){return Math.log(e)/Math.LN2}function dg(e){this.options=e||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||jb,cosh:Math.cosh||Cb,tanh:Math.tanh||Lb,asinh:Math.asinh||Db,acosh:Math.acosh||Bb,atanh:Math.atanh||Fb,sqrt:Math.sqrt,cbrt:Math.cbrt||cg,log:Math.log,log2:Math.log2||hg,ln:Math.log,lg:Math.log10||Gb,log10:Math.log10||Gb,expm1:Math.expm1||fg,log1p:Math.log1p||pg,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||Wb,"-":Ub,"+":Number,exp:Math.exp,not:Vb,length:qb,"!":Hb,sign:Math.sign||sg},this.binaryOps={"+":mb,"-":wb,"*":Sb,"/":Eb,"%":Ob,"^":Math.pow,"||":xb,"==":kb,"!=":Ab,">":Tb,"<":Pb,">=":Ib,"<=":_b,and:Rb,or:Nb,in:Mb,"=":Qb,"[":eg},this.ternaryOps={"?":Xb},this.functions={random:zb,fac:Hb,min:rg,max:tg,hypot:Math.hypot||Jb,pyt:Math.hypot||Jb,pow:Math.pow,atan2:Math.atan2,if:Xb,gamma:Kb,roundTo:Zb,map:ng,fold:og,filter:ig,indexOf:ag,join:ug},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}dg.prototype.parse=function(e){var t=[],r=new yb(this,new hb(this,e),{allowMemberAccess:this.options.allowMemberAccess});return r.parseExpression(t),r.expect(nb,"EOF"),new rb(t,this)},dg.prototype.evaluate=function(e,t){return this.parse(e).evaluate(t)};var yg=new dg;dg.parse=function(e){return yg.parse(e)},dg.evaluate=function(e,t){return yg.parse(e).evaluate(t)};var vg={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};dg.prototype.isOperatorEnabled=function(e){var t=function(e){return vg.hasOwnProperty(e)?vg[e]:e}(e),r=this.options.operators||{};return!(t in r)||!!r[t]};var bg=r(21048);function gg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mg,wg=new dg;function Sg(e){var t;try{t=bg.default.parse(e)}catch(t){return e}var r,n,o=bg.default.reduceExpression(t),i=e;o&&"Number"!==o.type&&(i=e.replace(new RegExp(o.unit,"ig"),""),r=o.unit);try{n=wg.evaluate("".concat(i))}catch(t){return e}try{return r?"".concat(n).concat(r):Number.parseFloat(n.toFixed(3))}catch(t){return e}}function Eg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Og(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Eg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xg(e){try{if("string"!=typeof e)return e;var t=/#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/g,r=e;try{var n=Array.from(r.matchAll(/(rgba?\(.*?\))/g),(function(e){return e[0]})),o=Array.from(r.matchAll(/(hsla?\(.*?\))/g),(function(e){return e[0]}));o.length>0&&o.forEach((function(e){r=r.replace(e,Br(e))})),n.length>0&&n.forEach((function(e){var n,o,i,a,u,s,l,c,f=e,p=e.replace(/rgba?\(/g,"").replace(")",""),h=p.match(t),d="1";h?(n=(u=Og(Tr(h[0]),3))[0],o=u[1],i=u[2],d=null!==(s=null===(a=p.split(",").pop())||void 0===a?void 0:a.trim())&&void 0!==s?s:"0"):(l=Og(p.split(",").map((function(e){return e.trim()})),4),n=l[0],o=l[1],i=l[2],d=void 0===(c=l[3])?"1":c);var y=du(d);r=r.split(f).join(Br("rgba(".concat(n,", ").concat(o,", ").concat(i,", ").concat(y,")")))}))}catch(t){console.log("error",t,e)}return r}catch(e){console.error(e)}return e}function kg(e,t){var r=e;try{return r=function(e,t){var r=new zi(e),n=r;try{switch(t.type){case Za.LIGHTEN:n=function(e,t,r){switch(t){case mg.LCH:var n=e.lch.l,o=100-n,i=Math.max(0,e.lch.c-r*e.lch.c),a=Math.min(100,n+o*r);return e.set("lch.l",a),e.set("lch.c",i),e;case mg.HSL:var u=e.hsl.l,s=100-u,l=Math.min(100,u+s*r);return e.set("hsl.l",l),e;case mg.P3:var c=e.to("p3"),f=Math.min(1,c.p3.r+r*(1-c.p3.r)),p=Math.min(1,c.p3.g+r*(1-c.p3.g)),h=Math.min(1,c.p3.b+r*(1-c.p3.b));return c.set("p3.r",f),c.set("p3.g",p),c.set("p3.b",h),c;case mg.SRGB:var d=Math.min(1,e.srgb.r+r*(1-e.srgb.r)),y=Math.min(1,e.srgb.g+r*(1-e.srgb.g)),v=Math.min(1,e.srgb.b+r*(1-e.srgb.b));return e.set("srgb.r",d),e.set("srgb.g",y),e.set("srgb.b",v),e;default:return e.lighten(r)}}(r,t.space,Number(t.value));break;case Za.DARKEN:n=function(e,t,r){switch(t){case mg.LCH:var n=e.lch.l,o=n,i=Math.max(0,e.lch.c-r*e.lch.c),a=Math.max(0,n-o*r);return e.set("lch.l",a),e.set("lch.c",i),e;case mg.HSL:var u=e.hsl.l,s=u,l=Math.max(0,u-s*r);return e.set("hsl.l",l),e;case mg.P3:var c=e.to("p3"),f=Math.max(0,c.p3.r-r*c.p3.r),p=Math.max(0,c.p3.g-r*c.p3.g),h=Math.max(0,c.p3.b-r*c.p3.b);return c.set("p3.r",f),c.set("p3.g",p),c.set("p3.b",h),c;case mg.SRGB:var d=Math.max(0,e.srgb.r-r*e.srgb.r),y=Math.max(0,e.srgb.g-r*e.srgb.g),v=Math.max(0,e.srgb.b-r*e.srgb.b);return e.set("srgb.r",d),e.set("srgb.g",y),e.set("srgb.b",v),e;default:return e.darken(r)}}(r,t.space,Number(t.value));break;case Za.MIX:n=function(e,t,r,n){var o=Math.max(0,Math.min(1,Number(r)));return new zi(e.mix(n,o,{space:t}).toString())}(r,t.space,Number(t.value),new zi(t.color));break;case Za.ALPHA:n=function(e,t){return e.alpha=Math.max(0,Math.min(1,Number(t))),e}(r,Number(t.value));break;default:n=r}return(n=n.to(t.space)).toString({inGamut:!0,precision:3})}catch(t){return e}}(e,t),new zi(r).to("srgb").toString({format:"hex"})}catch(t){return e}}function Ag(e){return e.startsWith("{")?e.slice(1,e.length-1):e.substring(1)}function Tg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ig(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Pg(e,t,r[t])}))}return e}function _g(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}wg.functions.clamped=function(e,t,r){return Math.max(Math.min(e,r),t)},wg.functions.lerp=function(e,t,r){return t+(r-t)*e},wg.functions.norm=function(e,t,r){return(e-t)/(r-t)},wg.functions.cubicBezier1D=function(e,t){var r=[0,e,t,1];return function(e){var t=[Math.pow(1-e,3),3*Math.pow(1-e,2)*e,3*(1-e)*Math.pow(e,2),Math.pow(e,3)].reduce((function(e,t,n){return e+t*r[n]}),0);return t}},wg.functions.sample=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.apply(void 0,function(e){if(Array.isArray(e))return gg(e)}(o=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gg(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var o},function(e){e.LCH="lch",e.SRGB="srgb",e.P3="p3",e.HSL="hsl"}(mg||(mg={}));var Rg=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pg(this,"tokens",void 0),Pg(this,"tokenMap",void 0),Pg(this,"memo",void 0),this.tokens=t,this.tokenMap=new Map,this.memo=new Map,this.populateTokenMap()}var t,r;return t=e,r=[{key:"populateTokenMap",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,o=this.tokens[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;this.tokenMap.set(i.name,i)}}catch(e){t=!0,r=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw r}}}},{key:"setTokens",value:function(e){return this.tokens=e,this.tokenMap=new Map,this.memo=new Map,this.populateTokenMap(),this.resolveTokenValues()}},{key:"resolveTokenValues",value:function(){var e=[],t=!0,r=!1,n=void 0;try{for(var o,i=this.tokens[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value,u=this.resolveReferences(a);"string"==typeof u.value&&Tv.test(u.value)&&(u.failedToResolve=!0),e.push(_g(Ig({},u),{rawValue:a.value}))}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return e}},{key:"isExponentialAndZero",value:function(e){return/^[+-]?\d*\.?\d+([eE][+-]?\d+)?$/.test(e)&&!/^[+-]?\d*\.?\d+$/.test(e)||/^00+$/.test(e)||/^0+[1-9]\d*$/.test(e)}},{key:"calculateTokenValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if("string"==typeof e.value){var r,n,o=this.isExponentialAndZero(e.value)?e.value:Sg(e.value);if("number"==typeof o)return o;var i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O,x,k=xg(o);return"object"==typeof e&&(null==e||null===(n=e.$extensions)||void 0===n||null===(r=n["studio.tokens"])||void 0===r?void 0:r.modify)&&k?(null==e||null===(u=e.$extensions)||void 0===u||null===(a=u["studio.tokens"])||void 0===a||null===(i=a.modify)||void 0===i?void 0:i.type)===Za.MIX?kg(k,_g(Ig({},null===(y=e.$extensions)||void 0===y||null===(d=y["studio.tokens"])||void 0===d?void 0:d.modify),{value:String(null===(v=this.resolveReferences({value:null==e||null===(m=e.$extensions)||void 0===m||null===(g=m["studio.tokens"])||void 0===g||null===(b=g.modify)||void 0===b?void 0:b.value},t))||void 0===v?void 0:v.value),color:null!==(x=String(null===(w=this.resolveReferences({value:null==e||null===(O=e.$extensions)||void 0===O||null===(E=O["studio.tokens"])||void 0===E||null===(S=E.modify)||void 0===S?void 0:S.color},t))||void 0===w?void 0:w.value))&&void 0!==x?x:void 0})):kg(k,_g(Ig({},null===(l=e.$extensions)||void 0===l||null===(s=l["studio.tokens"])||void 0===s?void 0:s.modify),{value:String(null===(c=this.resolveReferences({value:null==e||null===(h=e.$extensions)||void 0===h||null===(p=h["studio.tokens"])||void 0===p||null===(f=p.modify)||void 0===f?void 0:f.value},t))||void 0===c?void 0:c.value)})):k}return e.value}},{key:"resolveReferences",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=e.name||void 0;if(n&&this.memo.has(n)){var o=this.memo.get(n);if(o)return o}if("string"==typeof e.value){var i,a,u=e.value.toString().match(Tv)||[],s=e.value,l=!0,c=!1,f=void 0;try{for(var p,h=u[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){var d=p.value,y=Ag(d);if(r.has(y))return _g(Ig({},e),{rawValue:e.value,failedToResolve:!0});for(var v=y,b=!0;!1!==b;){var g=v.match(Tv);if(b=Boolean(null==g?void 0:g.length),!(null==g?void 0:g.length))break;var m=Ag(g[0]),w=this.tokenMap.get(m);if(!w||!w.value)break;var S=this.resolveReferences(_g(Ig({},w),{name:m}),new Set(r));"string"!=typeof S.value&&"number"!=typeof S.value||(v=v.replace(g[0],String(S.value)))}var E=v.split("."),O=E.pop(),x=E.join(".");if(t=this.tokenMap.get(v)){"string"!=typeof e.value||"object"!=typeof t.value&&!Array.isArray(t.value)||(i=t.value);var k=new Set(r);k.add(v);var A=this.resolveReferences(_g(Ig({},t),{name:v}),k);if(A.resolvedValueWithReferences&&(i=A.resolvedValueWithReferences),void 0===A.value)return _g(Ig({},e),{value:e.value,rawValue:e.value,failedToResolve:!0});"string"!=typeof s||"string"!=typeof A.value&&"number"!=typeof A.value?void 0!==A.value&&(s=A.value):s=s.replace(d,String(A.value))}else{var T,P=null===(T=this.tokenMap.get(x))||void 0===T?void 0:T.value;if(!P||!P.hasOwnProperty(O))return _g(Ig({},e),{value:e.value,rawValue:e.value,failedToResolve:!0});var I=P[O],_=this.calculateTokenValue({value:I},r);s=void 0===_?e.value:"string"!=typeof s||"string"!=typeof _&&"number"!=typeof _?_:s.replace(d,String(_))}}}catch(e){c=!0,f=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw f}}if("string"!=typeof s&&"number"!=typeof s||Tv.test(String(s))){var R=Av(s),N=Tv.test(R);a=Ig(_g(Ig({},e),{value:s,rawValue:e.value}),N?{failedToResolve:!0}:{},void 0!==i?{resolvedValueWithReferences:i}:{})}else{var M=this.calculateTokenValue(_g(Ig({},e),{value:s}),r);a=void 0===M?e:_g(Ig({},e),{value:M})}return"string"==typeof n&&this.memo.set(n,a),a}if(Array.isArray(e.value)){var j=[],C=!1,L=!0,D=!1,B=void 0;try{for(var F,G=e.value[Symbol.iterator]();!(L=(F=G.next()).done);L=!0){var U=F.value,V=this.resolveReferences({value:U},r);V.failedToResolve&&(C=!0),j.push(V.value)}}catch(e){D=!0,B=e}finally{try{L||null==G.return||G.return()}finally{if(D)throw B}}var W=Ig(_g(Ig({},e),{value:j,rawValue:e.value}),C?{failedToResolve:C}:{});return"string"==typeof n&&this.memo.set(n,W),W.resolvedValueWithReferences=e.value,W}if("object"==typeof e.value&&null!==e.value){var z={},H=!1,$=!0,Y=!1,K=void 0;try{for(var q,J=Object.keys(e.value)[Symbol.iterator]();!($=(q=J.next()).done);$=!0){var X=q.value;if(Object.prototype.hasOwnProperty.call(e.value,X)){var Z=e.value[X],Q=this.resolveReferences({value:Z},r);Q.failedToResolve&&(H=!0),"object"==typeof Q.value&&X in Q.value&&(H=!0),z[X]=Q.value}}}catch(e){Y=!0,K=e}finally{try{$||null==J.return||J.return()}finally{if(Y)throw K}}var ee=Ig(_g(Ig({},e),{value:z}),H?{failedToResolve:H}:{});return"string"==typeof n&&this.memo.set(n,ee),ee.resolvedValueWithReferences=e.value,ee}return e}},{key:"get",value:function(e){return this.tokenMap.get(e)}}],r&&Tg(t.prototype,r),e}();function Ng(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jg(e){return function(e){if(Array.isArray(e))return Mg(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Mg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mg(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Lg(e,t,r[t])}))}return e}function Bg(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function Fg(e){var t=function(e,t,r,n){var o=Object.keys(e),i=o.filter((function(e){return t[e]===rc.ENABLED||t[e]===rc.SOURCE})),a=o.filter((function(e){return!i.includes(e)})).sort((function(e,t){return function(e,t,r){var n=r[e]||rc.DISABLED,o=r[t]||rc.DISABLED;return n===o?0:n!==rc.DISABLED||o!==rc.ENABLED&&o!==rc.SOURCE?n!==rc.ENABLED&&n!==rc.SOURCE||o!==rc.DISABLED?0:1:-1}(e,t,r)}));return n&&(i.splice(i.indexOf(n),1),i.push(n)),{tokenSetsOrder:jg(a).concat(jg(i)),usedSetsList:i,overallSets:a}}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},arguments.length>3?arguments[3]:void 0),r=t.tokenSetsOrder,n=t.usedSetsList,o=t.overallSets;return r.reduce((function(t,r){return(e[r]||[]).forEach((function(e){var i=t.findIndex((function(t){return t.name===e.name})),a=t[i],u=Bg(Dg({},function(e){var t,r,n=e.type?e.type:function(e){switch(e){case"color":case"colors":return qa.COLOR;case"space":case"spacing":return qa.SPACING;case"size":case"sizing":return qa.SIZING;case"boxShadow":return qa.BOX_SHADOW;case"borderRadius":return qa.BORDER_RADIUS;case"borderWidth":return qa.BORDER_WIDTH;case"opacity":return qa.OPACITY;case"fontFamilies":return qa.FONT_FAMILIES;case"fontWeights":return qa.FONT_WEIGHTS;case"fontSizes":return qa.FONT_SIZES;case"lineHeights":return qa.LINE_HEIGHTS;case"typography":return qa.TYPOGRAPHY;case"letterSpacing":return qa.LETTER_SPACING;case"paragraphSpacing":return qa.PARAGRAPH_SPACING;case"composition":return qa.COMPOSITION;case"border":return qa.BORDER;case"asset":return qa.ASSET;default:return qa.OTHER}}(e.name.split(".").slice(0,1).toString());return t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ng(e,t,r[t])}))}return e}({},e),r=null!=(r={type:n})?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})),t}(e)),{internal__Parent:r});-1===i?t.push(u):function(e,t){return n.includes(e)&&t.internal__Parent&&!o.includes(t.internal__Parent)}(r,a)&&i>-1&&"object"==typeof a.value&&"object"==typeof u.value&&!Array.isArray(a.value)&&!Array.isArray(u.value)?t.splice(i,1,Bg(Dg({},u),{value:Dg({},a.value,u.value)})):t[i]=u})),t}),[])}function Gg(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ug(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vg(e){var t=e.theme,r=e.tokens,n=e.filterByTokenSet,o=e.overallConfig,i=void 0===o?{}:o,a=e.themeTokenResolver,u=Object.entries(t.selectedTokenSets).filter((function(e){var t=Ug(e,2),r=t[0];return t[1]===rc.ENABLED&&(!n||r===n)})).map((function(e){return Ug(e,1)[0]})),s=(a||new Rg([])).setTokens(Fg(r,t.selectedTokenSets,i));return{tokensToCreate:s.filter((function(e){return(!e.internal__Parent||u.includes(e.internal__Parent))&&jd.includes(e.type)})),resolvedTokens:s}}function Wg(e,t){return!(!(e.type===qa.COLOR&&t.variablesColor||Qa.includes(e.type)&&t.variablesNumber||[qa.TEXT,qa.FONT_FAMILIES].includes(e.type)&&t.variablesString||e.type===qa.BOOLEAN&&t.variablesBoolean||e.type===qa.FONT_WEIGHTS&&Boolean(parseFloat(e.value))&&t.variablesNumber||e.type===qa.FONT_WEIGHTS&&!parseFloat(e.value)&&t.variablesString)||(e.type!==qa.BORDER_RADIUS&&e.type!==qa.SPACING||"string"!=typeof e.value?e.type===qa.COLOR&&"string"==typeof e.value&&(e.value.startsWith("linear-gradient")||e.value.startsWith("radial-gradient")||e.value.startsWith("conic-gradient"))||e.type===qa.LINE_HEIGHTS&&"string"==typeof e.value&&"AUTO"===e.value||e.type!==qa.TEXT&&e.type!==qa.OPACITY&&"string"==typeof e.value&&pa(e.value):1!==e.value.split(" ").length))}function zg(e){return"object"==typeof e&&"id"in e&&"string"==typeof e.id}function Hg(e,t,r){try{var n=e.valuesByMode[t];if(void 0===n||"boolean"!=typeof n&&!zg(n))return;var o="true"===r;n!==o&&(console.log("Setting boolean value on variable",e.name,e.valuesByMode[t],o),e.setValueForMode(t,o))}catch(e){console.error("Error setting booleanVariable",e)}}function $g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yg(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){$g(e,t,r[t])}))}return e}function Kg(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function qg(e){return"object"==typeof e&&"r"in e&&"g"in e&&"b"in e&&"number"==typeof e.r&&"number"==typeof e.g&&"number"==typeof e.b&&(!("a"in e)||"number"==typeof e.a)}function Jg(e,t,r){try{var n=ra(r),o=n.color,i=n.opacity,a=e.valuesByMode[t];if(!a||!qg(a)&&!zg(a))return;var u=Kg(Yg({},o),{a:i});if(qg(a)&&function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-4;return Math.abs(e.r-t.r)<r&&Math.abs(e.g-t.g)<r&&Math.abs(e.b-t.b)<r&&Math.abs(e.a-t.a)<r}(Kg(Yg({},a),{a:"a"in a?a.a:1}),u))return;e.setValueForMode(t,u)}catch(e){console.error("Error setting colorVariable",e)}}function Xg(e,t,r){try{if(isNaN(r))throw new Error("Skipping due to invalid value: ".concat(r));var n=e.valuesByMode[t];if(void 0===n||"number"!=typeof n&&!zg(n))return;if("number"==typeof n&&function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-6;return Math.abs(e-t)<r}(n,r))return;e.setValueForMode(t,r)}catch(t){console.error("Error setting numberVariable on variable",e.name,t)}}function Zg(e,t,r){try{var n=e.valuesByMode[t];if(!n||"string"!=typeof n&&!zg(n))return;n!==r&&(console.log("Setting string value on variable",e.name,n,r,n===r?"match":"no match"),e.setValueForMode(t,r))}catch(e){console.error("Error setting stringVariable",e)}}function Qg(e){var t,r,n,o;return 1===(null===(r=e.rawValue)||void 0===r||null===(t=r.toString().match(Tv))||void 0===t?void 0:t.length)&&!(null==e||null===(o=e.$extensions)||void 0===o||null===(n=o["studio.tokens"])||void 0===n?void 0:n.modify)}function em(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function tm(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){em(i,n,o,a,u,"next",e)}function u(e){em(i,n,o,a,u,"throw",e)}a(void 0)}))}}function rm(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function nm(e,t,r,n,o){return om.apply(this,arguments)}function om(){return om=tm((function(e,t,r,n,o){var i,a,u,s,l,c,f,p,h,d=arguments;return rm(this,(function(y){switch(y.label){case 0:return i=d.length>5&&void 0!==d[5]&&d[5],a=d.length>6?d[6]:void 0,u={},s=[],l=[],c=new Set,f=new Map,p=new Set,t.forEach((function(e){e.variableId&&p.add(e.variableId)})),[4,Promise.all(Array.from(p).map(function(){var t=tm((function(t){var n;return rm(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,figma.variables.getVariableByIdAsync(t)];case 1:return(n=o.sent())&&n.variableCollectionId===r.id&&(f.set(t,n),e.some((function(e){return e.id===n.id}))||e.push(n)),[3,3];case 2:return o.sent(),[3,3];case 3:return[2]}}))}));return function(e){return t.apply(this,arguments)}}()))];case 1:y.sent(),y.label=2;case 2:return y.trys.push([2,5,,6]),t.forEach((function(t){c.add(Ot.schedule(tm((function(){var c,p,h,d,y,v,b,g,m,w,S;return rm(this,(function(E){try{if(c=function(e,t){if(e===qa.FONT_WEIGHTS&&parseFloat(String(t)))return"FLOAT";switch(e){case qa.COLOR:return"COLOR";case qa.BOOLEAN:return"BOOLEAN";case qa.FONT_FAMILIES:case qa.FONT_WEIGHTS:case qa.TEXT:return"STRING";default:return"FLOAT"}}(t.type,t.value),!(p=t.variableId?e.find((function(e){return e.key===t.variableId&&!e.remote})):e.find((function(e){return e.name===t.path})))&&t.variableId&&(p=f.get(t.variableId)),p||(p=e.find((function(e){return e.name===t.path&&e.variableCollectionId===r.id}))),!p)try{p=figma.variables.createVariable(t.path,r,c),e.push(p)}catch(n){if(!(h=figma.variables.getLocalVariables().find((function(e){return e.name===t.path&&e.variableCollectionId===r.id}))))throw n;p=h,e.push(p)}if(p){if(p.name!==t.path&&i&&(l.push(p.key),p.name=t.path),null==p||p.resolvedType,p.description=null!==(y=t.description)&&void 0!==y?y:"",u[t.name]=p.key,v=p.valuesByMode[n],b="string"==typeof t.rawValue?t.rawValue:void 0,function(e,t){if(!(zg(e)&&t&&t.startsWith("{")&&t.endsWith("}")))return!1;try{var r=t.slice(1,-1),n=figma.variables.getVariableById(e.id),o=null==n?void 0:n.name;return!!o&&Uc(o)===Uc(r)}catch(e){return console.error("Error checking variable alias equality:",e),!1}}(v,b))return[2];switch(c){case"BOOLEAN":"string"!=typeof t.value||t.value.includes("{")||Hg(p,n,t.value);break;case"COLOR":"string"!=typeof t.value||t.value.includes("{")||Jg(p,n,t.value);break;case"FLOAT":"string"!=typeof(g=String(t.value))||g.includes("{")||(m=Eu(g,t.type,o,!0),Xg(p,n,Number(m)));break;case"STRING":"string"!=typeof t.value||t.value.includes("{")?t.type===qa.FONT_WEIGHTS&&Array.isArray(t.value)&&Zg(p,n,t.value[0]):Zg(p,n,t.value)}"",w=t.rawValue&&(null===(d=t.rawValue)||void 0===d?void 0:d.toString().startsWith("{"))?null===(S=t.rawValue)||void 0===S?void 0:S.toString().slice(1,t.rawValue.toString().length-1):t.rawValue.toString().substring(1),t&&Qg(t)&&s.push({variable:p,modeId:n,referenceVariable:w})}}catch(e){console.error("Error processing variable token:",e)}finally{a&&(a.next(),a.reportIfNecessary())}return[2]}))}))))})),[4,Promise.all(c)];case 3:return y.sent(),[4,Ot.flush()];case 4:return y.sent(),[3,6];case 5:return h=y.sent(),console.error("Setting values on variable failed",h),[3,6];case 6:return[2,{renamedVariableKeys:l,variableKeyMap:u,referenceVariableCandidates:s}]}}))})),om.apply(this,arguments)}function im(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function am(e,t,r,n){var o,i,a,u,s=n||(null==r?void 0:r.baseFontSize);return a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){im(e,t,r[t])}))}return e}({},e),u=null!=(u={value:"string"==typeof e.value||"number"==typeof e.value?Eu(String(e.value),e.type,s,!0):e.value,path:e.name.split(".").join("/"),variableId:null!==(i=null===(o=t.$figmaVariableReferences)||void 0===o?void 0:o[e.name])&&void 0!==i?i:""})?u:{},Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(u)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(u,e))})),a}new Rg([]),r(35708);var um=function(e){var t=null==e?void 0:e.toString().match(Tv);return t?t.map((function(e){return e.startsWith("{")?e.slice(1,e.length-1):e.substring(1)})):null},sm=function(e){for(var t=[],r=0,n=0,o=0;o<e.length;o+=1)"{"===e[o]&&(0===r&&(n=o),r+=1),"}"===e[o]&&r>0&&0==(r-=1)&&t.push(e.substring(n,o+1));return t.concat(function(e){return null==e?void 0:e.toString().match(Pv)}(e)||[])};function lm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cm(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){lm(e,t,r[t])}))}return e}function fm(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function pm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=function(e){return"object"!=typeof e||"object"!=typeof e.value||(null==e?void 0:e.type)!==qa.BOX_SHADOW&&(null==e?void 0:e.type)!==qa.TYPOGRAPHY&&(null==e?void 0:e.type)!==qa.BORDER?function(e){return!(!e||"object"!=typeof e||!("value"in e)||void 0===e.value||null===e.value||"object"==typeof e.value&&e&&"value"in e.value)}(e)?e.value.toString():e.toString():e.value}(e);try{var i="string"==typeof o?sm(o):null;if(null==i?void 0:i.length){var a=Array.from(i).map((function(o){if(o.length>1){var i,a;if(a=o.startsWith("{")?o.slice(1,o.length-1):o.substring(1),"object"==typeof e&&a===e.name||a===e)return function(e){return!(!e||"object"!=typeof e||!(Xa.tokenValueKey in e)||void 0===e[Xa.tokenValueKey]||null===e[Xa.tokenValueKey]||"object"==typeof e[Xa.tokenValueKey]&&e&&Xa.tokenValueKey in e[Xa.tokenValueKey])}(e)?e.value.toString():e.toString();var u=sm(a);(null==u?void 0:u.length)&&(a=String(pm(a,t,r,n)));var s=a.split("."),l=s.pop(),c=s.join("."),f=Number(s.pop()),p=s.join("."),h=t.find((function(e){return e.name===a||e.name===c||e.name===p}));if((null==h?void 0:h.name)===a)return pm(h,t,r,n);if(l&&(null==h?void 0:h.name)===c&&(null===(i=h.value)||void 0===i?void 0:i.hasOwnProperty(l))){var d=h.value;if("object"==typeof d&&!Array.isArray(d))return pm(d[l],t,r,n)}if(void 0!==f&&l&&(null==h?void 0:h.name)===p&&Array.isArray(null==h?void 0:h.rawValue)&&(null==h?void 0:h.rawValue[f])&&(null==h?void 0:h.rawValue[f].hasOwnProperty(l)))return pm((null==h?void 0:h.rawValue[f])[l]||f,t,r,n)}return o}));i.forEach((function(e,t){var r=a[t];o=function(e,t,r){if("object"==typeof r)return r;if(e&&("string"==typeof e||"number"==typeof e)){var n=Sg(String(r));return e.replace(t,String(n))}return e}(o,e,r)})),"null"===o&&(o=null)}if(o&&"string"==typeof o&&!um(o)){var u,s,l=Sg(o);if("number"==typeof l)return l;var c,f,p,h,d,y,v,b,g,m,w,S,E,O,x,k,A,T,P,I,_=xg(l);return"string"!=typeof e&&"number"!=typeof e&&(null==e||null===(s=e.$extensions)||void 0===s||null===(u=s["studio.tokens"])||void 0===u?void 0:u.modify)&&_&&!r&&0===n?(null==e||null===(p=e.$extensions)||void 0===p||null===(f=p["studio.tokens"])||void 0===f||null===(c=f.modify)||void 0===c?void 0:c.type)===Za.MIX&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{var r=!1;if("string"==typeof e)r=Boolean(e.match(Tv));else if(e.type===qa.TYPOGRAPHY||e.type===qa.BOX_SHADOW||e.type===qa.BORDER)r="string"==typeof e.value?Boolean(String(e.value).match(Tv)):(Array.isArray(e.value)?e.value:[e.value]).some((function(e){return Object.values(e).some((function(e){return Boolean(null==e?void 0:e.toString().match(Tv))}))}));else{if(e.type===qa.COMPOSITION)return!0;r=Boolean(e.value.toString().match(Tv))}if(r)return null!=pm(e,t)}catch(r){console.log("Error checking alias of token ".concat("object"==typeof e?e.name:e),e,t,r)}return!1}(null==e||null===(y=e.$extensions)||void 0===y||null===(d=y["studio.tokens"])||void 0===d||null===(h=d.modify)||void 0===h?void 0:h.color)?kg(_,fm(cm({},null===(E=e.$extensions)||void 0===E||null===(S=E["studio.tokens"])||void 0===S?void 0:S.modify),{value:String(pm(null==e||null===(k=e.$extensions)||void 0===k||null===(x=k["studio.tokens"])||void 0===x||null===(O=x.modify)||void 0===O?void 0:O.value,t)),color:null!==(I=String(pm(null==e||null===(P=e.$extensions)||void 0===P||null===(T=P["studio.tokens"])||void 0===T||null===(A=T.modify)||void 0===A?void 0:A.color,t,r,n)))&&void 0!==I?I:""})):kg(_,fm(cm({},null===(b=e.$extensions)||void 0===b||null===(v=b["studio.tokens"])||void 0===v?void 0:v.modify),{value:String(pm(null==e||null===(w=e.$extensions)||void 0===w||null===(m=w["studio.tokens"])||void 0===m||null===(g=m.modify)||void 0===g?void 0:g.value,t,r,n))})):_}}catch(r){return console.log("Error getting alias value of ".concat(JSON.stringify(e,null,2)),t),null}return o&&"string"==typeof o?Sg(o):o}function hm(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function dm(e){return ym.apply(this,arguments)}function ym(){return ym=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){hm(i,n,o,a,u,"next",e)}function u(e){hm(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,i,a,u,s,l,c,f,p,h,d,y,v,b,g;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(m){switch(m.label){case 0:return t=e.collection,r=e.mode,n=e.theme,o=e.tokens,i=e.settings,a=e.filterByTokenSet,u=e.overallConfig,s=e.progressTracker,l=new Rg([]),c=Vg({theme:n,tokens:o,filterByTokenSet:a,overallConfig:u,themeTokenResolver:l}),f=c.tokensToCreate,p=c.resolvedTokens,h=i.baseFontSize,i.aliasBaseFontSize&&(d=pm(i.aliasBaseFontSize,p))&&"string"==typeof d&&(h=d),y=figma.variables.getLocalVariables().filter((function(e){return e.variableCollectionId===t.id})),v=[],f.forEach((function(e){Wg(e,i)&&v.push(am(e,n,i,h))})),[4,nm(y,v,t,r,h,i.renameExistingStylesAndVariables,s)];case 1:return b=m.sent(),g=[],i.removeStylesAndVariablesWithoutConnection&&y.filter((function(e){return!Object.values(b.variableKeyMap).includes(e.key)})).forEach((function(e){g.push(e.key),e.remove()})),[2,{variableIds:b.variableKeyMap,referenceVariableCandidate:b.referenceVariableCandidates,removedVariables:g}]}}))})),ym.apply(this,arguments)}function vm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bm(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function gm(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){bm(i,n,o,a,u,"next",e)}function u(e){bm(i,n,o,a,u,"throw",e)}a(void 0)}))}}function mm(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function wm(e,t){return Sm.apply(this,arguments)}function Sm(){return Sm=gm((function(t,r){var n,o,i,a,u;return mm(this,(function(s){switch(s.label){case 0:return n=[],[4,Fc()];case 1:return o=s.sent(),i=new Map,o.forEach((function(e){var t=e.name.split("/").join("."),r=i.get(t)||[];r.push(e),i.set(t,r)})),a=new Map,u=0,[4,Pp(r,100,function(){var e=gm((function(e){var r,o,u,s,l,c,f;return mm(this,(function(p){switch(p.label){case 0:if(r=i.get(e.referenceVariable)||[],o=r.find((function(t){return t.variableCollectionId===e.variable.variableCollectionId})),!(u=o?o.key:t.get(e.referenceVariable)))return[2];if(s=a.get(u))return[3,4];p.label=1;case 1:return p.trys.push([1,3,,4]),[4,figma.variables.importVariableByKeyAsync(u)];case 2:return(s=p.sent())&&a.set(u,s),[3,4];case 3:return l=p.sent(),console.log("error importing variable",l),r.length>0&&(c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return vm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vm(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r,1),s=c[0],console.log("Using fallback variable by name: ".concat(s.name," (id: ").concat(s.id,")"))),[3,4];case 4:if(!s)return[2];p.label=5;case 5:return p.trys.push([5,7,,8]),[4,e.variable.setValueForMode(e.modeId,{type:"VARIABLE_ALIAS",id:s.id})];case 6:return p.sent(),n.push(e.variable),[3,8];case 7:return f=p.sent(),console.log("error setting value for mode",f,e,s),[3,8];case 8:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),(function(t,n){if(r.length>10){var o=t-u;M({type:e.COMPLETE_JOB_TASKS,name:et.UI_LINK_VARIABLE_REFERENCES,count:o,timePerTask:15}),u=t}}))];case 2:return s.sent(),[2,n]}}))})),Sm.apply(this,arguments)}function Em(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Om(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function xm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Em(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Em(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function km(){return Am.apply(this,arguments)}function Am(){return Am=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Om(i,n,o,a,u,"next",e)}function u(e){Om(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e,t,r,n,o=arguments;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){switch(i.label){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:[],t=o.length>1&&void 0!==o[1]?o[1]:[],[4,Fc()];case 1:return r=i.sent(),n=new Map,e.forEach((function(e){e.$figmaVariableReferences&&Object.entries(e.$figmaVariableReferences).forEach((function(e){var t=xm(e,2),r=t[0],o=t[1];n.has(r)||n.set(r,o)}))})),t.forEach((function(e){e.$figmaVariableReferences&&Object.entries(e.$figmaVariableReferences).forEach((function(e){var t=xm(e,2),r=t[0],o=t[1];n.has(r)||n.set(r,o)}))})),r.forEach((function(e){var t=e.name.split("/").join(".");n.has(t)||n.set(t,e.key)})),[2,n]}}))})),Am.apply(this,arguments)}function Tm(e,t,r){var n,o,i=r.find((function(t){return t.name===e}));if(i){n=i;var a=i.modes.find((function(e){return e.name===t}));o=null==a?void 0:a.modeId}return{collection:n,modeId:o}}function Pm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return e.length<=t?e:"".concat(e.substring(0,t-3),"...")}function Im(e){return Pm(e,40)}function _m(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Rm(e,t){return Nm.apply(this,arguments)}function Nm(){return Nm=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_m(i,n,o,a,u,"next",e)}function u(e){_m(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t){var r;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(n){switch(n.label){case 0:return[4,figma.variables.getLocalVariableCollectionsAsync()];case 1:return r=n.sent(),[2,e.filter((function(e){return t.includes(e.id)})).reduce((function(e,t){var n,o,i=Pm(null!==(n=t.group)&&void 0!==n?n:t.name,255),a=null!==(o=t.group)&&void 0!==o?o:t.name,u=e.find((function(e){return e.name===i||e.name===a}))||r.find((function(e){return e.id===t.$figmaCollectionId||e.name===i||e.name===a}));if(u){u.name!==i&&(u.name=i);var s=Im(t.name),l=u.modes.find((function(e){return e.modeId===t.$figmaModeId||e.name===t.name||e.name===s}));return l?l.name!==s&&u.renameMode(l.modeId,s):function(e,t){try{return e.addMode(Im(t))}catch(e){if(o=e,null!=(i=Error)&&"undefined"!=typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](o):o instanceof i){var r=/Limited to (\d) modes only/.exec(e.message);if(r){var n=Number(r[1])>1;N("Your Figma plan only allows creation of ".concat(r[1]," ").concat(n?"modes":"mode"),{error:!0})}else console.error("Error",e.message,e.stack)}else console.log(e)}var o,i}(u,t.name),e.push(u),e}var c=figma.variables.createVariableCollection(i);return c.renameMode(c.modes[0].modeId,Im(t.name)),e.push(c),e}),[])]}}))})),Nm.apply(this,arguments)}function Mm(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function jm(e,t,r){return Cm.apply(this,arguments)}function Cm(){return Cm=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Mm(i,n,o,a,u,"next",e)}function u(e){Mm(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(r,n,o){var i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O,x,k,A,T,P,I,_,j,C,L,D,B,F;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(G){switch(G.label){case 0:return[4,R.PluginInstance.message({type:t.GET_THEME_INFO})];case 1:return l=G.sent(),c=l.themes.filter((function(e){return null==o?void 0:o.includes(e.id)})),f={},p=[],h=[],d=[],[4,Fc()];case 2:return y=null===(i=G.sent())||void 0===i?void 0:i.length,v=null===(a=figma.variables.getLocalVariableCollections())||void 0===a?void 0:a.length,b=0,(n.variablesBoolean||n.variablesColor||n.variablesNumber||n.variablesString)&&o&&o.length>0?(M({type:e.START_JOB,job:{name:et.UI_PREPARING_VARIABLES,isInfinite:!0}}),g=function(e,t){return t.reduce((function(t,r){var n=e.find((function(e){return e.id===r}));return n?(Object.entries(n.selectedTokenSets).forEach((function(e){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cg(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2),n=r[0],o=r[1];(o===rc.ENABLED||o===rc.SOURCE&&t[n]!==rc.ENABLED)&&(t[n]=o)})),t):t}),{})}(l.themes,o),[4,Rm(l.themes,o)]):[3,16];case 3:return m=G.sent(),w=c.reduce((function(e,t){return e+Vg({theme:t,tokens:r,overallConfig:g}).tokensToCreate.filter((function(e){return Wg(e,n)})).length}),0),M({type:e.COMPLETE_JOB,name:et.UI_PREPARING_VARIABLES}),S=null,w>10?(M({type:e.COMPLETE_JOB,name:et.UI_CREATEVARIABLES}),[4,new Promise((function(e){setTimeout(e,100)}))]):[3,5];case 4:G.sent(),S=new Tt(et.UI_CREATEVARIABLES),M({type:e.START_JOB,job:{name:et.UI_CREATEVARIABLES,timePerTask:10,totalTasks:w,completedTasks:0}}),G.label=5;case 5:E=!0,O=!1,x=void 0,G.label=6;case 6:G.trys.push([6,11,12,13]),k=c[Symbol.iterator](),G.label=7;case 7:return(E=(A=k.next()).done)?[3,10]:(T=A.value,I=Tm(null!==(P=T.group)&&void 0!==P?P:T.name,T.name,m),_=I.collection,j=I.modeId,_&&j?[4,dm({collection:_,mode:j,theme:T,tokens:r,settings:n,overallConfig:g,progressTracker:S})]:[3,9]);case 8:C=G.sent(),b+=C.removedVariables.length,Object.keys(C.variableIds).length>0&&(f[T.id]={collectionId:_.id,modeId:j,variableIds:C.variableIds},p=p.concat(C.referenceVariableCandidate)),h.push(_),G.label=9;case 9:return E=!0,[3,7];case 10:return[3,13];case 11:return L=G.sent(),O=!0,x=L,[3,13];case 12:try{E||null==k.return||k.return()}finally{if(O)throw x}return[7];case 13:return[4,km(c,l.themes)];case 14:return D=G.sent(),w>10&&M({type:e.COMPLETE_JOB,name:et.UI_CREATEVARIABLES}),p.length>10&&M({type:e.START_JOB,job:{name:et.UI_LINK_VARIABLE_REFERENCES,timePerTask:15,totalTasks:p.length,completedTasks:0}}),[4,wm(D,p)];case 15:d=G.sent(),p.length>10&&M({type:e.COMPLETE_JOB,name:et.UI_LINK_VARIABLE_REFERENCES}),G.label=16;case 16:return[4,Fc()];case 17:return b+=null!==(B=null===(u=G.sent())||void 0===u?void 0:u.length)&&void 0!==B?B:0,F=null===(s=figma.variables.getLocalVariableCollections())||void 0===s?void 0:s.length,N(b===y?"No variables were created":"".concat(F-v," collections and ").concat(b-y," variables created")),[2,{allVariableCollectionIds:f,totalVariables:d.length}]}}))})),Cm.apply(this,arguments)}function Lm(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Dm=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Lm(i,n,o,a,u,"next",e)}function u(e){Lm(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return[4,jm(e.tokens,e.settings,e.selectedThemes)];case 1:return[2,{variableIds:(t=r.sent()).allVariableCollectionIds,totalVariables:t.totalVariables}]}}))}));return function(t){return e.apply(this,arguments)}}();function Bm(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Fm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gm(e,t,r){return Um.apply(this,arguments)}function Um(){return Um=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Bm(i,n,o,a,u,"next",e)}function u(e){Bm(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(t,r,n){var o,i,a,u,s,l,c,f,p,h,d,y,v,b,g,m,w,S,E,O,x,k,A,T,P,I,_,R,j,C;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(L){switch(L.label){case 0:return a={},u=[],s=[],l=[],[4,Fc()];case 1:return c=L.sent().length,f=figma.variables.getLocalVariableCollections().length,p=0,r.variablesBoolean||r.variablesColor||r.variablesNumber||r.variablesString?(h=n.reduce((function(e,t){return t.status===rc.ENABLED&&e.push({selectedTokenSets:Fm({},t.set,t.status),id:t.set,name:t.set}),e}),[]),d=n.map((function(e){return e.set})),[4,Rm(h,d)]):[3,16];case 2:return y=L.sent(),v=n.reduce((function(e,t){return e[t.set]=t.status,e}),{}),b=n.reduce((function(e,n){return n.status===rc.ENABLED?e+Vg({theme:{id:"123",name:n.set,selectedTokenSets:Fm({},n.set,n.status)},tokens:t,overallConfig:v,filterByTokenSet:n.set}).tokensToCreate.filter((function(e){return Wg(e,r)})).length:e}),0),g=null,b>10?(M({type:e.COMPLETE_JOB,name:et.UI_CREATEVARIABLES}),[4,new Promise((function(e){setTimeout(e,100)}))]):[3,4];case 3:L.sent(),g=new Tt(et.UI_CREATEVARIABLES),M({type:e.START_JOB,job:{name:et.UI_CREATEVARIABLES,timePerTask:10,totalTasks:b,completedTasks:0}}),L.label=4;case 4:m=0,w=!0,S=!1,E=void 0,L.label=5;case 5:L.trys.push([5,11,12,13]),O=n[Symbol.iterator](),L.label=6;case 6:return(w=(x=O.next()).done)?[3,10]:(k=x.value).status!==rc.ENABLED?[3,9]:(A=Tm(k.set,k.set,y),T=A.collection,P=A.modeId,T&&P?[4,dm({collection:T,mode:P,theme:{id:"123",name:k.set,selectedTokenSets:Fm({},k.set,k.status)},overallConfig:v,tokens:t,settings:r,filterByTokenSet:k.set,progressTracker:g})]:[3,8]);case 7:I=L.sent(),p+=I.removedVariables.length,Object.keys(I.variableIds).length>0&&(a[m]={collectionId:T.id,modeId:P,variableIds:I.variableIds},u=u.concat(I.referenceVariableCandidate)),s.push(T),L.label=8;case 8:m+=1,L.label=9;case 9:return w=!0,[3,6];case 10:return[3,13];case 11:return _=L.sent(),S=!0,E=_,[3,13];case 12:try{w||null==O.return||O.return()}finally{if(S)throw E}return[7];case 13:return[4,km([],h)];case 14:return R=L.sent(),b>10&&M({type:e.COMPLETE_JOB,name:et.UI_CREATEVARIABLES}),u.length>10&&M({type:e.START_JOB,job:{name:et.UI_LINK_VARIABLE_REFERENCES,timePerTask:15,totalTasks:u.length,completedTasks:0}}),[4,wm(R,u)];case 15:l=L.sent(),u.length>10&&M({type:e.COMPLETE_JOB,name:et.UI_LINK_VARIABLE_REFERENCES}),L.label=16;case 16:return[4,Fc()];case 17:return p+=null!==(j=null===(o=L.sent())||void 0===o?void 0:o.length)&&void 0!==j?j:0,[4,figma.variables.getLocalVariableCollectionsAsync()];case 18:return C=null===(i=L.sent())||void 0===i?void 0:i.length,N(p===c?"No variables were created":"".concat(C-f," collections and ").concat(p-c," variables created")),[2,{allVariableCollectionIds:a,totalVariables:l.length}]}}))})),Um.apply(this,arguments)}function Vm(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Wm=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Vm(i,n,o,a,u,"next",e)}function u(e){Vm(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return[4,Gm(e.tokens,e.settings,e.selectedSets)];case 1:return[2,{variableIds:(t=r.sent()).allVariableCollectionIds,totalVariables:t.totalVariables}]}}))}));return function(t){return e.apply(this,arguments)}}();function zm(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Hm(){return $m.apply(this,arguments)}function $m(){return $m=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){zm(i,n,o,a,u,"next",e)}function u(e){zm(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(e){switch(e.label){case 0:return[4,Fc()];case 1:return[2,e.sent().reduce((function(e,t){return e[t.key]=t,e}),{})]}}))})),$m.apply(this,arguments)}function Ym(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Km(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ym(i,n,o,a,u,"next",e)}function u(e){Ym(i,n,o,a,u,"throw",e)}a(void 0)}))}}function qm(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var Jm=function(){var e=Km((function(e){var t,r;return qm(this,(function(n){switch(n.label){case 0:return[4,Hm()];case 1:return t=n.sent(),r={},[4,Promise.all(e.variableIds.map(function(){var e=Km((function(e){var n;return qm(this,(function(o){switch(o.label){case 0:return t[e]?(r[e]={name:t[e].name,key:t[e].key},[3,3]):[3,1];case 1:return[4,figma.variables.importVariableByKeyAsync(e)];case 2:(n=o.sent())&&(r[e]={name:n.name,key:n.key}),o.label=3;case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}()))];case 2:return n.sent(),[2,{resolvedValues:r}]}}))}));return function(t){return e.apply(this,arguments)}}();function Xm(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Zm=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Xm(i,n,o,a,u,"next",e)}function u(e){Xm(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,i,a,u;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(s){return t=e.tokens,r=e.theme,n=figma.variables.getLocalVariableCollections(),o=n.find((function(e){var t;return e.name===(null!==(t=r.group)&&void 0!==t?t:r.name)})),i=null==o?void 0:o.modes.find((function(e){return e.name===r.name})),a=new Map(figma.variables.getLocalVariables().filter((function(e){return e.variableCollectionId===(null==o?void 0:o.id)})).map((function(e){return[e.name,e]}))),o&&i?(u={},Vg({theme:r,tokens:t}).tokensToCreate.forEach((function(e){var t=a.get(e.name.split(".").join("/"));t&&(u[e.name]=t.key)})),[2,{variableInfo:{collectionId:o.id,modeId:i.modeId,variableIds:u}}]):[2,{variableInfo:null}]}))}));return function(t){return e.apply(this,arguments)}}();function Qm(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function ew(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tw(e){return rw.apply(this,arguments)}function rw(){return rw=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Qm(i,n,o,a,u,"next",e)}function u(e){Qm(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var r,n,o;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(i){switch(i.label){case 0:return[4,R.PluginInstance.message({type:t.GET_THEME_INFO})];case 1:return r=i.sent(),[4,Hm()];case 2:return n=i.sent(),o=e.map((function(e){var t,o,i=[];return r.themes.reduce((function(t,r){var n,o;return(null===(n=r.$figmaVariableReferences)||void 0===n?void 0:n[e.newName])&&t.push(null===(o=r.$figmaVariableReferences)||void 0===o?void 0:o[e.newName]),t}),[]).forEach((function(t){var r=n[t];r&&(r.name=e.newName.split(".").join("/"),i.push(r.key))})),t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ew(e,t,r[t])}))}return e}({},e),o=null!=(o={variableIds:i})?o:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})),t})),[2,o]}}))})),rw.apply(this,arguments)}function nw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var ow=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){nw(i,n,o,a,u,"next",e)}function u(e){nw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return t={},[4,tw(e.tokens)];case 1:return[2,(t.renameVariableToken=r.sent(),t)]}}))}));return function(t){return e.apply(this,arguments)}}();function iw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function uw(e){return sw.apply(this,arguments)}function sw(){return sw=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){aw(i,n,o,a,u,"next",e)}function u(e){aw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var r,n,o,i;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return[4,R.PluginInstance.message({type:t.GET_THEME_INFO})];case 1:return n=a.sent(),[4,Hm()];case 2:return o=a.sent(),[4,figma.variables.getLocalVariablesAsync()];case 3:return i=null===(r=a.sent())||void 0===r?void 0:r.reduce((function(e,t){return e[t.name]=t,e}),{}),n.themes.forEach((function(t){var r;if(Object.entries(t.selectedTokenSets).some((function(t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return iw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2),n=r[0];return r[1]===rc.ENABLED&&n===e.parent}))&&(null===(r=t.$figmaVariableReferences)||void 0===r?void 0:r[e.name])&&t.$figmaModeId){var a,u=o[null==t||null===(a=t.$figmaVariableReferences)||void 0===a?void 0:a[e.name]];if(Object.values(n.activeTheme).includes(t.id))if(Qg(e)){var s,l,c="";c=e.rawValue&&(null===(s=e.rawValue)||void 0===s?void 0:s.toString().startsWith("{"))?null===(l=e.rawValue)||void 0===l?void 0:l.toString().slice(1,e.rawValue.toString().length-1):e.rawValue.toString().substring(1);var f=i[c.split(".").join("/")];f&&u.setValueForMode(t.$figmaModeId,{type:"VARIABLE_ALIAS",id:f.id})}else switch(e.type){case qa.COLOR:"string"==typeof e.value&&Jg(u,t.$figmaModeId,e.value);break;case qa.BOOLEAN:"string"==typeof e.value&&Hg(u,t.$figmaModeId,e.value);break;case qa.TEXT:"string"==typeof e.value&&Zg(u,t.$figmaModeId,e.value);break;case qa.SIZING:case qa.DIMENSION:case qa.BORDER_RADIUS:case qa.BORDER_WIDTH:case qa.SPACING:case qa.NUMBER:Xg(u,t.$figmaModeId,Number(e.value))}}})),[2]}}))})),sw.apply(this,arguments)}function lw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var cw=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){lw(i,n,o,a,u,"next",e)}function u(e){lw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,uw(e.payload)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function fw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var pw=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){fw(i,n,o,a,u,"next",e)}function u(e){fw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,Re.write(e.initialLoad)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function hw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function dw(){return yw.apply(this,arguments)}function yw(){return yw=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){hw(i,n,o,a,u,"next",e)}function u(e){hw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,be.read()];case 1:return(e=t.sent())?[2,e]:[2,{}]}}))})),yw.apply(this,arguments)}function vw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function bw(){return gw.apply(this,arguments)}function gw(){return gw=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){vw(i,n,o,a,u,"next",e)}function u(e){vw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,De.read()];case 1:return(e=t.sent())?[2,e]:[2,[]]}}))})),gw.apply(this,arguments)}function mw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function ww(){return Sw.apply(this,arguments)}function Sw(){return Sw=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){mw(i,n,o,a,u,"next",e)}function u(e){mw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,Le.read()];case 1:return(e=t.sent())?[2,e]:[2,{}]}}))})),Sw.apply(this,arguments)}function Ew(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Ow(){return xw.apply(this,arguments)}function xw(){return xw=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ew(i,n,o,a,u,"next",e)}function u(e){Ew(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e,t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,5]),[4,Ee.read()];case 1:return e=r.sent()||0,[4,Ee.write(Date.now())];case 2:return r.sent(),[3,5];case 3:return t=r.sent(),console.error("error retrieving lastOpened",t),[4,Ee.write(Date.now())];case 4:return r.sent(),e=0,[3,5];case 5:return[2,e]}}))})),xw.apply(this,arguments)}function kw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Aw={sets:!0,exportSets:!0,syncProviders:!0,inspect:!0};function Tw(){return Pw.apply(this,arguments)}function Pw(){return Pw=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){kw(i,n,o,a,u,"next",e)}function u(e){kw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return t.trys.push([0,12,,17]),[4,Ee.read()];case 1:return t.sent()?[4,Oe.read()]:[3,6];case 2:return Aw.sets=t.sent()||!1,[4,xe.read()];case 3:return Aw.exportSets=t.sent()||!1,[4,ke.read()];case 4:return Aw.syncProviders=t.sent()||!1,[4,Ae.read()];case 5:return Aw.inspect=t.sent()||!1,[3,11];case 6:return[4,Oe.write(!0)];case 7:return t.sent(),[4,xe.write(!0)];case 8:return t.sent(),[4,ke.write(!0)];case 9:return t.sent(),[4,Ae.write(!0)];case 10:t.sent(),t.label=11;case 11:return[3,17];case 12:return e=t.sent(),console.error("error retrieving onboardingExplainers",e),[4,Oe.write(!0)];case 13:return t.sent(),[4,xe.write(!0)];case 14:return t.sent(),[4,ke.write(!0)];case 15:return t.sent(),[4,Ae.write(!0)];case 16:return t.sent(),[3,17];case 17:return[2,Aw]}}))})),Pw.apply(this,arguments)}function Iw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function _w(){return Rw.apply(this,arguments)}function Rw(){return Rw=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Iw(i,n,o,a,u,"next",e)}function u(e){Iw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,Se.read()];case 1:return(e=t.sent())?(n=function(e){return Array.isArray(e)},o=function(e){return Object.fromEntries(e.map((function(e){return[e,rc.ENABLED]})))},[2,n(r=e)?o(r):r]):[2,null]}var r,n,o}))})),Rw.apply(this,arguments)}function Nw(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function jw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){jw(e,t,r[t])}))}return e}function Lw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nw(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dw(){return Bw.apply(this,arguments)}function Bw(){return Bw=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Mw(i,n,o,a,u,"next",e)}function u(e){Mw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e,t,r,n,o,i,a,u,s,l,c,f,p,h,d,y,v;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(b){switch(b.label){case 0:return[4,Promise.all([Jf(!1),_w(),dw(),gu(),Ow(),Tw(),Mu(),le.read(),Pe.read(),Re.read(),Cu(),Ie.read(),Rd.read(),ww(),bw()])];case 1:return e=Lw.apply(void 0,[b.sent(),15]),t=e[0],r=e[1],n=e[2],o=e[3],i=e[4],a=e[5],u=e[6],s=e[7],l=e[8],c=e[9],f=e[10],p=e[11],h=e[12],d=e[13],y=e[14],v=t,d&&Object.keys(d).length>0&&(v=Cw({},t,d)),[2,{settings:v,activeTheme:n,lastOpened:i,onboardingExplainer:a,storageType:u,localApiProviders:s,licenseKey:l,initialLoad:null!=c&&c,localTokenData:f?(g=Cw({},f),m={usedTokenSet:r},m=null!=m?m:{},Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(m)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r}(Object(m)).forEach((function(e){Object.defineProperty(g,e,Object.getOwnPropertyDescriptor(m,e))})),g):null,user:figma.currentUser?{userId:o,figmaId:figma.currentUser.id,name:figma.currentUser.name}:null,authData:p,usedEmail:h,selectedExportThemes:y}]}var g,m}))})),Bw.apply(this,arguments)}function Fw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function Gw(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Fw(i,n,o,a,u,"next",e)}function u(e){Fw(i,n,o,a,u,"throw",e)}a(void 0)}))}}function Uw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Uw(e,t,r[t])}))}return e}function Ww(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function zw(){return zw=Gw((function(){return Ww(this,(function(e){return[2,Dw().then(function(){var e=Gw((function(e){var r,n;return Ww(this,(function(o){switch(o.label){case 0:return figma.showUI(__html__,{themeColors:!0,width:null!==(r=e.settings.width)&&void 0!==r?r:ep.width,height:null!==(n=e.settings.height)&&void 0!==n?n:ep.height}),[4,R.PluginInstance.message(Vw({type:t.STARTUP},e))];case 1:return o.sent(),figma.currentPage.selection.length||C(),[2]}}))}));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw e}))]}))})),zw.apply(this,arguments)}function Hw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function $w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yw=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Hw(i,n,o,a,u,"next",e)}function u(e){Hw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(){var e;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return[4,Dw()];case 1:return e=r.sent(),R.PluginInstance.message(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){$w(e,t,r[t])}))}return e}({type:t.STARTUP},e)),[2]}}))}));return function(){return e.apply(this,arguments)}}();function Kw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var qw=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Kw(i,n,o,a,u,"next",e)}function u(e){Kw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=0,[4,Promise.all([figma.getLocalPaintStylesAsync(),figma.getLocalTextStylesAsync(),figma.getLocalEffectStylesAsync()]).then((function(e){return e.flat()}))];case 1:return r.sent().forEach((function(r){e.usedStyleIds.includes(r.id)||(r.remove(),t+=1)})),[2,{countOfRemovedStyles:t}];case 2:return r.sent(),[2,{countOfRemovedStyles:0}];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();function Jw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Xw=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Jw(i,n,o,a,u,"next",e)}function u(e){Jw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,X(ue.TOKENS,de[ue.TOKENS].variableExportSettings,e.settings)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function Zw(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var Qw,eS,tS,rS,nS,oS,iS,aS,uS,sS,lS=function(){var e=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Zw(i,n,o,a,u,"next",e)}function u(e){Zw(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(t){switch(t.label){case 0:return[4,X(ue.TOKENS,de[ue.TOKENS].selectedExportThemes,e.themes)];case 1:return t.sent(),[2]}}))}));return function(t){return e.apply(this,arguments)}}();function cS(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function fS(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){cS(i,n,o,a,u,"next",e)}function u(e){cS(i,n,o,a,u,"throw",e)}a(void 0)}))}}function pS(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function hS(e,t){return dS.apply(this,arguments)}function dS(){return dS=fS((function(e,t){var r,n,o,i,a,u=arguments;return pS(this,(function(s){switch(s.label){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:"Geist Mono",n=u.length>3&&void 0!==u[3]?u[3]:"Regular",o=u.length>4&&void 0!==u[4]?u[4]:12,i=u.length>5&&void 0!==u[5]?u[5]:{r:0,g:0,b:0},[4,figma.loadFontAsync({family:r,style:n})];case 1:return s.sent(),(a=figma.createText()).name=e,a.fontName={family:r,style:n},a.fontSize=o,a.characters=t,a.fills=[{type:"SOLID",color:i}],[2,a]}}))})),dS.apply(this,arguments)}function yS(e,t){return vS.apply(this,arguments)}function vS(){return(vS=fS((function(e,t){var r,n;return pS(this,(function(o){switch(o.label){case 0:return[4,hS("Set Name",e,"Inter","Medium",24,{r:0,g:0,b:0})];case 1:return r=o.sent(),[4,hS("Token Count","".concat(t," tokens"),"Inter","Regular",12,{r:.388,g:.388,b:.388})];case 2:return n=o.sent(),[2,{setNameText:r,tokenCountText:n}]}}))}))).apply(this,arguments)}function bS(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function gS(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){bS(i,n,o,a,u,"next",e)}function u(e){bS(i,n,o,a,u,"throw",e)}a(void 0)}))}}function mS(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}!function(e){e.DROP_SHADOW="dropShadow",e.INNER_SHADOW="innerShadow"}(Qw||(Qw={})),function(e){e.LIGHTEN="lighten",e.DARKEN="darken",e.MIX="mix",e.ALPHA="alpha"}(eS||(eS={})),function(e){e.LCH="lch",e.SRGB="srgb",e.P3="p3",e.HSL="hsl"}(tS||(tS={})),function(e){e.sizing="sizing",e.height="height",e.width="width",e.spacing="spacing",e.verticalPadding="verticalPadding",e.horizontalPadding="horizontalPadding",e.paddingTop="paddingTop",e.paddingRight="paddingRight",e.paddingBottom="paddingBottom",e.paddingLeft="paddingLeft",e.itemSpacing="itemSpacing",e.fill="fill",e.backgroundBlur="backgroundBlur",e.border="border",e.borderTop="borderTop",e.borderRight="borderRight",e.borderBottom="borderBottom",e.borderLeft="borderLeft",e.borderColor="borderColor",e.borderRadius="borderRadius",e.borderRadiusTopLeft="borderRadiusTopLeft",e.borderRadiusTopRight="borderRadiusTopRight",e.borderRadiusBottomRight="borderRadiusBottomRight",e.borderRadiusBottomLeft="borderRadiusBottomLeft",e.borderWidth="borderWidth",e.borderWidthTop="borderWidthTop",e.borderWidthRight="borderWidthRight",e.borderWidthBottom="borderWidthBottom",e.borderWidthLeft="borderWidthLeft",e.boxShadow="boxShadow",e.opacity="opacity",e.fontFamilies="fontFamilies",e.fontWeights="fontWeights",e.fontSizes="fontSizes",e.lineHeights="lineHeights",e.typography="typography",e.composition="composition",e.letterSpacing="letterSpacing",e.paragraphSpacing="paragraphSpacing",e.textCase="textCase",e.dimension="dimension",e.textDecoration="textDecoration",e.asset="asset",e.tokenValue="tokenValue",e.value="value",e.tokenName="tokenName",e.description="description"}(rS||(rS={})),function(e){e.DISABLED="disabled",e.SOURCE="source",e.ENABLED="enabled"}(nS||(nS={})),function(e){e.OTHER="other",e.COLOR="color",e.BORDER_RADIUS="borderRadius",e.SIZING="sizing",e.SPACING="spacing",e.TEXT="text",e.TYPOGRAPHY="typography",e.OPACITY="opacity",e.BORDER_WIDTH="borderWidth",e.STROKE_STYLE="strokeStyle",e.BOX_SHADOW="boxShadow",e.FONT_FAMILIES="fontFamilies",e.FONT_WEIGHTS="fontWeights",e.LINE_HEIGHTS="lineHeights",e.FONT_SIZES="fontSizes",e.LETTER_SPACING="letterSpacing",e.PARAGRAPH_SPACING="paragraphSpacing",e.PARAGRAPH_INDENT="paragraphIndent",e.TEXT_DECORATION="textDecoration",e.TEXT_CASE="textCase",e.COMPOSITION="composition",e.DIMENSION="dimension",e.BORDER="border",e.ASSET="asset",e.BOOLEAN="boolean",e.NUMBER="number"}(oS||(oS={})),function(e){e.BORDER_COLOR="color",e.BORDER_WIDTH="width",e.BORDER_STYLE="style"}(iS||(iS={})),function(e){e.SOLID="solid",e.DASHED="dashed",e.DOTTED="dotted",e.DOUBLE="double",e.GROOVE="groove",e.RIDGE="ridge",e.OUTSET="outset",e.INSET="inset"}(aS||(aS={})),function(e){e.TYPE="type",e.COLOR="color",e.X="x",e.Y="y",e.BLUR="blur",e.SPREAD="spread",e.BLEND_MODE="blendMode"}(uS||(uS={})),function(e){e.FONT_FAMILY="fontFamily",e.FONT_WEIGHT="fontWeight",e.LINE_HEIGHT="lineHeight",e.FONT_SIZE="fontSize",e.LETTER_SPACING="letterSpacing",e.PARAGRAPH_SPACING="paragraphSpacing",e.PARAGRAPH_INDENT="paragraphIndent",e.TEXT_DECORATION="textDecoration",e.TEXT_CASE="textCase"}(sS||(sS={}));var wS={r:1,g:.184,b:.973},SS={r:.95,g:.95,b:.95},ES={r:.996,g:.933,b:.998};function OS(e){return xS.apply(this,arguments)}function xS(){return(xS=gS((function(e){var t,r,n,o,i,a,u,s,l,c,f,p,h,d,y;return mS(this,(function(v){switch(v.label){case 0:return[4,figma.loadFontAsync({family:"Geist Mono",style:"Regular"})];case 1:return v.sent(),[4,figma.loadFontAsync({family:"Geist Mono",style:"Medium"})];case 2:return v.sent(),[4,figma.loadFontAsync({family:"Inter",style:"Regular"})];case 3:switch(v.sent(),(t=figma.createFrame()).name="Token Template - ".concat(e),t.layoutMode="HORIZONTAL",t.itemSpacing=16,t.layoutSizingHorizontal="HUG",t.layoutSizingVertical="HUG",t.paddingLeft=0,t.paddingRight=0,t.paddingTop=8,t.paddingBottom=8,t.cornerRadius=0,t.clipsContent=!1,t.fills=[],(r=figma.createText()).name="__tokenName",r.fontName={family:"Geist Mono",style:"Medium"},r.fontSize=12,r.characters="Token Name",r.fills=[{type:"SOLID",color:{r:0,g:0,b:0}}],t.appendChild(r),r.resize(200,r.height),(n=figma.createText()).name="__tokenValue",n.fontName={family:"Geist Mono",style:"Regular"},n.fontSize=12,n.characters="Token Value",n.fills=[{type:"SOLID",color:{r:0,g:0,b:0}}],t.appendChild(n),n.resize(300,n.height),(o=figma.createText()).name="__value",o.fontName={family:"Geist Mono",style:"Regular"},o.fontSize=12,o.characters="Token Resolved Value",o.fills=[{type:"SOLID",color:{r:0,g:0,b:0}}],t.appendChild(o),o.resize(300,o.height),e){case oS.TYPOGRAPHY:(i=figma.createText()).name="__typography",i.fontName={family:"Inter",style:"Regular"},i.fontSize=16,i.characters="Aa",i.fills=[{type:"SOLID",color:{r:0,g:0,b:0}}],t.appendChild(i);break;case oS.FONT_SIZES:(a=figma.createText()).name="__fontSizes",a.fontName={family:"Inter",style:"Regular"},a.fontSize=16,a.characters="Aa",a.fills=[{type:"SOLID",color:{r:0,g:0,b:0}}],t.appendChild(a);break;case oS.DIMENSION:case oS.PARAGRAPH_INDENT:case oS.LINE_HEIGHTS:case oS.LETTER_SPACING:case oS.SPACING:case oS.SIZING:(u=figma.createFrame()).layoutMode="HORIZONTAL",u.primaryAxisSizingMode="AUTO",u.counterAxisSizingMode="AUTO",u.primaryAxisAlignItems="CENTER",u.counterAxisAlignItems="CENTER",u.itemSpacing=0,u.paddingLeft=0,u.paddingRight=0,u.paddingTop=0,u.paddingBottom=0,u.fills=[],u.clipsContent=!1,(s=figma.createRectangle()).resize(1,16),s.fills=[{type:"SOLID",color:wS}],s.strokes=[],s.name="sizing-left-line",(l=figma.createRectangle()).name="__width",l.resize(100,16),l.fills=[{type:"SOLID",color:ES}],l.strokes=[],(c=figma.createRectangle()).resize(1,16),c.fills=[{type:"SOLID",color:wS}],c.strokes=[],c.name="sizing-right-line",u.appendChild(s),u.appendChild(l),u.appendChild(c),t.appendChild(u);break;case oS.BORDER_RADIUS:(f=figma.createRectangle()).name="__borderRadiusTopLeft",f.resize(16,16),f.fills=[{type:"SOLID",color:ES}],f.strokes=[{type:"SOLID",color:wS}],f.strokeLeftWeight=1,f.strokeTopWeight=1,f.strokeRightWeight=0,f.strokeBottomWeight=0,t.appendChild(f);break;case oS.OPACITY:(p=figma.createRectangle()).name="__opacity",p.resize(16,16),p.cornerRadius=3,p.fills=[{type:"SOLID",color:wS}],t.appendChild(p);break;case oS.BORDER:(h=figma.createRectangle()).name="__border",h.resize(16,16),h.fills=[{type:"SOLID",color:ES}],t.appendChild(h);break;case oS.BOX_SHADOW:(d=figma.createRectangle()).name="__boxShadow",d.resize(16,16),d.cornerRadius=3,d.fills=[{type:"SOLID",color:{r:0,g:0,b:0}}],t.appendChild(d);break;case oS.COLOR:(y=figma.createRectangle()).name="__fill",y.resize(16,16),y.cornerRadius=999,y.fills=[{type:"SOLID",color:wS}],y.strokes=[{type:"SOLID",color:SS}],y.strokeWeight=1,t.appendChild(y)}return[2,t]}}))}))).apply(this,arguments)}function kS(e,t){return AS.apply(this,arguments)}function AS(){return AS=gS((function(e,t){var r,n,o,i;return mS(this,(function(a){switch(a.label){case 0:return(r=figma.createFrame()).name="".concat(e," Heading"),r.layoutMode="VERTICAL",r.itemSpacing=8,r.primaryAxisSizingMode="AUTO",r.counterAxisSizingMode="AUTO",r.fills=[],r.clipsContent=!1,[4,yS(e,t)];case 1:return n=a.sent(),o=n.setNameText,i=n.tokenCountText,r.appendChild(o),r.appendChild(i),[2,r]}}))})),AS.apply(this,arguments)}function TS(){return PS.apply(this,arguments)}function PS(){return(PS=gS((function(){var e;return mS(this,(function(t){return(e=figma.createFrame()).name="Living Documentation",e.layoutMode="VERTICAL",e.itemSpacing=32,e.layoutSizingHorizontal="HUG",e.layoutSizingVertical="HUG",e.paddingLeft=32,e.paddingRight=32,e.paddingTop=32,e.paddingBottom=32,e.clipsContent=!1,[2,e]}))}))).apply(this,arguments)}function IS(){return _S.apply(this,arguments)}function _S(){return _S=gS((function(){var e,t,r,n,o,i,a,u,s;return mS(this,(function(l){switch(l.label){case 0:return[4,figma.loadFontAsync({family:"Inter",style:"Regular"})];case 1:l.sent(),(e=figma.createFrame()).name="Column Headers",e.layoutMode="HORIZONTAL",e.itemSpacing=16,e.layoutSizingHorizontal="HUG",e.layoutSizingVertical="HUG",e.paddingLeft=0,e.paddingRight=0,e.paddingTop=0,e.paddingBottom=16,e.fills=[],e.clipsContent=!1,t=[{name:"Token Name",width:200},{name:"Token Value",width:300},{name:"Resolved Value",width:300},{name:"Visual Preview",width:100}],r=!0,n=!1,o=void 0;try{for(i=t[Symbol.iterator]();!(r=(a=i.next()).done);r=!0)u=a.value,(s=figma.createText()).name="Header - ".concat(u.name),s.fontName={family:"Inter",style:"Regular"},s.fontSize=11,s.characters=u.name,s.fills=[{type:"SOLID",color:{r:.4,g:.4,b:.4}}],s.resize(u.width,s.height),e.appendChild(s)}catch(e){n=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return[2,e]}}))})),_S.apply(this,arguments)}function RS(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var NS=new Map,MS=new Map;function jS(e,t){return CS.apply(this,arguments)}function CS(){return CS=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){RS(i,n,o,a,u,"next",e)}function u(e){RS(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t){var r,n,o,i,a,u,s,l,c,f,p,h,d,y,v;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(b){switch(b.label){case 0:if(NS.clear(),MS.clear(),r=function(e){var t=new Set,r=!0,n=!1,o=void 0;try{for(var i,a=Object.values(e)[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value,s=!0,l=!1,c=void 0;try{for(var f,p=u[Symbol.iterator]();!(s=(f=p.next()).done);s=!0){var h=f.value;t.add(h.type)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}return t}(e),!t)return[3,1];n=!0,o=!1,i=void 0;try{for(a=r[Symbol.iterator]();!(n=(u=a.next()).done);n=!0)s=u.value,MS.set(s,t)}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return[3,9];case 1:l=!0,c=!1,f=void 0,b.label=2;case 2:b.trys.push([2,7,8,9]),p=r[Symbol.iterator](),b.label=3;case 3:return(l=(h=p.next()).done)?[3,6]:(d=h.value,MS.has(d)?[3,5]:[4,OS(d)]);case 4:y=b.sent(),MS.set(d,y),b.label=5;case 5:return l=!0,[3,3];case 6:return[3,9];case 7:return v=b.sent(),c=!0,f=v,[3,9];case 8:try{l||null==p.return||p.return()}finally{if(c)throw f}return[7];case 9:return[2]}}))})),CS.apply(this,arguments)}function LS(e,t){MS.set(e,t)}function DS(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function BS(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){DS(i,n,o,a,u,"next",e)}function u(e){DS(i,n,o,a,u,"throw",e)}a(void 0)}))}}function FS(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function GS(e,t){return US.apply(this,arguments)}function US(){return(US=BS((function(e,t){return FS(this,(function(r){return[2,Et.schedule(BS((function(){var r;return FS(this,(function(n){try{return r=function(e){var t=figma.createFrame();return t.name="".concat(e," Set"),t.layoutMode="VERTICAL",t.itemSpacing=16,t.layoutSizingHorizontal="HUG",t.layoutSizingVertical="HUG",t.fills=[],t.clipsContent=!1,t}(e),t.appendChild(r),[2,r]}catch(t){return console.log("Error creating combined container for set:",e,t),[2,null]}return[2]}))})))]}))}))).apply(this,arguments)}function VS(e,t,r){return WS.apply(this,arguments)}function WS(){return(WS=BS((function(e,t,r){return FS(this,(function(n){switch(n.label){case 0:return[4,Et.schedule(BS((function(){var n,o;return FS(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,kS(e,t)];case 1:return n=i.sent(),r.appendChild(n),[3,3];case 2:return o=i.sent(),console.log("Error creating heading for set:",e,o),[3,3];case 3:return[2]}}))})))];case 1:return n.sent(),[2]}}))}))).apply(this,arguments)}function zS(e,t){return HS.apply(this,arguments)}function HS(){return(HS=BS((function(e,t){return FS(this,(function(r){return[2,Et.schedule(BS((function(){var r;return FS(this,(function(n){try{return r=function(e){var t=figma.createFrame();return t.name="".concat(e," Tokens"),t.layoutMode="VERTICAL",t.itemSpacing=8,t.layoutSizingHorizontal="HUG",t.layoutSizingVertical="HUG",t.fills=[],t.clipsContent=!1,t}(e),t.appendChild(r),[2,r]}catch(t){return console.log("Error creating tokens container for set:",e,t),[2,null]}return[2]}))})))]}))}))).apply(this,arguments)}function $S(e,t,r){return YS.apply(this,arguments)}function YS(){return YS=BS((function(e,t,r){var n,o,i,a,u=arguments;return FS(this,(function(s){switch(s.label){case 0:return n=u.length>3&&void 0!==u[3]&&u[3],[4,GS(e,r)];case 1:return(o=s.sent())?[4,VS(e,t.length,o)]:[2,{combinedContainer:null,tokensContainer:null}];case 2:return s.sent(),n?[3,4]:[4,IS()];case 3:i=s.sent(),o.appendChild(i),s.label=4;case 4:return[4,zS(e,o)];case 5:return a=s.sent(),[2,{combinedContainer:o,tokensContainer:a}]}}))})),YS.apply(this,arguments)}function KS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qS(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function JS(e,t,r,n){return XS.apply(this,arguments)}function XS(){return XS=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){qS(i,n,o,a,u,"next",e)}function u(e){qS(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t,r,n){var o,i,a,u,s,l,c,f,p,h,d,y,v;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(b){switch(b.label){case 0:return o=30,[4,jS(e,n)];case 1:b.sent(),i=!0,a=!1,u=void 0,b.label=2;case 2:b.trys.push([2,10,11,12]),s=Object.entries(e)[Symbol.iterator](),b.label=3;case 3:return(i=(l=s.next()).done)?[3,9]:(c=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return KS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?KS(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(l.value,2),f=c[0],p=c[1],[4,$S(f,p,t,!!n)]);case 4:if(!(h=b.sent().tokensContainer))return[3,8];d=0,b.label=5;case 5:return d<p.length?[4,nE(y=p.slice(d,d+o),r)]:[3,8];case 6:(function(e,t){var r=!0,n=!1,o=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value;t.appendChild(u)}}catch(e){n=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw o}}})(b.sent(),h),console.log("BATCH COMPLETED batch:",y.length),b.label=7;case 7:return d+=o,[3,5];case 8:return i=!0,[3,3];case 9:return[3,12];case 10:return v=b.sent(),a=!0,u=v,[3,12];case 11:try{i||null==s.return||s.return()}finally{if(a)throw u}return[7];case 12:return function(e){NS.clear();var t=!0,r=!1,n=void 0;try{for(var o,i=MS.values()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;a&&a.parent&&a!==e&&a.remove()}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}MS.clear()}(n),[2]}}))})),XS.apply(this,arguments)}function ZS(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function QS(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ZS(i,n,o,a,u,"next",e)}function u(e){ZS(i,n,o,a,u,"throw",e)}a(void 0)}))}}function eE(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function tE(e,t){return rE.apply(this,arguments)}function rE(){return rE=QS((function(e,t){return eE(this,(function(r){return[2,Et.schedule(QS((function(){var r,n,o,i;return eE(this,(function(a){switch(a.label){case 0:console.log("Processing token:",e.name),a.label=1;case 1:return a.trys.push([1,6,7,8]),r=e.type,n=function(e){return MS.get(e)}(r),n?[3,3]:[4,OS(r)];case 2:n=a.sent(),LS(r,n),a.label=3;case 3:return n&&n.id?[3,5]:(console.log("Template not found for token type:",r,"recreating..."),[4,OS(r)]);case 4:n=a.sent(),LS(r,n),a.label=5;case 5:return function(e,t){if("name"in e&&"appendChild"in e){var r=function(e){return NS.get(e)}(e);if(!r){var n=e.findAll((function(e){return!0})).filter((function(e){return e.name.startsWith("__")})),o=n.map((function(e){return{node:e,prop:e.name.replace(/^__/,"")}}));!function(e,t){NS.set(e,t)}(e,o),r=o}var i=JSON.stringify(t.name);r&&r.forEach((function(e){var t=e.node,r=e.prop;t.setSharedPluginData(ue.TOKENS,r,i)}))}}(o=n.clone(),e),[2,o];case 6:return i=a.sent(),console.log("Error processing token:",e.name,i),[2,null];case 7:return t.next(),t.reportIfNecessary(),[7];case 8:return[2]}}))})))]}))})),rE.apply(this,arguments)}function nE(e,t){return oE.apply(this,arguments)}function oE(){return oE=QS((function(e,t){var r,n,o,i,a,u,s,l;return eE(this,(function(c){switch(c.label){case 0:r=new Set,n=!0,o=!1,i=void 0;try{for(a=e[Symbol.iterator]();!(n=(u=a.next()).done);n=!0)s=u.value,r.add(tE(s,t))}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return[4,Promise.all(r)];case 1:return l=c.sent(),r.clear(),[2,l.filter((function(e){return null!==e}))]}}))})),oE.apply(this,arguments)}function iE(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function aE(e,t){return uE.apply(this,arguments)}function uE(){return uE=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){iE(i,n,o,a,u,"next",e)}function u(e){iE(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e,t){var r,n,o,i,a,u,s,l,c,f;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(p){switch(p.label){case 0:return p.trys.push([0,6,,7]),[4,Te.read(figma.root)];case 1:return r=p.sent(),[4,Yc(null!==(n=null==r?void 0:r.prefixStylesWithThemeName)&&void 0!==n&&n)];case 2:return o=p.sent(),i=o.figmaVariableReferences,a=o.figmaStyleReferences,u=o.stylePathPrefix,Os.initiate({tokens:t,variableReferences:i,styleReferences:a,stylePathPrefix:u,ignoreFirstPartForStyles:null!==(s=null==r?void 0:r.ignoreFirstPartForStyles)&&void 0!==s&&s,createStylesWithVariableReferences:null!==(l=null==r?void 0:r.createStylesWithVariableReferences)&&void 0!==l&&l,applyVariablesStylesOrRawValue:(null==r?void 0:r.applyVariablesStylesOrRawValue)||ns.RAW_VALUES}),figma.currentPage.selection=[e],[4,Mt.findBaseNodesWithData({updateMode:At.SELECTION})];case 3:return(c=p.sent()).length>0?[4,lh(c,String((null==r?void 0:r.baseFontSize)||16))]:[3,5];case 4:p.sent(),p.label=5;case 5:return[3,7];case 6:return B("Generation error",{title:"Error applying tokens",error:f=p.sent()}),console.log("Error applying tokens:",f),[3,7];case 7:return[2]}}))})),uE.apply(this,arguments)}function sE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lE(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}var cE=function(){var t=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){lE(i,n,o,a,u,"next",e)}function u(e){lE(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(t){var r,n,o,i,a,u,s,l,c,f,p,h;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(d){switch(d.label){case 0:return r=t.tokenSet,n=t.startsWith,o=t.applyTokens,i=t.resolvedTokens,a=t.useRegex,u=function(e,t,r,n){var o={},i=function(e){if(!r)return!0;if(!n)return e.startsWith(r);try{return new RegExp(r).test(e)}catch(t){return e.startsWith(r)}};if("All"===t)o=e.filter((function(e){return i(e.name)})).reduce((function(e,t){var r=t.internal__Parent||"Default";return e[r]||(e[r]=[]),e[r].push(t),e}),{});else{var a=e.filter((function(e){return i(e.name)&&(e.internal__Parent===t||!e.internal__Parent)}));a.length>0&&(o[t]=a)}return o}(i,r,n,a),(s=Object.values(u).flat().length)?(M({type:e.START_JOB,job:{name:et.UI_CREATE_LIVING_DOCUMENTATION,timePerTask:.5,completedTasks:0,totalTasks:s}}),l=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,u=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return sE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?sE(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(figma.currentPage.selection,1),c=l[0],f=c&&"clone"in c,function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M({type:e.TRACK_FROM_PLUGIN,title:t,opts:r})}("Living Documentation Creation Started in Plugin",{tokenSetChoice:"All"===r?"ALL":"SETS",tokenSetCount:"All"===r?Object.keys(i).length:1,startsWithFilled:!!n.trim(),applyTokensChecked:o,hasUserTemplate:f}),p=new Tt(et.UI_CREATE_LIVING_DOCUMENTATION),[4,TS()]):[2];case 1:return h=d.sent(),[4,JS(u,h,p,f?c:null)];case 2:return d.sent(),figma.currentPage.appendChild(h),o?[4,aE(h,i)]:[3,4];case 3:d.sent(),d.label=4;case 4:return M({type:e.COMPLETE_JOB,name:et.UI_CREATE_LIVING_DOCUMENTATION}),[2]}}))}));return function(e){return t.apply(this,arguments)}}();function fE(e,t,r,n,o,i,a){try{var u=e[i](a),s=u.value}catch(e){return void r(e)}u.done?t(s):Promise.resolve(s).then(n,o)}function pE(){return pE=function(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){fE(i,n,o,a,u,"next",e)}function u(e){fE(i,n,o,a,u,"throw",e)}a(void 0)}))}}((function(e){var t,r,n,o,i;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(a){switch(a.label){case 0:return e.documentChanges?1===e.documentChanges.length&&"PROPERTY_CHANGE"===e.documentChanges[0].type&&"0:0"===e.documentChanges[0].id?[2]:(t=e.documentChanges.filter((function(e){return"REMOTE"===e.origin&&"PROPERTY_CHANGE"===e.type})).map((function(e){return e.id})),r=e.documentChanges.filter((function(e){return"CREATE"===e.type&&"LOCAL"===e.origin})),n=e.documentChanges.filter((function(e){return"PROPERTY_CHANGE"===e.type&&"LOCAL"===e.origin&&(e.properties.includes("componentProperties")||e.properties.includes("variant"))})),t.length>0?[4,Ga()]:[3,2]):[2];case 1:a.sent(),a.label=2;case 2:return r.length>0&&(o=r.map((function(e){return figma.getNodeById(e.id)})).filter((function(e){return e&&"INSTANCE"===e.type}))).length>0&&j(o.length),n.length>0&&(i=n.map((function(e){return figma.getNodeById(e.id)})).filter((function(e){return e&&"INSTANCE"===e.type}))).length>0&&j(i.length),[2]}}))})),pE.apply(this,arguments)}R.PluginInstance.connect(),R.PluginInstance.handle(t.CREDENTIALS,Ze),R.PluginInstance.handle(t.CHANGED_TABS,Wa),R.PluginInstance.handle(t.REMOVE_SINGLE_CREDENTIAL,Ya),R.PluginInstance.handle(t.SET_STORAGE_TYPE,qu),R.PluginInstance.handle(t.SET_ONBOARDINGEXPLAINERSETS,Xu),R.PluginInstance.handle(t.SET_ONBOARDINGEXPLAINEREXPORTSETS,Qu),R.PluginInstance.handle(t.SET_ONBOARDINGEXPLAINERSYNCPROVIDERS,ts),R.PluginInstance.handle(t.SET_ONBOARDINGEXPLAINERINSPECT,os),R.PluginInstance.handle(t.SET_NODE_DATA,Jc),R.PluginInstance.handle(t.REMOVE_TOKENS_BY_VALUE,nf),R.PluginInstance.handle(t.REMAP_TOKENS,lf),R.PluginInstance.handle(t.BULK_REMAP_TOKENS,cd),R.PluginInstance.handle(t.GOTO_NODE,ff),R.PluginInstance.handle(t.SELECT_NODES,hf),R.PluginInstance.handle(t.PULL_STYLES,Tf),R.PluginInstance.handle(t.PULL_VARIABLES,Bf),R.PluginInstance.handle(t.NOTIFY,Gf),R.PluginInstance.handle(t.RESIZE_WINDOW,zf),R.PluginInstance.handle(t.CANCEL_OPERATION,Vf),R.PluginInstance.handle(t.SET_SHOW_EMPTY_GROUPS,Qf),R.PluginInstance.handle(t.SET_UI,np),R.PluginInstance.handle(t.CREATE_ANNOTATION,xp),R.PluginInstance.handle(t.CREATE_LIVING_DOCUMENTATION,cE),R.PluginInstance.handle(t.CREATE_STYLES,eh),R.PluginInstance.handle(t.RENAME_STYLES,id),R.PluginInstance.handle(t.REMOVE_STYLES,gd),R.PluginInstance.handle(t.UPDATE,Dh),R.PluginInstance.handle(t.SET_LICENSE_KEY,Fh),R.PluginInstance.handle(t.SET_INITIAL_LOAD,pw),R.PluginInstance.handle(t.ATTACH_LOCAL_STYLES_TO_THEME,zh),R.PluginInstance.handle(t.RESOLVE_STYLE_INFO,Jh),R.PluginInstance.handle(t.SET_NONE_VALUES_ON_NODE,Ad),R.PluginInstance.handle(t.GET_FIGMA_FONTS,Pd),R.PluginInstance.handle(t.GET_AVAILABLE_VARIABLE_COLLECTIONS,_d),R.PluginInstance.handle(t.REMOVE_STYLES_WITHOUT_CONNECTION,qw),R.PluginInstance.handle(t.SET_AUTH_DATA,wd),R.PluginInstance.handle(t.CREATE_LOCAL_VARIABLES,Dm),R.PluginInstance.handle(t.CREATE_LOCAL_VARIABLES_WITHOUT_MODES,Wm),R.PluginInstance.handle(t.RESOLVE_VARIABLE_INFO,Jm),R.PluginInstance.handle(t.ATTACH_LOCAL_VARIABLES_TO_THEME,Zm),R.PluginInstance.handle(t.RENAME_VARIABLES,ow),R.PluginInstance.handle(t.UPDATE_VARIABLES,cw),R.PluginInstance.handle(t.SET_USED_EMAIL,Md),R.PluginInstance.handle(t.PREVIEW_REQUEST_STARTUP,Yw),R.PluginInstance.handle(t.SET_VARIABLE_EXPORT_SETTINGS,Xw),R.PluginInstance.handle(t.SET_SELECTED_EXPORT_THEMES,lS),figma.on("close",(function(){Et.stop()})),figma.on("selectionchange",(function(){Ga()})),figma.on("documentchange",(function(e){!function(e){pE.apply(this,arguments)}(e)})),figma.codegen.on("generate",(function(e){return function(e){var t=Object.keys(ae).map((function(t){var r=e.node.getSharedPluginData("tokens",t);return r&&"".concat(t,": ").concat(r,";")})).filter((function(e){return e})).join("\n");return[{language:"CSS",code:""===t?"/* No tokens found */":t,title:"Applied tokens (Tokens Studio)"}]}(e)})),function(){zw.apply(this,arguments)}()})()})();
//# sourceMappingURL=code.js.map